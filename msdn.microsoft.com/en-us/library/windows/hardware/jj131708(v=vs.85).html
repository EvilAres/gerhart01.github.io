<!DOCTYPE html>

<html dir="ltr" xmlns="http://www.w3.org/1999/xhtml" lang="en">
    
<!-- Mirrored from msdn.microsoft.com/en-us/library/windows/hardware/jj131708(v=vs.85).aspx by HTTrack Website Copier/3.x [XR&CO'2013], Mon, 17 Mar 2014 17:15:58 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><link rel="canonical" href="http://msdn.microsoft.com/en-us/library/windows/hardware/jj131708(v=vs.85).aspx" />
        <title>Minidrivers and the HID class driver (Windows Drivers)</title>




<meta name="DCS.dcsuri" content="/en-us/library/windows/hardware/jj131708(d=default,l=en-us,v=vs.85).aspx" />

<meta name="NormalizedUrl" content="http://msdn.microsoft.com/en-us/library/windows/hardware/jj131708(d=default,l=en-us,v=vs.85).aspx" />

<meta name="ms.normalizedurl" content="http://msdn.microsoft.com/en-us/library/windows/hardware/jj131708(d=default,l=en-us,v=vs.85).aspx" />

<meta name="VotingContextUrl" content="http://msdn.microsoft.com/en-us/library/windows/hardware/jj131708(d=default,l=en-us,v=vs.85).aspx" />

<meta name="MN" content="61C41DD0-9:30:44 AM" />

<meta name="Search.ShortId" content="jj131708" />

<meta name="ms.shortidmsdn" content="jj131708" />

<meta name="Ms.Locale" content="en-us" />







        
    <link rel="shortcut icon" href="http://msdn.microsoft.com/Areas/Epx/Themes/Windows/Content/Winlogo_favicon.ico" />

    <link rel="stylesheet" type="text/css" href="http://i3.msdn.microsoft.com/Combined.css?resources=0:Topic,0:CodeSnippet,0:ExpandableCollapsibleArea,1:CommunityContent,0:TopicNotInScope,0:FeedViewerBasic,0:ImageSprite,2:Header,2:sprite,1:Toc,1:LibraryMemberFilter,2:Footer,3:DetailedLinkList,3:LinkList,4:Windows;/Areas/Epx/Content/Css:0,/Areas/Library/Content:1,/Areas/Epx/Themes/Windows/Content:2,/Areas/Epx/Themes/Base/Content:3,/Areas/Library/Themes/Windows/Content:4&amp;amp;hashKey=E1AF301680B6D838738C2F52E9149624" /></head>
    <body class="library ">
        <div id="page">
            
            
  
            
    
    

    <div id="ux-header" class=" ltr">
        <div id="headerContainer">
            <div id="logoAndSearchBox">
                <div id="logo">
                    <a href="http://msdn.microsoft.com/windows/" title="Windows"><img alt="Windows" src="http://i.msdn.microsoft.com/Areas/Epx/Themes/Windows/Content/Windows_logo.png"></img></a>       
                </div>
              
        <div id="selectedTab">
            <a class="dropDownToggle" href="javascript:void(0);">Dev Center - Hardware</a>    
        </div>
    <div id="toclevel1_menu" style="display: none;">
        <ul>
                <li><a href="http://msdn.microsoft.com/windows/" title="Dev Center Home">Dev Center Home</a></li>
                <li><a href="http://msdn.microsoft.com/windows/apps/" title="Windows Store apps">Windows Store apps</a></li>
                <li><a href="http://msdn.microsoft.com/ie/" title="Internet Explorer">Internet Explorer</a></li>
                <li><a href="http://msdn.microsoft.com/windows/desktop/" title="Desktop">Desktop</a></li>
                <li><a href="http://msdn.microsoft.com/windows/hardware/" title="Hardware">Hardware</a></li>
        </ul>
        <div style="clear: both"></div>
    </div> 

                
                  

        <div class="SearchBox">   
            <form id="HeaderSearchForm" name="HeaderSearchForm" method="get" onsubmit="return Epx.Controls.SearchBox.searchBoxOnSubmit(this);">
            <input id="HeaderSearchTextBox" name="query" type="text" maxlength="200" onfocus="Epx.Controls.SearchBox.watermarkFocus(event, this.title)" onblur="Epx.Controls.SearchBox.watermarkBlur(event, this.title)" />            
            <button id="HeaderSearchButton" value="" type="submit" class="header-search-button"></button>
            </form>
         
                
                 
    
        </div>

                <div class="Clear"></div>
            </div>
            <div class="Clear"></div>
            <div class="ux-internav">
    <div class="toclevel2"> 
            <a class="normal" href="https://sysdev.microsoft.com/en-us/hardware/" title="Dashboard">Dashboard</a>
            <a class="normal" href="http://msdn.microsoft.com/windows/hardware/gg507680" title="Get Started ">Get Started </a>
            <a class="normal" href="http://msdn.microsoft.com/windows/hardware/gg462970" title="Design">Design</a>
            <a class="active" href="http://msdn.microsoft.com/windows/hardware/ff960953" title="Develop">Develop</a>
            <a class="normal" href="http://msdn.microsoft.com/windows/hardware/gg463010" title="Certify">Certify</a>
    </div>
    <div class="clear"></div>

            </div>
            <div id="signIn">

<a class="scarabLink" href="https://login.live.com/login.srf?wa=wsignin1.0&amp;rpsnv=12&amp;ct=1395073844&amp;rver=6.0.5276.0&amp;wp=MCLBI&amp;wlcxt=MSDN%24MSDN%24MSDN&amp;wreply=http%3a%2f%2fmsdn.microsoft.com%2fen-us%2flibrary%2fwindows%2fhardware%2fjj131708%2528v%3dvs.85%2529.aspx&amp;lc=1033&amp;id=254354&amp;mkt=en-US" title="Sign in">Sign in</a></div>

    

        </div>  
        <div id="blackBar">
    <div class="toclevel3"> 
            <a class="normal" href="http://msdn.microsoft.com/library/windows/hardware/gg454504" title="Systems">Systems</a>
            <a class="normal" href="http://msdn.microsoft.com/library/windows/hardware/gg454505" title="Devices">Devices</a>
            <a class="active" href="http://msdn.microsoft.com/library/windows/hardware/ff557573" title="Drivers">Drivers</a>
            <a class="normal" href="http://msdn.microsoft.com/library/windows/hardware/ff551063(v=vs.85).aspx" title="Debugging">Debugging</a>
            <a class="normal" href="http://msdn.microsoft.com/windows/hardware/gg454513" title="Downloads">Downloads</a>
            <a class="normal" href="http://msdn.microsoft.com/windows/hardware/dn433227.aspx" title="Samples">Samples</a>
            <a class="normal" href="http://msdn.microsoft.com/windows/hardware/gg454517" title="Community">Community</a>
            <a class="normal" href="http://msdn.microsoft.com/windows/hardware/dn550976" title="Archives">Archives</a>
    </div>
    <div class="clear"></div>

        </div>
    </div>


        
            <div id="body">
                







    <div id="leftNav">



<div id="tocnav">
            <div class="toclevel0" data-toclevel="0">
<a data-tochassubtree="true" href="http://msdn.microsoft.com/en-us/library/windows/hardware/ff557557(v=vs.85).aspx" id="ff576019_VS.85_en-us" mtpsaliasid="" mtpsassetid="1ef3e216-1322-42c3-b070-94cddfb2133c_VS.85_en-us" mtpsshortid="ff557557_VS.85_en-us" title="Device and Driver Technologies">Device and Driver Technologies</a>            </div>
            <div class="toclevel0" data-toclevel="0">
<a data-tochassubtree="true" href="http://msdn.microsoft.com/en-us/library/windows/hardware/ff543301(v=vs.85).aspx" id="ff572427_VS.85_en-us" mtpsaliasid="" mtpsassetid="360f3423-58b3-40f3-86dc-a7b27a31ff34_VS.85_en-us" mtpsshortid="ff543301_VS.85_en-us" title="Human Interface Devices">Human Interface Devices</a>            </div>
            <div class="toclevel0" data-toclevel="0">
<a data-tochassubtree="true" href="http://msdn.microsoft.com/en-us/library/windows/hardware/ff539952(v=vs.85).aspx" id="ff572512_VS.85_en-us" mtpsaliasid="" mtpsassetid="19aefe5f-d82a-411f-86ab-5d1d53191524_VS.85_en-us" mtpsshortid="ff539952_VS.85_en-us" title="Design Guide">Design Guide</a>            </div>
            <div class="toclevel0" data-toclevel="0">
<a data-tochassubtree="true" href="http://msdn.microsoft.com/en-us/library/windows/hardware/jj127210(v=vs.85).aspx" id="ff572535_VS.85_en-us" mtpsaliasid="" mtpsassetid="E442CB87-992B-475A-A97F-9C22468BA877_VS.85_en-us" mtpsshortid="jj127210_VS.85_en-us" title="HID Transports">HID Transports</a>            </div>
            <div class="toclevel1" data-toclevel="1">
<a data-tochassubtree="true" href="http://msdn.microsoft.com/en-us/library/windows/hardware/jj127213(v=vs.85).aspx" id="ff572539_VS.85_en-us" mtpsaliasid="" mtpsassetid="5142A2C9-AE6E-4CE6-AF16-2CF811D6C10F_VS.85_en-us" mtpsshortid="jj127213_VS.85_en-us" title="Transport Minidrivers">Transport Minidrivers</a>            </div>
            <div class="toclevel2" data-toclevel="2">
<a href="http://msdn.microsoft.com/en-us/library/windows/hardware/jj131707(v=vs.85).aspx" mtpsaliasid="" mtpsassetid="" mtpsshortid="" title="Binding minidrivers to the HID class">Binding minidrivers to the HID class</a>            </div>
            <div class="toclevel2 current" data-toclevel="2">
<a href="http://msdn.microsoft.com/en-us/library/windows/hardware/jj131708(v=vs.85).aspx" mtpsaliasid="" mtpsassetid="" mtpsshortid="" title="Minidrivers and the HID class driver">Minidrivers and the HID class driver</a>            </div>
            <div class="toclevel2" data-toclevel="2">
<a href="http://msdn.microsoft.com/en-us/library/windows/hardware/jj131709(v=vs.85).aspx" mtpsaliasid="" mtpsassetid="" mtpsshortid="" title="Minidriver requirements for tablet PCs running on earlier versions of Windows">Minidriver requirements for tablet PCs running on earlier versions of Windows</a>            </div>
</div>
        

        

        
        
        <div id="toc-resizable-ew" class="toc-resizable-ew"></div>
        
    </div>
<div id="content" class="content">







        

<div class="topic" xmlns="http://www.w3.org/1999/xhtml">
  <h1 class="title">Minidrivers and the HID class driver</h1>
  
  <div id="mainSection">
<div class="clsServerSDKContent">

</div>
<p>
</p><p>The section includes the following topics about the operation of the HID class driver:</p><ul>
<li>Operational features of the HID class driver</li>
<li>Binding the operation of the HID class driver to a HID minidriver</li>
<li>Communicating with a HID minidriver</li>
</ul>


<h3><a id="Operational_features_of_the_HID_class_driver"></a><a id="operational_features_of_the_hid_class_driver"></a><a id="OPERATIONAL_FEATURES_OF_THE_HID_CLASS_DRIVER"></a>Operational features of the HID class driver</h3>
<p>The HID class driver does the following:</p>
<ul>
<li>
<p>Provides and manages the upper-level interface that kernel-mode drivers and user-mode applications use to access the <a href="http://msdn.microsoft.com/en-us/library/windows/hardware/ff539861(v=vs.85).aspx">HID collections</a> that an input device supports.</p>
<p>The HID class driver transparently manages and routes all communication between upper-level drivers and applications and the underlying input devices that support HID collections. It manages the different data protocols that are used by different input devices and input queues that support more than one open file on the same HID collection.</p>
<p>The upper-level interface to HID collections consists of the <a href="http://msdn.microsoft.com/en-us/library/windows/hardware/ff539849(v=vs.85).aspx">HID class driver IOCTLs</a>, the <a href="http://msdn.microsoft.com/en-us/library/windows/hardware/ff538865(v=vs.85).aspx">HIDClass support routines</a>, and the <a href="http://msdn.microsoft.com/en-us/library/windows/hardware/ff538854(v=vs.85).aspx">HIDClass structures</a>.</p>
</li>
<li>
<p>Communicates with a HID minidriver by calling the minidriver's standard driver routines.</p>
</li>
<li>
<p>Creates a functional device object (<a href="http://msdn.microsoft.com/en-us/library/windows/hardware/ff556280(v=vs.85).aspx#wdkgloss.fdo"><em xmlns="http://www.w3.org/1999/xhtml">FDO</em></a>) for HIDClass input devices enumerated by a lower-level bus or port driver.</p>
<p>For example, the HID class driver creates and manages the operations of an FDO that represents a USB HID device enumerated by the system-supplied USB driver stack.</p>
</li>
<li>
<p>Provides the functionality of a bus driver for the child devices (HID collections) supported by an underlying input device.</p>
<p>The HID class driver creates a physical device object (<a href="http://msdn.microsoft.com/en-us/library/windows/hardware/ff556325(v=vs.85).aspx#wdkgloss.pdo"><em xmlns="http://www.w3.org/1999/xhtml">PDO</em></a>) for each HID collection supported by an input device and manages the collection's operation.</p>
</li>
</ul>
<h3><a id="Binding_a_minidriver_to_HIDClass"></a><a id="binding_a_minidriver_to_hidclass"></a><a id="BINDING_A_MINIDRIVER_TO_HIDCLASS"></a>Binding a minidriver to HIDClass</h3>
<p>A HID minidriver binds its operation to the HID class driver by calling  <a href="http://msdn.microsoft.com/en-us/library/windows/hardware/ff539835(v=vs.85).aspx"><strong xmlns="http://www.w3.org/1999/xhtml">HidRegisterMinidriver</strong></a> to register itself with the HID class driver. The registration operation does the following:</p>
<ul>
<li>
<p>Saves a copy of the entry points (pointers) to the HID minidriver's standard driver routines in the HID class driver's device extension.</p>
<p>A HID minidriver sets its entry points in the driver object that the minidriver receives as input to its <a href="http://msdn.microsoft.com/en-us/library/windows/hardware/ff544113(v=vs.85).aspx"><strong xmlns="http://www.w3.org/1999/xhtml">DriverEntry</strong></a> routine. The HID minidriver sets these entry points before it registers with the HID class driver.</p>
</li>
<li>
<p>Resets the entry points in the minidriver's driver object to the entry points for the standard driver routines supplied by the HID class driver.</p>
</li>
</ul>
<p>The HID class driver supplies the following standard driver routines:</p>
<ul>
<li>
<p>
<a href="http://msdn.microsoft.com/en-us/library/windows/hardware/ff540521(v=vs.85).aspx"><em xmlns="http://www.w3.org/1999/xhtml">AddDevice</em></a> and <a href="http://msdn.microsoft.com/en-us/library/windows/hardware/ff564886(v=vs.85).aspx"><em xmlns="http://www.w3.org/1999/xhtml">Unload</em></a> routines</p>
</li>
<li>
<p>Dispatch routines for the following I/O requests:</p>
<p>
<a href="http://msdn.microsoft.com/en-us/library/windows/hardware/ff550729(v=vs.85).aspx"><strong xmlns="http://www.w3.org/1999/xhtml">IRP_MJ_CREATE</strong></a>
</p>
<p>
<a href="http://msdn.microsoft.com/en-us/library/windows/hardware/ff550720(v=vs.85).aspx"><strong xmlns="http://www.w3.org/1999/xhtml">IRP_MJ_CLOSE</strong></a>
</p>
<p>
<a href="http://msdn.microsoft.com/en-us/library/windows/hardware/ff550744(v=vs.85).aspx"><strong xmlns="http://www.w3.org/1999/xhtml">IRP_MJ_DEVICE_CONTROL</strong></a>
</p>
<p>
<a href="http://msdn.microsoft.com/en-us/library/windows/hardware/ff550766(v=vs.85).aspx"><strong xmlns="http://www.w3.org/1999/xhtml">IRP_MJ_INTERNAL_DEVICE_CONTROL</strong></a>
</p>
<p>
<a href="http://msdn.microsoft.com/en-us/library/windows/hardware/ff550772(v=vs.85).aspx"><strong xmlns="http://www.w3.org/1999/xhtml">IRP_MJ_PNP</strong></a>
</p>
<p>
<a href="http://msdn.microsoft.com/en-us/library/windows/hardware/ff550813(v=vs.85).aspx"><strong xmlns="http://www.w3.org/1999/xhtml">IRP_MJ_SYSTEM_CONTROL</strong></a>
</p>
</li>
</ul>
<p>The registration process also allocates memory for the HID mindriver device extension. Although the memory is allocated by the HID class driver, only the HID minidriver uses this device extension.</p>
<h3><a id="Communicating_with_a_HID_minidriver"></a><a id="communicating_with_a_hid_minidriver"></a><a id="COMMUNICATING_WITH_A_HID_MINIDRIVER"></a>Communicating with a HID minidriver</h3>
<p>The HID class driver communicates with a HID minidriver by calling the HID minidriver's <a href="http://msdn.microsoft.com/en-us/library/windows/hardware/ff540521(v=vs.85).aspx"><em xmlns="http://www.w3.org/1999/xhtml">AddDevice</em></a>, <a href="http://msdn.microsoft.com/en-us/library/windows/hardware/ff564886(v=vs.85).aspx"><em xmlns="http://www.w3.org/1999/xhtml">Unload</em></a>, and dispatch routines as follows:</p>
<h3><a id="calling_the_adddevice_routine"></a><a id="CALLING_THE_ADDDEVICE_ROUTINE"></a>Calling the AddDevice Routine</h3>
<p>When the HID class driver's <strong>AddDevice</strong> routine is called to create a functional device object (<a href="http://msdn.microsoft.com/en-us/library/windows/hardware/ff556280(v=vs.85).aspx#wdkgloss.fdo"><em xmlns="http://www.w3.org/1999/xhtml">FDO</em></a>), the HID class driver creates the FDO, initializes it, and calls the HID minidriver <strong>AddDevice</strong> routine. The HID minidriver <strong>AddDevice</strong> routine does internal device-specific initialization and, if successful, returns STATUS_SUCCESS. If the HID minidriver <strong>AddDevice</strong> routine is not successful, the HID class driver deletes the FDO and returns the status returned by the HID minidriver <strong>AddDevice</strong> routine.</p>
<h3><a id="calling_the_unload_routine"></a><a id="CALLING_THE_UNLOAD_ROUTINE"></a>Calling the Unload Routine</h3>
<p>When the HID class driver <strong>Unload</strong> routine is called, the HID class driver completes releasing all resources associated with FDO and calls the HID minidriver's <strong>Unload</strong> routine.</p>
<h3><a id="calling_the_dispatch_routines"></a><a id="CALLING_THE_DISPATCH_ROUTINES"></a>Calling the Dispatch Routines</h3>
<p>To operate a device, the HID class driver primarily calls the HID minidriver dispatch routine for internal device control requests.</p>
<p>In addition, when the I/O manager sends Plug and Play, power, or system control requests to the HID class driver for an FDO, the HID class driver processes the request, and calls the HID minidriver's corresponding dispatch routine. </p>
<p>The HID class driver does not send the following requests to the HID minidriver: create, close, or device control.</p>
<h3><a id="Operation_of_a_HID_minidriver"></a><a id="operation_of_a_hid_minidriver"></a><a id="OPERATION_OF_A_HID_MINIDRIVER"></a>Operation of a HID minidriver</h3>
<p>A HID transport minidriver abstracts the operation of a hardware bus or port that your input device attaches to.</p>
<p>HID minidrivers can be built using one of the following frameworks:</p>
<ul>
<li>UMDF – User Mode Driver Framework</li>
<li>KDMF – Kernel Mode Driver Framework</li>
<li>WDM – Legacy Windows Driver Model</li>
</ul>
<p>Microsoft recommends using a Frameworks based solution (KMDF or UMDF (on Windows 8 only)). For more information on each of the driver models, please visit the following sections:</p>
<ul>
<li>KMDF-based HID minidriver, see Creating Framework-based HID Minidrivers</li>
<li>UMDF-based HID minidriver, see Creating UMDF-based HID Minidrivers</li>
</ul>
<p>The following section talks about registering a WDM based HID Minidriver but much of it is pertinent to a KMDF based Frameworks driver also. All HID minidriver must register with the HID class driver, and the HID class driver communicates with the minidriver by calling the minidriver's standard driver routines.</p>
<p>For more information about the functionality that a HID minidriver must support in its standard driver routines, see the following topics:</p>
<ul>
<li>Registering a HID Minidriver</li>
<li>HID Minidriver Driver Extension</li>
<li>Using the HID_DEVICE_EXTENSION Structure</li>
<li>Standard Driver Routines Provided by a HID Minidriver</li>
</ul>
<p>For more information about the HID class driver, see Operation of the HID Class Driver</p>
<h3><a id="Registering_a_HID_minidriver"></a><a id="registering_a_hid_minidriver"></a><a id="REGISTERING_A_HID_MINIDRIVER"></a>Registering a HID minidriver</h3>
<p>After a HID minidriver completes all other driver initialization in its <a href="http://msdn.microsoft.com/en-us/library/windows/hardware/ff544113(v=vs.85).aspx"><strong xmlns="http://www.w3.org/1999/xhtml">DriverEntry</strong></a> routine, the HID minidriver binds its operation to the HID class driver by calling <a href="http://msdn.microsoft.com/en-us/library/windows/hardware/ff539835(v=vs.85).aspx"><strong xmlns="http://www.w3.org/1999/xhtml">HidRegisterMinidriver</strong></a>. </p>
<p>When the HID minidriver registers with the HID class driver, it uses a <a href="http://msdn.microsoft.com/en-us/library/windows/hardware/ff539929(v=vs.85).aspx"><strong xmlns="http://www.w3.org/1999/xhtml">HID_MINIDRIVER_REGISTRATION</strong></a> structure to specify the following: HID revision, the HID minidriver driver object, the size of a HID minidriver device extension, and whether devices are polled or not.</p>
<h3><a id="HID_minidriver_extension"></a><a id="hid_minidriver_extension"></a><a id="HID_MINIDRIVER_EXTENSION"></a>HID minidriver extension</h3>
<p>A HID minidriver device extension is device-specific, and is only used by a HID minidriver. The HID class driver allocates the memory for the minidriver device extension when the class driver creates its device extension for a functional device object (<a href="http://msdn.microsoft.com/en-us/library/windows/hardware/ff556280(v=vs.85).aspx#wdkgloss.fdo"><em xmlns="http://www.w3.org/1999/xhtml">FDO</em></a>). The HID minidriver specifies the size of its device extension when it registers the minidriver with the HID class driver. The size is specified by the <strong>DeviceExtensionSize</strong> member of a <a href="http://msdn.microsoft.com/en-us/library/windows/hardware/ff539929(v=vs.85).aspx"><strong xmlns="http://www.w3.org/1999/xhtml">HID_MINIDRIVER_REGISTRATION</strong></a> structure. </p>
<h3><a id="Using_the_HID_DEVICE_EXTENSION_structure"></a><a id="using_the_hid_device_extension_structure"></a><a id="USING_THE_HID_DEVICE_EXTENSION_STRUCTURE"></a>Using the HID_DEVICE_EXTENSION structure</h3>
<p>A HID minidriver must use a <a href="http://msdn.microsoft.com/en-us/library/windows/hardware/ff539896(v=vs.85).aspx"><strong xmlns="http://www.w3.org/1999/xhtml">HID_DEVICE_EXTENSION</strong></a> structure as the layout for the device extension created by the HID class driver for a functional device object (<a href="http://msdn.microsoft.com/en-us/library/windows/hardware/ff556280(v=vs.85).aspx#wdkgloss.fdo"><em xmlns="http://www.w3.org/1999/xhtml">FDO</em></a>). The HID class driver sets the members of this structure when it initializes the FDO. A HID minidriver must not change the information in this structure.</p>
<p>A HID_DEVICE_EXTENSION structure contains the following members: </p>
<ul>
<li>
<p><strong>PhysicalDeviceObject</strong> is a pointer to the physical device object (PDO) that represents the underlying input device.</p>
</li>
<li>
<p><strong>NextDeviceObject</strong> is a pointer to the top of the device stack beneath the FDO.</p>
</li>
<li>
<p><strong>MiniDeviceExtension</strong> is a pointer to the HID minidriver device extension.</p>
</li>
</ul>
<p>Given a pointer to the FDO of an input device, the following GET_MINIDRIVER_DEVICE_EXTENSION macro returns a pointer to a HID minidriver extension:</p>

<div id="code-snippet-1" class="codeSnippetContainer" xmlns="">
    <div class="codeSnippetContainerTabs">
        
    </div>
    <div class="codeSnippetContainerCodeContainer">
        <div class="codeSnippetToolBar">
            <div class="codeSnippetToolBarText">
                <a name="CodeSnippetCopyLink" style="display: none;" title="Copy to clipboard." href="javascript:if (window.epx.codeSnippet)window.epx.codeSnippet.copyCode('CodeSnippetContainerCode_d0d21e1e-18f3-40ab-a3ef-132a971344f0');">Copy</a>
            </div>
        </div>
        <div id="CodeSnippetContainerCode_d0d21e1e-18f3-40ab-a3ef-132a971344f0" class="codeSnippetContainerCode" dir="ltr">
            <div style="color:Black;"><pre>

#define GET_MINIDRIVER_DEVICE_EXTENSION(DO) ((PDEVICE_EXTENSION) (((PHID_DEVICE_EXTENSION)(DO)-&gt;DeviceExtension)-&gt;MiniDeviceExtension))

</pre></div>
            
        </div>
    </div>
</div>

<p>PDEVICE_EXTENSION is a pointer to a device-specific device extension declared by a HID minidriver. </p>
<p>Similarly, a HID minidriver can obtain a pointer to the input device's PDO and the top of the device stack beneath the input device's FDO.</p>
<p>When a HID minidriver sends an IRP down the device stack, it should use <strong>NextDeviceObject</strong> as the target device object.</p>
<h3><a id="Standard_minidriver_routines"></a><a id="standard_minidriver_routines"></a><a id="STANDARD_MINIDRIVER_ROUTINES"></a>Standard minidriver routines</h3>
<p>A HID minidriver must provide the following standard driver support routines:</p>
<ul>
<li>HID Minidriver DriverEntry Routine</li>
<li>HID Minidriver AddDevice Routine</li>
<li>HID Minidriver Unload Routine</li>
</ul>
<p>A HID minidriver must also support the dispatch routines described in Dispatch Routines Provided by a HID Minidriver.</p>
<h3><a id="DriverEntry_routine"></a><a id="driverentry_routine"></a><a id="DRIVERENTRY_ROUTINE"></a>DriverEntry routine</h3>
<p>The <a href="http://msdn.microsoft.com/en-us/library/windows/hardware/ff544113(v=vs.85).aspx"><strong xmlns="http://www.w3.org/1999/xhtml">DriverEntry</strong></a> routine in a HID minidriver does the following:</p>
<ul>
<li>
<p>Creates a driver object for the linked pair of drivers (HID class driver and a HID minidriver).</p>
</li>
<li>
<p>Sets the required driver entry points in the HID minidriver driver object.</p>
</li>
<li>
<p>Calls <a href="http://msdn.microsoft.com/en-us/library/windows/hardware/ff539835(v=vs.85).aspx"><strong xmlns="http://www.w3.org/1999/xhtml">HidRegisterMinidriver</strong></a> to register the HID minidriver with the HID class driver. </p>
</li>
<li>
<p>Does device-specific configurations that are only used by the HID minidriver.</p>
</li>
</ul>
<h3><a id="AddDevice_routine"></a><a id="adddevice_routine"></a><a id="ADDDEVICE_ROUTINE"></a>AddDevice routine</h3>
<p>The HID class driver handles creating and initializing the functional device object (<a href="http://msdn.microsoft.com/en-us/library/windows/hardware/ff556280(v=vs.85).aspx#wdkgloss.fdo"><em xmlns="http://www.w3.org/1999/xhtml">FDO</em></a>) for an underlying input device. The HID class driver also operates the FDO from the perspective of the upper-level interface to the underlying device and its child devices (HID collections).</p>
<p>The HID class driver <a href="http://msdn.microsoft.com/en-us/library/windows/hardware/ff540521(v=vs.85).aspx"><em xmlns="http://www.w3.org/1999/xhtml">AddDevice</em></a> routine calls the HID minidriver <em>AddDevice</em> routine so that the minidriver can do internal device-specific initialization.</p>
<p>The parameters that are passed to the HID minidriver <a href="http://msdn.microsoft.com/en-us/library/windows/hardware/ff540521(v=vs.85).aspx"><em xmlns="http://www.w3.org/1999/xhtml">AddDevice</em></a> routine are the minidriver driver object and the FDO. (Note that the HID class driver passes the FDO to the minidriver <em>AddDevice</em> routine, not to the physical device object for the underlying input device.)</p>
<p>The HID minidriver <a href="http://msdn.microsoft.com/en-us/library/windows/hardware/ff540521(v=vs.85).aspx"><em xmlns="http://www.w3.org/1999/xhtml">AddDevice</em></a> routine obtains a pointer to the minidriver device extension from the FDO.</p>
<ul>
<li>
<p>Typically, the HID minidriver <a href="http://msdn.microsoft.com/en-us/library/windows/hardware/ff540521(v=vs.85).aspx"><em xmlns="http://www.w3.org/1999/xhtml">AddDevice</em></a> routine does the following: </p>
</li>
<li>
<p>Initializes the minidriver device extension. The device extension is only used by the minidriver.</p>
</li>
<li>
<p>Returns STATUS_SUCCESS. If the minidriver returns an error status, the HID class driver deletes the FDO and returns the error status to the Plug and Play manager.</p>
</li>
</ul>
<h3><a id="Unload_routine"></a><a id="unload_routine"></a><a id="UNLOAD_ROUTINE"></a>Unload routine</h3>
<p>The Unload routine of the HID class driver calls the HID minidriver Unload routine. A HID minidriver releases any internal resources allocated by the minidriver. </p>
<h3><a id="Dispatch_routines"></a><a id="dispatch_routines"></a><a id="DISPATCH_ROUTINES"></a>Dispatch routines</h3>
<p>A HID minidriver must supply the following dispatch routines: create, close, internal device control, system control, Plug and Play, and power management. Except for internal device control requests, most of these dispatch routines provide minimal function. When the HID class driver calls these dispatch routines, it passes the minidriver driver object and the functional device object (<a href="http://msdn.microsoft.com/en-us/library/windows/hardware/ff556280(v=vs.85).aspx#wdkgloss.fdo"><em xmlns="http://www.w3.org/1999/xhtml">FDO</em></a>).</p>
<h3><a id="irp_mj_create"></a><a id="IRP_MJ_CREATE"></a>IRP_MJ_CREATE</h3>
<p>In compliance with WDM requirements, the HID class driver and a HID minidriver provide a dispatch routine for create requests. However, the FDO cannot be opened. The HID class driver returns STATUS_UNSUCCESSFUL.</p>
<p>A HID minidriver only needs to provide a stub. The create dispatch routine is never called.</p>
<h3><a id="irp_mj_close"></a><a id="IRP_MJ_CLOSE"></a>IRP_MJ_CLOSE</h3>
<p>In compliance with WDM requirements, the HID class driver and a HID minidriver must provide a dispatch routine for close requests. However, the FDO cannot be opened. The HID class driver returns STATUS_INVALID_PARAMETER_1.</p>
<p>A HID minidriver only needs to provide a stub. The close dispatch routine is never called.</p>
<h3><a id="irp_mj_device_control"></a><a id="IRP_MJ_DEVICE_CONTROL"></a>IRP_MJ_DEVICE_CONTROL</h3>
<p>A HID minidriver does not need a dispatch routine for device control requests. The HID class driver does not pass device control requests to a minidriver.</p>
<h3><a id="irp_mj_internal_device_control"></a><a id="IRP_MJ_INTERNAL_DEVICE_CONTROL"></a>IRP_MJ_INTERNAL_DEVICE_CONTROL</h3>
<p>A HID minidriver must provide a dispatch routine for internal device control requests that supports the requests described in <a href="http://msdn.microsoft.com/en-us/library/windows/hardware/ff539926(v=vs.85).aspx">HID MinidriverIOCTLs</a>.</p>
<p>The HID class driver primarily uses internal device control requests to access the underlying input device.</p>
<p>The HID minidriver handles these requests in a device-specific way. </p>
<h3><a id="irp_mj_system_control"></a><a id="IRP_MJ_SYSTEM_CONTROL"></a>IRP_MJ_SYSTEM_CONTROL</h3>
<p>A HID minidriver must provide a dispatch routine for system control requests. However, a HID minidriver is only required to pass system control requests down the device stack as follows:</p>
<ul>
<li>
<p>Skip the current IRP stack location</p>
</li>
<li>
<p>Send the request down the FDO's device stack</p>
</li>
</ul>
<h3><a id="irp_mj_pnp"></a><a id="IRP_MJ_PNP"></a>IRP_MJ_PNP</h3>
<p>A HID minidriver must supply a dispatch routine for Plug and Play requests. </p>
<p>The HID class driver does all the Plug and Play processing associated with the FDO. When the HID class driver processes a Plug and Play request, it calls the HID minidriver Plug and Play dispatch routine. </p>
<p>A HID minidriver Plug and Play dispatch routine does the following:</p>
<ul>
<li>
<p>Handles sending the request down the FDO's device stack and completing the request on the way back up the device stack, as appropriate for each type of request.</p>
</li>
<li>
<p>Does device-specific processing associated with certain requests to update information about the state of the FDO. </p>
<p>For example, the minidriver might update the Plug and Play state of the FDO (in particular, whether the FDO is started, stopped, or in the process of being removed).</p>
</li>
</ul>
<h3><a id="irp_mj_power"></a><a id="IRP_MJ_POWER"></a>IRP_MJ_POWER</h3>
<p>The HID minidriver must supply a dispatch routine for power requests. However, the HID class driver handles the power processing for the FDO.</p>
<p>In compliance with WDM requirements, a HID minidriver sends power requests down the FDO's device stack in the following way:</p>
<ul>
<li>
<p>Skips the current IRP stack location</p>
</li>
<li>
<p>Starts the next power IRP</p>
</li>
<li>
<p>Sends the power IRP down the FDO's device stack</p>
</li>
</ul>
<p>Typically, the HID minidriver passes power requests down the device stack without additional processing.</p>
<p> </p>
<p> </p>
<p><a href="mailto:wsddocfb@microsoft.com?subject=Documentation%20feedback [hid\hid]:%20Minidrivers and the HID class driver%20 RELEASE:%20(1/30/2014)&amp;body=%0A%0APRIVACY STATEMENT%0A%0AWe use your feedback to improve the documentation. We don't use your email address for any other purpose, and we'll remove your email address from our system after the issue that you're reporting is fixed. While we're working to fix this issue, we might send you an email message to ask for more info. Later, we might also send you an email message to let you know that we've addressed your feedback.%0A%0AFor more info about Microsoft's privacy policy, see http://privacy.microsoft.com/en-us/default.aspx." title="Send comments about this topic to Microsoft">Send comments about this topic to Microsoft</a></p>
<p>Build date: 1/30/2014</p>
</div>
</div>

    




<div class="libraryMemberFilter">
    <div class="filterContainer">
        <span>Show:</span>
        <label>
            <input type="checkbox" class="libraryFilterInherited" checked="checked" value="Inherit" />Inherited
        </label>
        <label>
            <input type="checkbox" class="libraryFilterProtected" checked="checked" value="Protected" />Protected
        </label>
    </div>
</div>
    
<input type="hidden" id="libraryMemberFilterEmptyWarning" value="There are no members available with your current filter settings." />


 
</div>




            </div>
            <div class="clear"></div>
        
            
    
<input name="__RequestVerificationToken" type="hidden" value="MLVNJvp7aqPttVstWlc6PG38eWM13NLeUc0_nv_STEVa67_y23A6lzUjYQZJNlqn81gIewLy79fLGFZQuI_mx-A5GFxz9Y7iB15nKptBKTOKunTLWAaOPTonQTIIDdLG8sG0hw2" />
<input id="ratingSubmitUrl" type="hidden" value="http://msdn.microsoft.com/en-us/library/feedback/add/jj131708(v=vs.85).aspx" />
<input id="isTopicRated" type="hidden" value="false" />




    


    <div id="ux-footer" class="Chrome ltr">
        
            <div id="footerSock">
                <div id="footerSockInner">
                    <a name="feedback"></a>
                    <div data-fragmentName="Survey" id="Fragment_Survey" xmlns="http://www.w3.org/1999/xhtml">
  <div class="DetailedLink">
    
    <div class="Content"></div>
  </div>
</div>
<div class="rating">
    <div id="ratingSection1">
        <div class="title">
            Was this page helpful?
        </div>
        <div class="description">
            Your feedback about this content is important.<br />Let us know what you think.
        </div>
        <div class="buttons">
            <button id="ratingYes">Yes</button>
            <button id="ratingNo">No</button>
        </div>
        <input id="ratingValue" type="hidden" value="" />
    </div>
    <div id="ratingSection2">
        <div class="title">
            Additional feedback?
        </div>
        <textarea id="ratingText" rows="6" cols=""></textarea>
        <div class="buttons">
            <button id="ratingSubmit">Submit</button>
            <button id="ratingSkipThis">Skip this</button>
        </div>
    </div>
    <div id="ratingSection3">
        <div class="title">
            Thank you!
        </div>
        <div class="description">
            We appreciate your feedback.
        </div>
    </div>
    
    
    <div id="contentFeedbackQAContainer" style="display: none;"></div>
</div>


                    <div data-fragmentName="SockLinks" id="Fragment_SockLinks" xmlns="http://www.w3.org/1999/xhtml">
  
  <div class="LinkList">
    <div class="Links">
      <ul class="LinkColumn" style="width: 100%">
        <li>
          <a href="http://go.microsoft.com/fwlink/p/?LinkId=317805" id="SockLinks_727_11" xmlns="http://www.w3.org/1999/xhtml">Find us on Facebook</a>
        </li>
        <li>
          <a href="http://go.microsoft.com/fwlink/p/?LinkId=317806" id="SockLinks_727_12" xmlns="http://www.w3.org/1999/xhtml">Follow us on Twitter</a>
        </li>
        <li>
          <a href="http://go.microsoft.com/fwlink/p/?linkid=285656" id="SockLinks_727_40" xmlns="http://www.w3.org/1999/xhtml">Read the hardware blog</a>
        </li>
      </ul>
    </div>
  </div>
</div>
                    <div class="clear"></div>
                </div>
            </div>
        <div id="footerContainer">
            <div id="fourColumnFooter">
                <div data-fragmentName="Column1" id="Fragment_Column1" xmlns="http://www.w3.org/1999/xhtml">
  <div class="ListOfLinkLists">
    
    <div class="LinkList" xmlns="http://www.w3.org/1999/xhtml">
      <div class="LinkListTitle">Centers</div>
      <div class="Links">
        <ul class="LinkColumn" style="width: 100%">
          <li>
            <a href="http://msdn.microsoft.com/windows" id="Column1_727_13" xmlns="http://www.w3.org/1999/xhtml">Dev Center Home</a>
          </li>
          <li>
            <a href="http://msdn.microsoft.com/windows/apps" id="Column1_727_14" xmlns="http://www.w3.org/1999/xhtml">Windows Store apps</a>
          </li>
          <li>
            <a href="http://msdn.microsoft.com/ie" id="Column1_727_15" xmlns="http://www.w3.org/1999/xhtml">Internet Explorer</a>
          </li>
          <li>
            <a href="http://msdn.microsoft.com/windows/desktop" id="Column1_727_16" xmlns="http://www.w3.org/1999/xhtml">Desktop</a>
          </li>
          <li>
            <a href="http://msdn.microsoft.com/windows/hardware" id="Column1_727_17" xmlns="http://www.w3.org/1999/xhtml">Hardware</a>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>              
                <div data-fragmentName="Column2" id="Fragment_Column2" xmlns="http://www.w3.org/1999/xhtml">
  <div class="ListOfLinkLists">
    
    <div class="LinkList" xmlns="http://www.w3.org/1999/xhtml">
      <div class="LinkListTitle">Related developer sites</div>
      <div class="Links">
        <ul class="LinkColumn" style="width: 100%">
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=285634" id="Column2_727_18" xmlns="http://www.w3.org/1999/xhtml">Microsoft Connect</a>
          </li>
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=285635" id="Column2_727_19" xmlns="http://www.w3.org/1999/xhtml">OSR Online</a>
          </li>
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=282089" id="Column2_727_42" xmlns="http://www.w3.org/1999/xhtml">Visual Studio</a>
          </li>
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=280293" id="Column2_727_20" xmlns="http://www.w3.org/1999/xhtml">Windows Phone</a>
          </li>
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=282087" id="Column2_727_43" xmlns="http://www.w3.org/1999/xhtml">Windows Server</a>
          </li>
        </ul>
      </div>
    </div>
    
    <div class="LinkList" xmlns="http://www.w3.org/1999/xhtml">
      <div class="LinkListTitle">Other Windows sites</div>
      <div class="Links">
        <ul class="LinkColumn" style="width: 100%">
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=285636" id="Column2_727_21" xmlns="http://www.w3.org/1999/xhtml">Enterprise</a>
          </li>
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=285637" id="Column2_727_22" xmlns="http://www.w3.org/1999/xhtml">Small business</a>
          </li>
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=285638" id="Column2_727_23" xmlns="http://www.w3.org/1999/xhtml">Students</a>
          </li>
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=285639" id="Column2_727_24" xmlns="http://www.w3.org/1999/xhtml">Home users</a>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>              
                <div data-fragmentName="Column3" id="Fragment_Column3" xmlns="http://www.w3.org/1999/xhtml">
  <div class="ListOfLinkLists">
    
    <div class="LinkList" xmlns="http://www.w3.org/1999/xhtml">
      <div class="LinkListTitle">Downloads</div>
      <div class="Links">
        <ul class="LinkColumn" style="width: 100%">
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=285645" id="Column3_727_25" xmlns="http://www.w3.org/1999/xhtml">Windows Driver Kit</a>
          </li>
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=285646" id="Column3_727_26" xmlns="http://www.w3.org/1999/xhtml">Windows Assessment and Deployment Kit</a>
          </li>
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=285647" id="Column3_727_27" xmlns="http://www.w3.org/1999/xhtml">Windows Hardware Certification Kit</a>
          </li>
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?LinkID=316548" id="Column3_727_29" xmlns="http://www.w3.org/1999/xhtml">Visual Studio Professional 2013</a>
          </li>
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=285649" id="Column3_727_30" xmlns="http://www.w3.org/1999/xhtml">More downloads</a>
          </li>
        </ul>
      </div>
    </div>
    
    <div class="LinkList" xmlns="http://www.w3.org/1999/xhtml">
      <div class="LinkListTitle">Support</div>
      <div class="Links">
        <ul class="LinkColumn" style="width: 100%">
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=285664" id="Column3_727_44" xmlns="http://www.w3.org/1999/xhtml">Forums</a>
          </li>
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=285663" id="Column3_727_45" xmlns="http://www.w3.org/1999/xhtml">More support options</a>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>              
                <div data-fragmentName="Column4" id="Fragment_Column4" xmlns="http://www.w3.org/1999/xhtml">
  <div class="ListOfLinkLists">
    
    <div class="LinkList" xmlns="http://www.w3.org/1999/xhtml">
      <div class="LinkListTitle">Essentials</div>
      <div class="Links">
        <ul class="LinkColumn" style="width: 100%">
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=285650" id="Column4_727_46" xmlns="http://www.w3.org/1999/xhtml">Recently published</a>
          </li>
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=285651" id="Column4_727_47" xmlns="http://www.w3.org/1999/xhtml">Debugging</a>
          </li>
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=328186" id="Column4_727_48" xmlns="http://www.w3.org/1999/xhtml">Samples</a>
          </li>
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=285653" id="Column4_727_49" xmlns="http://www.w3.org/1999/xhtml">Hardware dashboard</a>
          </li>
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=317804" id="Column4_727_50" xmlns="http://www.w3.org/1999/xhtml">Partner with Microsoft</a>
          </li>
        </ul>
      </div>
    </div>
    
    <div class="LinkList" xmlns="http://www.w3.org/1999/xhtml">
      <div class="LinkListTitle">Stay connected</div>
      <div class="Links">
        <ul class="LinkColumn" style="width: 100%">
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=285658" id="Column4_727_36" xmlns="http://www.w3.org/1999/xhtml">Microsoft events</a>
          </li>
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=313299" id="Column4_727_37" xmlns="http://www.w3.org/1999/xhtml">Windows App Builder Blog</a>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>              
            </div>

            <div id="baseFooterLogos">
                <span class="microsoftlogo" title="Microsoft"></span>
                <a href="http://msdn.microsoft.com/en-us" class="msdnlogo" title="MSDN"></a>
            </div>
        
            <div id="baseFooter">
                <div id="FooterCopyright">© 2014 Microsoft</div>
                <div data-fragmentName="BaseFooterContent" id="Fragment_BaseFooterContent" xmlns="http://www.w3.org/1999/xhtml">
  <div xmlns="http://www.w3.org/1999/xhtml">
    <div xmlns:mtps="http://msdn2.microsoft.com/mtps">
      <div data-fragmentName="BaseFooter" id="Fragment_BaseFooter">
        
        <div class="LinkList">
          <div class="Links">
            <ul class="LinkColumn horizontal">
              <li>
                <a href="http://msdn.microsoft.com/windows/apps/cc300389" id="BaseFooter_35351_1" xmlns="http://www.w3.org/1999/xhtml">Terms of Use</a>
              </li>
              <li>
                <a href="http://www.microsoft.com/library/toolbar/3.0/trademarks/en-us.mspx" id="BaseFooter_35351_2" xmlns="http://www.w3.org/1999/xhtml">Trademarks</a>
              </li>
              <li>
                <a href="http://www.microsoft.com/info/privacy.mspx" id="BaseFooter_35351_3" xmlns="http://www.w3.org/1999/xhtml">Privacy and Cookies</a>
              </li>
              <li>
                <a href="http://msdn.microsoft.com/en-us/windows/dn554289" id="BaseFooter_730_5" xmlns="http://www.w3.org/1999/xhtml">Site map</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
      <div data-fragmentName="HelloText" id="Fragment_HelloText">Hello from Seattle.
</div>
    </div>
  </div>
</div>  
                    <form class="selectLocale" id="selectLocaleForm" action="http://msdn.microsoft.com/en-us/windows/hardware/SelectLocale">
        <input type="hidden" name="fromPage" value="http%3a%2f%2fmsdn.microsoft.com%2fen-us%2flibrary%2fwindows%2fhardware%2fjj131708(v%3dvs.85).aspx" />
        <a href="#" onclick="$('#selectLocaleForm').submit();return false;" title="Change your language">United States (English)</a>
    </form>    


                <div class="clear"></div>
            </div>
        </div>
    </div> 


            <div class="footerPrintView">
                <div class="footerCopyrightPrintView">© 2014 Microsoft. All rights reserved.</div>
            </div>

            
            
    


        
            <input id="MtpsDevice" type="hidden" value="Default" />


<![CDATA[ Third party scripts and code linked to or referenced from this website are licensed to you by the parties that own such code, not by Microsoft.  See ASP.NET Ajax CDN Terms of Use – http://www.asp.net/ajaxlibrary/CDN.ashx. ]]>
        
            
            
            
            
            
        





<noscript><div><img alt="DCSIMG" id="Img1" width="1" height="1" src="http://m.webtrends.com/dcsmgru7m99k7mqmgrhudo0k8_8c6m/njs.gif?dcsuri=/nojavascript&amp;WT.js=No" /></div></noscript>









<noscript>
  <a href="http://www.omniture.com/" title="Web Analytics">
    <img src="http://msstonojsmsdn.112.2o7.net/b/ss/msstonojsmsdn/1/H.20.2--NS/0" height="1" width="1" border="0" alt="" />
  </a>
</noscript>




<div id="globalRequestVerification">
    <input name="__RequestVerificationToken" type="hidden" value="dcdRqW58RYUbZEJoBMMpPPXNooCiyz8Faij7pL9dnd85KjJGjKPwHAlUABocKu1oKIyX9-IlVHWOvfqwnlLQR9rbvN9HsEZPsI8zMr0unGSwsTDW7eu3rmKEUC0L8EY_igXVgw2" />
</div>


        </div>
    <script type="text/javascript" class="mtps-injected">
/*<![CDATA[*/
(function(window,document){"use strict";function preload(scripts){for(var result=[],script,e,i=0;i<scripts.length;i++)script=scripts[i],script.hasOwnProperty("url")&&(e=document.createElement("script"),e.src=script.url,script.throwaway=e),result.push(script);return result}function inject(scripts,index){var script,elem;if(index>=scripts.length){delete mtps.injectScripts;return}script=scripts[index];elem=document.createElement("script");elem.className="mtps-injected";elem.async=!1;var isLoaded=!1,timeoutId=0,injectNextFnName="",injectNext=elem.onerror=function(){isLoaded||(isLoaded=!0,inject(scripts,index+1),window.clearTimeout(timeoutId),elem.onload=elem.onerror=elem.onreadystatechange=null,injectNextFnName&&delete mtps[injectNextFnName],elem.removeEventListener&&elem.removeEventListener("load",injectNext,!1))};elem.addEventListener?elem.addEventListener("load",injectNext,!1):elem.readyState==="uninitialized"?elem.onreadystatechange=function(){(this.readyState==="loaded"||this.readyState==="complete")&&injectNext()}:elem.onload=injectNext;script.hasOwnProperty("url")?(timeoutId=window.setTimeout(injectNext,12e4),elem.src=script.url):(injectNextFnName="_injectNextScript_"+index,mtps[injectNextFnName]=injectNext,timeoutId=window.setTimeout(injectNext,2e3),elem.text="try {\n"+script.txt+"\n} finally { MTPS."+injectNextFnName+" && MTPS."+injectNextFnName+"(); }");parent.appendChild(elem)}var mtps=window.MTPS||(window.MTPS={}),parent=document.getElementsByTagName("head")[0];mtps.injectScripts=function(scripts){inject(preload(scripts),0)}})(window,document);
MTPS.injectScripts([
	{ txt: "/**/\r\n(window.MTPS || (window.MTPS = {})).cdnDomains || (window.MTPS.cdnDomains = { \r\n\t\"image\": \"http://i.msdn.microsoft.com\", \r\n\t\"js\": \"http://i2.msdn.microsoft.com\", \r\n\t\"css\": \"http://i3.msdn.microsoft.com\"\r\n});\r\n/**/" },
	{ url: "http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.8.2.min.js" },
	{ txt: "//\n  var literalNormalizedUrl = \u0027/en-us/library/windows/hardware/jj131708(d=default,l=en-us,v=vs.85).aspx\u0027;\n  var wt_nvr_ru = \u0027WT_NVR_RU\u0027;\n  var wt_fpcdom = \u0027.microsoft.com\u0027;\n  var wt_domlist = \u0027msdn.microsoft.com\u0027;\n  var wt_pathlist = \u0027\u0027;\n  var wt_paramlist = \u0027DCSext.mtps_devcenter\u0027;\n  var wt_siteid = \u0027MSDN\u0027;\n  var gDomain = \u0027m.webtrends.com\u0027;\n  var gDcsId = \u0027dcsmgru7m99k7mqmgrhudo0k8_8c6m\u0027;\n  var gFpc = \u0027WT_FPC\u0027;\n\n\n\n  if (document.cookie.indexOf(gFpc + \"=\") == -1) {\n    var wtidJs = document.createElement(\"script\");\n    wtidJs.src = \"//\" + gDomain + \"/\" + gDcsId + \"/wtid.js\";\n    document.getElementsByTagName(\"head\")[0].appendChild(wtidJs);\n  }\n\n\n\n  var detectedLocale = \u0027en-us\u0027;\n  var wtsp = \u0027_msdn_\u0027;\n  var gTrackEvents = \u00270\u0027;\n/**/" },
	{ txt: "/**/\n  var omni_guid = \"2537dcff-ee97-439d-a72a-52bcdf3b027b\";\n/**/" },
	{ url: "http://i2.msdn.microsoft.com/Combined.js?resources=0:Utilities,0:Topic,1:webtrendsscript,2:omni_rsid_MSDN,3:SearchBox;/Areas/Epx/Content/Scripts:0,/Areas/Global/Content/Webtrends/resources:1,/Areas/Global/Content/Omniture/resources/MSDN:2,/Areas/Epx/Themes/Base/Content:3\u0026amp;hashKey=E93F43E708C4E79B13014A098239D120" },
	{ url: "http://i1.services.social.microsoft.com/search/Widgets/SearchBox.jss?boxid=HeaderSearchTextBox\u0026btnid=HeaderSearchButton\u0026brand=MSDN\u0026loc=en-us\u0026Refinement=182\u0026focusOnInit=false\u0026iroot=windows%2fhardware\u0026emptyWatermark=true\u0026searchButtonTooltip=Search" },
	{ url: "http://i2.msdn.microsoft.com/Combined.js?resources=0:Header,1:Toc,1:LibraryMemberFilter,2:Toc_Fixed,3:Rating,2:CodeSnippet,2:TopicNotInScope,2:CollapsibleArea,2:VersionSelector,2:SurveyBroker;/Areas/Epx/Themes/Windows/Content:0,/Areas/Library/Content:1,/Areas/Epx/Content/Scripts:2,/Areas/Epx/Themes/Base/Content:3\u0026amp;hashKey=2738C0CC18843CA9EAD45D501FB8031F" },
	{ txt: "$(document).ready(function() {\n        try {\n            var token = $(\"#globalRequestVerification input[name=\u0027__RequestVerificationToken\u0027]\").clone();\n            $(\"#siteFeedbackForm\").append(token);\n        } catch(err) {\n            \n        }\n    });" }
]);

/*]]>*/
</script></body>

<!-- Mirrored from msdn.microsoft.com/en-us/library/windows/hardware/jj131708(v=vs.85).aspx by HTTrack Website Copier/3.x [XR&CO'2013], Mon, 17 Mar 2014 17:15:58 GMT -->
</html>