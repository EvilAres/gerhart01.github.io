<!DOCTYPE html>

<html dir="ltr" xmlns="http://www.w3.org/1999/xhtml" lang="en">
    
<!-- Mirrored from msdn.microsoft.com/en-us/library/windows/hardware/jj673015(v=vs.85).aspx by HTTrack Website Copier/3.x [XR&CO'2013], Mon, 17 Mar 2014 17:15:54 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><link rel="canonical" href="http://msdn.microsoft.com/en-us/library/windows/hardware/jj673015(v=vs.85).aspx" />
        <title>PnP Tests (Device Fundamentals) (Windows Drivers)</title>




<meta name="DCS.dcsuri" content="/en-us/library/windows/hardware/jj673015(d=default,l=en-us,v=vs.85).aspx" />

<meta name="NormalizedUrl" content="http://msdn.microsoft.com/en-us/library/windows/hardware/jj673015(d=default,l=en-us,v=vs.85).aspx" />

<meta name="ms.normalizedurl" content="http://msdn.microsoft.com/en-us/library/windows/hardware/jj673015(d=default,l=en-us,v=vs.85).aspx" />

<meta name="VotingContextUrl" content="http://msdn.microsoft.com/en-us/library/windows/hardware/jj673015(d=default,l=en-us,v=vs.85).aspx" />

<meta name="MN" content="61C41DD4-9:04:08 AM" />

<meta name="Search.ShortId" content="jj673015" />

<meta name="ms.shortidmsdn" content="jj673015" />

<meta name="Ms.Locale" content="en-us" />







        
    <link rel="shortcut icon" href="http://msdn.microsoft.com/Areas/Epx/Themes/Windows/Content/Winlogo_favicon.ico" />

    <link rel="stylesheet" type="text/css" href="http://i3.msdn.microsoft.com/Combined.css?resources=0:Topic,0:CodeSnippet,0:ExpandableCollapsibleArea,1:CommunityContent,0:TopicNotInScope,0:FeedViewerBasic,0:ImageSprite,2:Header,2:sprite,1:Toc,1:LibraryMemberFilter,2:Footer,3:DetailedLinkList,3:LinkList,4:Windows;/Areas/Epx/Content/Css:0,/Areas/Library/Content:1,/Areas/Epx/Themes/Windows/Content:2,/Areas/Epx/Themes/Base/Content:3,/Areas/Library/Themes/Windows/Content:4&amp;amp;hashKey=E1AF301680B6D838738C2F52E9149624" /></head>
    <body class="library ">
        <div id="page">
            
            
  
            
    
    

    <div id="ux-header" class=" ltr">
        <div id="headerContainer">
            <div id="logoAndSearchBox">
                <div id="logo">
                    <a href="http://msdn.microsoft.com/windows/" title="Windows"><img alt="Windows" src="http://i.msdn.microsoft.com/Areas/Epx/Themes/Windows/Content/Windows_logo.png"></img></a>       
                </div>
              
        <div id="selectedTab">
            <a class="dropDownToggle" href="javascript:void(0);">Dev Center - Hardware</a>    
        </div>
    <div id="toclevel1_menu" style="display: none;">
        <ul>
                <li><a href="http://msdn.microsoft.com/windows/" title="Dev Center Home">Dev Center Home</a></li>
                <li><a href="http://msdn.microsoft.com/windows/apps/" title="Windows Store apps">Windows Store apps</a></li>
                <li><a href="http://msdn.microsoft.com/ie/" title="Internet Explorer">Internet Explorer</a></li>
                <li><a href="http://msdn.microsoft.com/windows/desktop/" title="Desktop">Desktop</a></li>
                <li><a href="http://msdn.microsoft.com/windows/hardware/" title="Hardware">Hardware</a></li>
        </ul>
        <div style="clear: both"></div>
    </div> 

                
                  

        <div class="SearchBox">   
            <form id="HeaderSearchForm" name="HeaderSearchForm" method="get" onsubmit="return Epx.Controls.SearchBox.searchBoxOnSubmit(this);">
            <input id="HeaderSearchTextBox" name="query" type="text" maxlength="200" onfocus="Epx.Controls.SearchBox.watermarkFocus(event, this.title)" onblur="Epx.Controls.SearchBox.watermarkBlur(event, this.title)" />            
            <button id="HeaderSearchButton" value="" type="submit" class="header-search-button"></button>
            </form>
         
                
                 
    
        </div>

                <div class="Clear"></div>
            </div>
            <div class="Clear"></div>
            <div class="ux-internav">
    <div class="toclevel2"> 
            <a class="normal" href="https://sysdev.microsoft.com/en-us/hardware/" title="Dashboard">Dashboard</a>
            <a class="normal" href="http://msdn.microsoft.com/windows/hardware/gg507680" title="Get Started ">Get Started </a>
            <a class="normal" href="http://msdn.microsoft.com/windows/hardware/gg462970" title="Design">Design</a>
            <a class="active" href="http://msdn.microsoft.com/windows/hardware/ff960953" title="Develop">Develop</a>
            <a class="normal" href="http://msdn.microsoft.com/windows/hardware/gg463010" title="Certify">Certify</a>
    </div>
    <div class="clear"></div>

            </div>
            <div id="signIn">

<a class="scarabLink" href="https://login.live.com/login.srf?wa=wsignin1.0&amp;rpsnv=12&amp;ct=1395072248&amp;rver=6.0.5276.0&amp;wp=MCLBI&amp;wlcxt=MSDN%24MSDN%24MSDN&amp;wreply=http%3a%2f%2fmsdn.microsoft.com%2fen-us%2flibrary%2fwindows%2fhardware%2fjj673015%2528v%3dvs.85%2529.aspx&amp;lc=1033&amp;id=254354&amp;mkt=en-US" title="Sign in">Sign in</a></div>

    

        </div>  
        <div id="blackBar">
    <div class="toclevel3"> 
            <a class="normal" href="http://msdn.microsoft.com/library/windows/hardware/gg454504" title="Systems">Systems</a>
            <a class="normal" href="http://msdn.microsoft.com/library/windows/hardware/gg454505" title="Devices">Devices</a>
            <a class="active" href="http://msdn.microsoft.com/library/windows/hardware/ff557573" title="Drivers">Drivers</a>
            <a class="normal" href="http://msdn.microsoft.com/library/windows/hardware/ff551063(v=vs.85).aspx" title="Debugging">Debugging</a>
            <a class="normal" href="http://msdn.microsoft.com/windows/hardware/gg454513" title="Downloads">Downloads</a>
            <a class="normal" href="http://msdn.microsoft.com/windows/hardware/dn433227.aspx" title="Samples">Samples</a>
            <a class="normal" href="http://msdn.microsoft.com/windows/hardware/gg454517" title="Community">Community</a>
            <a class="normal" href="http://msdn.microsoft.com/windows/hardware/dn550976" title="Archives">Archives</a>
    </div>
    <div class="clear"></div>

        </div>
    </div>


        
            <div id="body">
                







    <div id="leftNav">



<div id="tocnav">
            <div class="toclevel0" data-toclevel="0">
<a data-tochassubtree="true" href="http://msdn.microsoft.com/en-us/library/windows/hardware/ff557553(v=vs.85).aspx" id="ff576024_VS.85_en-us" mtpsaliasid="" mtpsassetid="3a5f6182-67df-4aaa-ab36-7f3d6ec1e916_VS.85_en-us" mtpsshortid="ff557553_VS.85_en-us" title="Device and Driver Development Tools">Device and Driver Development Tools</a>            </div>
            <div class="toclevel0" data-toclevel="0">
<a data-tochassubtree="true" href="http://msdn.microsoft.com/en-us/library/windows/hardware/ff545440(v=vs.85).aspx" id="ff571784_VS.85_en-us" mtpsaliasid="" mtpsassetid="1d384d73-d1d2-445f-8077-40eed1f99a8c_VS.85_en-us" mtpsshortid="ff545440_VS.85_en-us" title="Driver Development Tools">Driver Development Tools</a>            </div>
            <div class="toclevel0" data-toclevel="0">
<a data-tochassubtree="true" href="http://msdn.microsoft.com/en-us/library/windows/hardware/ff552966(v=vs.85).aspx" id="ff571885_VS.85_en-us" mtpsaliasid="" mtpsassetid="d6c43942-fa6a-4afb-806b-b7930fe2e40d_VS.85_en-us" mtpsshortid="ff552966_VS.85_en-us" title="Tools for Testing Drivers">Tools for Testing Drivers</a>            </div>
            <div class="toclevel1" data-toclevel="1">
<a data-tochassubtree="true" href="http://msdn.microsoft.com/en-us/library/windows/hardware/jj673011(v=vs.85).aspx" id="hh466480_VS.85_en-us" mtpsaliasid="" mtpsassetid="1963B6BD-158C-4946-8FBA-55DE0C98BE44_VS.85_en-us" mtpsshortid="jj673011_VS.85_en-us" title="Device Fundamentals Tests">Device Fundamentals Tests</a>            </div>
            <div class="toclevel2" data-toclevel="2">
<a href="http://msdn.microsoft.com/en-us/library/windows/hardware/jj673008(v=vs.85).aspx" mtpsaliasid="" mtpsassetid="" mtpsshortid="" title="CHAOS Tests (Device Fundamentals)">CHAOS Tests (Device Fundamentals)</a>            </div>
            <div class="toclevel2" data-toclevel="2">
<a href="http://msdn.microsoft.com/en-us/library/windows/hardware/jj673009(v=vs.85).aspx" mtpsaliasid="" mtpsassetid="" mtpsshortid="" title="Coverage Tests (Device Fundamentals)">Coverage Tests (Device Fundamentals)</a>            </div>
            <div class="toclevel2" data-toclevel="2">
<a href="http://msdn.microsoft.com/en-us/library/windows/hardware/jj673010(v=vs.85).aspx" mtpsaliasid="" mtpsassetid="" mtpsshortid="" title="CPUStress Tests (Device Fundamentals)">CPUStress Tests (Device Fundamentals)</a>            </div>
            <div class="toclevel2" data-toclevel="2">
<a href="http://msdn.microsoft.com/en-us/library/windows/hardware/jj673012(v=vs.85).aspx" mtpsaliasid="" mtpsassetid="" mtpsshortid="" title="DriverInstall Tests (Device Fundamentals)">DriverInstall Tests (Device Fundamentals)</a>            </div>
            <div class="toclevel2" data-toclevel="2">
<a href="http://msdn.microsoft.com/en-us/library/windows/hardware/jj673013(v=vs.85).aspx" mtpsaliasid="" mtpsassetid="" mtpsshortid="" title="I/O Tests (Device Fundamentals)">I/O Tests (Device Fundamentals)</a>            </div>
            <div class="toclevel2" data-toclevel="2">
<a href="http://msdn.microsoft.com/en-us/library/windows/hardware/jj673014(v=vs.85).aspx" mtpsaliasid="" mtpsassetid="" mtpsshortid="" title="Penetration Tests (Device Fundamentals)">Penetration Tests (Device Fundamentals)</a>            </div>
            <div class="toclevel2 current" data-toclevel="2">
<a href="http://msdn.microsoft.com/en-us/library/windows/hardware/jj673015(v=vs.85).aspx" mtpsaliasid="" mtpsassetid="" mtpsshortid="" title="PnP Tests (Device Fundamentals)">PnP Tests (Device Fundamentals)</a>            </div>
            <div class="toclevel2" data-toclevel="2">
<a href="http://msdn.microsoft.com/en-us/library/windows/hardware/jj673016(v=vs.85).aspx" mtpsaliasid="" mtpsassetid="" mtpsshortid="" title="Reboot Tests (Device Fundamentals)">Reboot Tests (Device Fundamentals)</a>            </div>
            <div class="toclevel2" data-toclevel="2">
<a href="http://msdn.microsoft.com/en-us/library/windows/hardware/jj673017(v=vs.85).aspx" mtpsaliasid="" mtpsassetid="" mtpsshortid="" title="Sleep Tests (Device Fundamentals)">Sleep Tests (Device Fundamentals)</a>            </div>
</div>
        

        

        
        
        <div id="toc-resizable-ew" class="toc-resizable-ew"></div>
        
    </div>
<div id="content" class="content">







        

<div class="topic" xmlns="http://www.w3.org/1999/xhtml">
  <h1 class="title">PnP Tests (Device Fundamentals)</h1>
  
  <div id="mainSection">
<div class="clsServerSDKContent">

</div>
<p>The Device Fundamentals PnP tests force a driver to handle almost all of the PnP IRPs; however, there are three areas that are stressed specifically: removal, rebalance, and surprise removal. The PnP test provides a mechanism to test each of these separately, or to test them all together (that is, as a stress test). This PnP testing is accomplished by using a combination of user-mode API calls (through the test application) and kernel-mode API calls (through an upper-filter driver).</p>
<h2><a id="pnp_tests"></a><a id="PNP_TESTS"></a>PNP tests</h2>
<p>
</p><p>The Plug and Play (PnP) tests execute various PnP-related code paths in the driver and user-mode components. The PnP tests should be run with <a href="http://msdn.microsoft.com/en-us/library/windows/hardware/ff545448(v=vs.85).aspx">Driver Verifier</a> enabled on the test computer.  For information about enabling Driver Verifier, see <a href="http://msdn.microsoft.com/en-us/library/windows/hardware/hh454836(v=vs.85).aspx">Driver Verifier properties for driver projects</a>.

</p>

<table>
<tr><th>Test</th><th>Description</th></tr>
<tr><td>
<p><a id="Disable_Enhanced_Device_Testing__EDT__Support_"></a><a id="disable_enhanced_device_testing__edt__support_"></a><a id="DISABLE_ENHANCED_DEVICE_TESTING__EDT__SUPPORT_"></a>Disable Enhanced Device Testing (EDT) Support </p>
</td><td>
<p>This test uninstalls the test filter driver (msdmfilt.sys) as an upper filter on devices specified using the DQ parameter. This test filter gets installed as part of running tests in this test category</p>
<p><strong>Parameters:</strong> - see <a href="http://msdn.microsoft.com/en-us/library/windows/hardware/hh454837(v=vs.85).aspx#DevFund_Params">Device Fundamentals Test Parameters</a></p>
<p><em>DQ</em></p>
<p><em>TestCycles</em></p>
<p><em>DoSimpleIO</em></p>
<p><em>IOPeriod</em></p>
<p><em>DoConcurrentIO</em></p>
<p><em>IOType</em></p>
</td></tr>
<tr><td>
<p><a id="PNP__disable_and_enable__reboot_with_IO_before_and_after"></a><a id="pnp__disable_and_enable__reboot_with_io_before_and_after"></a><a id="PNP__DISABLE_AND_ENABLE__REBOOT_WITH_IO_BEFORE_AND_AFTER"></a>PNP (disable and enable) reboot with IO before and after</p>
</td><td>
<p>This test performs basic PnP disable/enable and I/O on devices with a system reboot. </p>
<p><strong>Test binary: </strong>Devfund_PNP_DisableEnable_Reboot_With_IO_BeforeAndAfter.wsc</p>
<p><strong>Test method: </strong> PNP_DisableEnable_Reboot_With_IO_Before_And_After</p>
<p><strong>Parameters:</strong> - see <a href="http://msdn.microsoft.com/en-us/library/windows/hardware/hh454837(v=vs.85).aspx#DevFund_Params">Device Fundamentals Test Parameters</a></p>
<p><em>DQ</em></p>
<p><em>IOPeriod</em></p>
</td></tr>
<tr><td>
<p><a id="PNP__disable_and_enable__with_I_O_before_and_after"></a><a id="pnp__disable_and_enable__with_i_o_before_and_after"></a><a id="PNP__DISABLE_AND_ENABLE__WITH_I_O_BEFORE_AND_AFTER"></a>PNP (disable and enable) with I/O before and after</p>
</td><td>
<p>This test performs I/O and basic PnP disable/enable on devices. </p>
<p>This test does the following:
</p>
<ol>
<li>Verifies that there are no devices on the system reporting device problem codes.</li>
<li>Tests I/O on every device on the system using WDTF Simple I/O plugins. See <a href="http://msdn.microsoft.com/en-us/library/windows/hardware/hh781398(v=vs.85).aspx">Provided WDTF Simple I/O plug-ins</a> for more information. </li>
<li>Disables and enables every device on the system using WDTF PnP action interfaces, see  <a href="http://msdn.microsoft.com/en-us/library/windows/hardware/hh451068(v=vs.85).aspx"><strong xmlns="http://www.w3.org/1999/xhtml">IWDTFPNPAction2::DisableDevice</strong></a>  and <a href="http://msdn.microsoft.com/en-us/library/windows/hardware/hh451082(v=vs.85).aspx"><strong xmlns="http://www.w3.org/1999/xhtml">IWDTFPNPAction2::EnableDevice</strong></a> methods for more information.</li>
<li>Verifies that there are no devices on the system reporting device problem codes.</li>
<li>Tests I/O on every device on the system using WDTF Simple I/O plugins. See <a href="http://msdn.microsoft.com/en-us/library/windows/hardware/hh781398(v=vs.85).aspx">Provided WDTF Simple I/O plug-ins</a> for more information. </li>
<li>Repeats steps 3-5 several times. 
</li>
</ol>
<p><strong>Test binary: </strong>Devfund_PNP_DisableEnable_With_IO_BeforeAndAfter.wsc</p>
<p><strong>Test method: </strong> PNP_DisableEnable_With_IO_Before_And_After</p>
<p><strong>Parameters:</strong> - see <a href="http://msdn.microsoft.com/en-us/library/windows/hardware/hh454837(v=vs.85).aspx#DevFund_Params">Device Fundamentals Test Parameters</a></p>
<p><em>DQ</em></p>
<p><em>IOPeriod</em></p>
</td></tr>
<tr><td>
<p><a id="PNP_Cancel_Remove_Device_test_"></a><a id="pnp_cancel_remove_device_test_"></a><a id="PNP_CANCEL_REMOVE_DEVICE_TEST_"></a>PNP Cancel Remove Device test </p>
</td><td>
<p>This test uses the EDT filter driver to send IRP_MN_CANCEL_REMOVE_DEVICE to target device stacks.</p>
<p>For more information, see <a href="#About_device_removal">About the Device Removal tests</a>.</p>
<p><strong>Test binary: </strong>Devfund_PnPDTest.dll</p>
<p><strong>Test method: </strong> PNPCancelRemoveDevice</p>
<p><strong>Parameters:</strong> - see <a href="http://msdn.microsoft.com/en-us/library/windows/hardware/hh454837(v=vs.85).aspx#DevFund_Params">Device Fundamentals Test Parameters</a></p>
<p><em>DQ</em></p>
<p><em>TestCycles</em></p>
<p><em>DoSimpleIO</em></p>
<p><em>IOPeriod</em></p>
<p><em>DoConcurrentIO</em></p>
</td></tr>
<tr><td>
<p><a id="PNP_Cancel_Stop_Device_test"></a><a id="pnp_cancel_stop_device_test"></a><a id="PNP_CANCEL_STOP_DEVICE_TEST"></a>PNP Cancel Stop Device test</p>
</td><td>
<p>This test uses the EDT filter driver to send IRP_MN_CANCEL_STOP_DEVICE to target device stacks.</p>
<p>For more information, see <a href="#About_rebalance_tests">About the Rebalance tests</a>. </p>
<p><strong>Test binary: </strong>Devfund_PnPDTest.dll</p>
<p><strong>Test method: </strong> PNPCancelStopDevice</p>
<p><strong>Parameters:</strong> - see <a href="http://msdn.microsoft.com/en-us/library/windows/hardware/hh454837(v=vs.85).aspx#DevFund_Params">Device Fundamentals Test Parameters</a></p>
<p><em>DQ</em></p>
<p><em>TestCycles</em></p>
<p><em>DoSimpleIO</em></p>
<p><em>IOPeriod</em></p>
<p><em>DoConcurrentIO</em></p>
</td></tr>
<tr><td>
<p><a id="PNP_DIF_Remove_Device_Test"></a><a id="pnp_dif_remove_device_test"></a><a id="PNP_DIF_REMOVE_DEVICE_TEST"></a>PNP DIF Remove Device Test</p>
</td><td>
<p>This test uses the SetupDi API to send a <a href="http://msdn.microsoft.com/en-us/library/windows/hardware/ff543717(v=vs.85).aspx"><strong xmlns="http://www.w3.org/1999/xhtml">DIF_REMOVE</strong></a> request for the installers to remove the device.  </p>
<p><strong>Test binary: </strong>Devfund_PnPDTest.dll</p>
<p><strong>Test method: </strong> PNPDIFRemoveAndRescanParentDevice</p>
<p><strong>Parameters:</strong> - see <a href="http://msdn.microsoft.com/en-us/library/windows/hardware/hh454837(v=vs.85).aspx#DevFund_Params">Device Fundamentals Test Parameters</a></p>
<p><em>DQ</em></p>
<p><em>TestCycles</em></p>
<p><em>DoSimpleIO</em></p>
<p><em>IOPeriod</em></p>
<p><em>DoConcurrentIO</em></p>
</td></tr>
<tr><td>
<p><a id="PNP_Disable_and_Enable_Device_test_"></a><a id="pnp_disable_and_enable_device_test_"></a><a id="PNP_DISABLE_AND_ENABLE_DEVICE_TEST_"></a>PNP Disable and Enable Device test </p>
</td><td>
<p>This test disables and enables the target devices. </p>
<p><strong>Test binary: </strong>Devfund_PnPDTest.dll</p>
<p><strong>Test method: </strong> PNPDisableAndEnableDevice</p>
<p><strong>Parameters:</strong> - see <a href="http://msdn.microsoft.com/en-us/library/windows/hardware/hh454837(v=vs.85).aspx#DevFund_Params">Device Fundamentals Test Parameters</a></p>
<p><em>DQ</em></p>
<p><em>TestCycles</em></p>
<p><em>DoSimpleIO</em></p>
<p><em>IOPeriod</em></p>
<p><em>DoConcurrentIO</em></p>
<p><em>IOType</em></p>
</td></tr>
<tr><td>
<p><a id="PNP_Rebalance_Fail_Restart_Device_test"></a><a id="pnp_rebalance_fail_restart_device_test"></a><a id="PNP_REBALANCE_FAIL_RESTART_DEVICE_TEST"></a>PNP Rebalance Fail Restart Device test</p>
</td><td>
<p>This test uses the EDT filter driver to try to send IRP_MN_STOP_DEVICE to target device stacks. The EDT filter driver then fails IRP_MN_START_DEVICE requests (that follow IRP_MN_STOP_DEVICE requests) to trigger the surprise removal of target devices.  </p>
<p>For more information, see <a href="#About_rebalance_tests">About the Rebalance tests</a>. </p>
<p><strong>Test binary: </strong>Devfund_PnPDTest.dll</p>
<p><strong>Test method: </strong> PNPTryStopDeviceAndFailRestart</p>
<p><strong>Parameters:</strong> - see <a href="http://msdn.microsoft.com/en-us/library/windows/hardware/hh454837(v=vs.85).aspx#DevFund_Params">Device Fundamentals Test Parameters</a></p>
<p><em>DQ</em></p>
<p><em>TestCycles</em></p>
<p><em>DoSimpleIO</em></p>
<p><em>IOPeriod</em></p>
<p><em>DoConcurrentIO</em></p>
</td></tr>
<tr><td>
<p><a id="PNP_Rebalance_Request_New_Resources_Device_test"></a><a id="pnp_rebalance_request_new_resources_device_test"></a><a id="PNP_REBALANCE_REQUEST_NEW_RESOURCES_DEVICE_TEST"></a>PNP Rebalance Request New Resources Device test</p>
</td><td>
<p>This test uses the EDT filter driver to try to send IRP_MN_STOP_DEVICE to target device stacks. It also manipulates the resource requirements of the devices to maximize the chances that new resources are allocated to devices. </p>
<p>For more information, see <a href="#About_rebalance_tests">About the Rebalance tests</a>. </p>
<p><strong>Test binary: </strong>Devfund_PnPDTest.dll</p>
<p><strong>Test method: </strong> PNPTryStopDeviceRequestNewResourcesAndRestartDevice</p>
<p><strong>Parameters:</strong> - see <a href="http://msdn.microsoft.com/en-us/library/windows/hardware/hh454837(v=vs.85).aspx#DevFund_Params">Device Fundamentals Test Parameters</a></p>
<p><em>DQ</em></p>
<p><em>TestCycles</em></p>
<p><em>DoSimpleIO</em></p>
<p><em>IOPeriod</em></p>
<p><em>DoConcurrentIO</em></p>
</td></tr>
<tr><td>
<p><a id="PNP_Remove_Device_Test"></a><a id="pnp_remove_device_test"></a><a id="PNP_REMOVE_DEVICE_TEST"></a>PNP Remove Device Test</p>
</td><td>
<p>This test causes IRP_MN_QUERY_REMOVE_DEVICE and IRP_MN_REMOVE_DEVICE to be sent to target device stacks. </p>
<p>For more information, see <a href="#About_device_removal">About the Device Removal tests</a>.</p>
<p><strong>Test binary: </strong>Devfund_PnPDTest.dll</p>
<p><strong>Test method: </strong> PNPRemoveAndRestartDevice</p>
<p><strong>Parameters:</strong> - see <a href="http://msdn.microsoft.com/en-us/library/windows/hardware/hh454837(v=vs.85).aspx#DevFund_Params">Device Fundamentals Test Parameters</a></p>
<p><em>DQ</em></p>
<p><em>TestCycles</em></p>
<p><em>DoSimpleIO</em></p>
<p><em>IOPeriod</em></p>
<p><em>DoConcurrentIO</em></p>
</td></tr>
<tr><td>
<p><a id="PNP_Stop__Rebalance__Device_test"></a><a id="pnp_stop__rebalance__device_test"></a><a id="PNP_STOP__REBALANCE__DEVICE_TEST"></a>PNP Stop (Rebalance) Device test</p>
</td><td>
<p>This test uses the EDT filter driver to try to send IRP_MN_STOP_DEVICE to target device stacks.   </p>
<p>For more information, see <a href="#About_rebalance_tests">About the Rebalance tests</a>. </p>
<p><strong>Test binary: </strong>Devfund_PnPDTest.dll</p>
<p><strong>Test method: </strong> PNPTryStopAndRestartDevice</p>
<p><strong>Parameters:</strong> - see <a href="http://msdn.microsoft.com/en-us/library/windows/hardware/hh454837(v=vs.85).aspx#DevFund_Params">Device Fundamentals Test Parameters</a></p>
<p><em>DQ</em></p>
<p><em>TestCycles</em></p>
<p><em>DoSimpleIO</em></p>
<p><em>IOPeriod</em></p>
<p><em>DoConcurrentIO</em></p>
</td></tr>
<tr><td>
<p><a id="PNP_Surprise_Remove_Device_test"></a><a id="pnp_surprise_remove_device_test"></a><a id="PNP_SURPRISE_REMOVE_DEVICE_TEST"></a>PNP Surprise Remove Device test</p>
</td><td>
<p>This test uses the EDT filter driver to send IRP_MN_SURPRISE_REMOVAL to target device stacks. </p>
<p>For more information, see <a href="#About_surprise_removal">About the Surprise Removal test</a>. </p>
<p><strong>Test binary: </strong>Devfund_PnPDTest.dll</p>
<p><strong>Test method: </strong> PNPSurpriseRemoveAndRestartDevice</p>
<p><strong>Parameters:</strong> - see <a href="http://msdn.microsoft.com/en-us/library/windows/hardware/hh454837(v=vs.85).aspx#DevFund_Params">Device Fundamentals Test Parameters</a></p>
<p><em>DQ</em></p>
<p><em>TestCycles</em></p>
<p><em>DoSimpleIO</em></p>
<p><em>IOPeriod</em></p>
<p><em>DoConcurrentIO</em></p>
</td></tr>
</table>
<p> </p>
<h2><a id="About_device_removal"></a><a id="about_device_removal"></a><a id="ABOUT_DEVICE_REMOVAL"></a>About the Device Removal tests</h2>
<ul>
<li>PNP Remove Device Test</li>
<li>PNP Cancel Remove Device test
</li>
</ul>
<p>The Device Removal test encompasses IRP_MN_QUERY_REMOVE_DEVICE, IRP_MN_CANCEL_REMOVE_DEVICE, and IRP_MN_REMOVE_DEVICE.  </p>
<p>The test attempts to install its upper-filter driver on the target device stack. This attempt results in a query-remove IRP. </p>
<p>If this query-remove IRP fails, the test restarts the computer to get the filter driver onto the device stack. If the remove request is not vetoed, the device stack will be removed and restarted with the filter driver on the device stack.</p>
<p>The test, by using setup APIs, causes a query-remove IRP to be sent to the device stack. The filter driver fails this remove request, so a cancel-remove IRP is sent. The filter driver will assert that the cancel-remove was successful. </p>
<p>Next, the test application calls the appropriate class installer and any registered co-installers to disable or enable and remove or reenumerate the device (this tests the class and co-installers handling of DIF_PROPERTYCHANGE with DICS_DISABLE, DICS_ENABLE, and DICS_PROPCHANGE). When receiving IRP_MN_REMOVE_DEVICE, the filter driver will assert that the lower drivers completed it successfully.</p>
<p>Each of these steps involves a preliminary remove request. If that request is vetoed, the device will not be removed. You can choose to veto a remove request when appropriate, such as while streaming video on a USB camera or if the target device is in the boot or paging path. Remember that simply failing all remove requests is generally not good practice. Failing all remove requests will not guarantee that driver will never receive a remove because a remove IRP will still be issued after a surprise removal, or if anyone in the device stack fails a start IRP.</p>
<h2><a id="About_surprise_removal"></a><a id="about_surprise_removal"></a><a id="ABOUT_SURPRISE_REMOVAL"></a>About the Surprise Removal test</h2>
<ul>
<li>PNP Surprise Remove Device test</li>
</ul>
<p>The Surprise Removal test encompasses IRP_MN_SURPRISE_REMOVAL followed by IRP_MN_REMOVE_DEVICE. </p>
<p>As with the previous tests, the test application will attempt to add an upper filter to the target device stack and then restart the stack. If this attempt is not successful, the test  restarts the computer.</p>
<p>When triggered by the test application, the filter driver will cause the system to send an IRP_MN_SURPRISE_REMOVAL to the device stack, followed by an IRP_MN_REMOVE_DEVICE. The filter driver will assert that both of these IRPs are completed successfully by lower drivers.</p>
<p>After the surprise removal test is complete, the device will be uninstalled and reenumerated, also removing the filter driver from the stack.</p>
<h2><a id="About_rebalance_tests"></a><a id="about_rebalance_tests"></a><a id="ABOUT_REBALANCE_TESTS"></a>About the Rebalance Tests</h2>
<ul>
<li>PNP Stop (Rebalance) Device test</li>
<li>PNP Rebalance Request New Resources Device test
</li>
<li>PNP Rebalance Fail Restart Device test</li>
<li>PNP Cancel Stop Device test
</li>
</ul>
<p>As with the removal test, the test application attempts to add an upper filter to the target device stack and then restart the device stack by using <strong>SetupDiCallClassInstaller</strong> with DIF_PROPERTYCHANGE. If this attempt is not successful (that is, if someone on the target device stack failed the query-remove IRP), the test restarts the computer to test rebalance. </p>
<p>Depending upon which rebalance test that you choose, the following events occur: </p>
<ol>
<li><strong>PNP Stop (Rebalance) Device test</strong> This test initiates a rebalance procedure which results in the IRP_MN_QUERY_STOP_DEVICE PnP IRP to the device driver. <p>If any driver in the stack fails this IRP the rebalance procedure is abandoned. Please note that in Windows Vista, there is support for multi-level rebalance. If a rebalance is started on a non-leaf device node, all of the device stacks that are present in the device tree with that device node as the root also go through rebalance. And if any of the child device stacks fails query stop, the whole rebalance procedure is abandoned. So drivers must not fail query stop without a genuine reason to do so. If this failure happens, the PnP manager sends cancel stop (IRP_MN_CANCEL_STOP) to all the device stacks that had been sent query stop.</p>
<p>If all of the device stacks involved pass query stop, the test continues with the rebalance and sends the IRP_MN_QUERY_RESOURCE_REQUIREMENTS and IRP_MN_FILTER_RESOURCE_REQUIREMENTS IRPS to find the resource requirement of the devices. </p>
<p>After this point, two different paths are possible depending on whether the target device consumes any resources or not: </p>
<ul>
<li>If the device does not consume any resources, the PnP manager itself sends a cancel stop (IRP_MN_CANCEL_STOP_DEVICE) as an optimization. <p>If the device actually consumes resources, the rebalance procedure is completed with the IRP_MN_STOP_DEVICE and IRP_MN_START_DEVICE IRPs.</p>
</li>
</ul>
<p>With this option, the resources of the device do not change.</p>
</li>
<li><strong>PNP Cancel Stop Device test</strong>: This test initiates a rebalance procedure, but the filter driver deliberately fails the query stop IRP. The order of IRPs looks like IRP_MN_QUERY_STOP_DEVICE (which is failed by the filter driver while coming up, causing a cancellation of rebalance) and IRP_MN_CANCEL_STOP_DEVICE.<p>With this option, the resources of the device do not change </p>
</li>
<li><strong>PNP Rebalance Request New Resources Device test</strong> This test initiates a rebalance and also manipulates the resource requirement of the device to maximize the chances that actually new resources are allocated to the device. This option also helps a device with no resources to actually go through the complete rebalance procedure: <ol>
<li>First the simple rebalance is started, causing the following IRPs: <ul>
<li>IRP_MN_QUERY_STOP_DEVICE (assuming this IRP is passed by all the drivers. The test already covered the case where this IRP is failed.) </li>
<li>IRP_MN_QUERY_RESOURCE_REQUIREMENTS </li>
<li>IRP_MN_FILTER_RESOURCE_REQUIREMENTS. In response to this IRP, while going up, filter driver takes action based on whether the device consumes any resources or not: <ul>
<li>If the device has no resource requirement, filter assigns a fake resource. </li>
<li>If the device has a resource requirement, it tries to restructure the resource requirement list in such a way that maximizes the probability of changing the current assignment. For example, if a device needs 2 bytes of memory anywhere between 00 to FF and currently is assigned 3A-3B, modify such that the new resource requirement (in order of preference) looks like 00-39 or 3C-FF or 3A-3B. Similarly if the device resource requirement list has any alternate requirements, it will change their order so the alternate requirement comes earlier in the list.</li>
</ul>
</li>
</ul>
</li>
<li>Now the device should always complete the rebalance procedure. <p>IRP_MN_STOP_DEVICE </p>
<p>IRP_MN_START_DEVICE (The new allocated resources. If fake requirements were created, mask the new resources from the actual drivers.)</p>
</li>
</ol>
</li>
<li><strong>PNP Rebalance Fail Restart Device Test</strong> This test initiates a rebalance but when the filter driver gets the start after the rebalance, it deliberately fails it-which causes the surprise removal IRP followed by Removal IRP. <p>First, it starts the rebalance procedure and makes sure that the driver gets a stop and a start by generating fake resource requirement for a device which does not consume any resources. </p>
<ul>
<li>IRP_MN_QUERY_STOP_DEVICE (assuming this IRP is passed by all the drivers. The test already covered the case where this IRP is failed.) </li>
<li>IRP_MN_QUERY_RESOURCE_REQUIREMENTS </li>
<li>IRP_MN_FILTER_RESOURCE_REQUIREMENTS (If the actual resource requirement are null, filter assign fake resource requirement, so there is a stop and a start.) </li>
<li>IRP_MN_STOP_DEVICE </li>
<li>IRP_MN_START_DEVICE (The filter fails this IRP while going up. This action causes the surprise remove IRP.) </li>
<li>IRP_MN_SURPRISE_REMOVAL </li>
<li>IRP_MN_REMOVE</li>
</ul>
<p>After the rebalance test is complete, the device will be uninstalled and reenumerated, also removing the filter driver from the stack.</p>
</li>
</ol>
<h2><a id="Device_Error_Codes"></a><a id="device_error_codes"></a><a id="DEVICE_ERROR_CODES"></a>Device Error Codes</h2>
<p>If the test gives an error message saying that the device status is not OK, you can learn more about the device status through Device Manager. For a summary of the various device error codes, see <a href="http://msdn.microsoft.com/en-us/library/windows/hardware/ff541422(v=vs.85).aspx">Device Manager Error Messages</a>.
</p>
<h2><a id="Debug_installation_failures_using_the_Setup_API_logs"></a><a id="debug_installation_failures_using_the_setup_api_logs"></a><a id="DEBUG_INSTALLATION_FAILURES_USING_THE_SETUP_API_LOGS"></a>Debug installation failures using the Setup API logs</h2>
<p>The Setup API logs (setupapi.app.log and setupapi.dev.log) might contain useful information to debug driver installation failures logged by this test. The Setup API logs can be found under %windir%\inf\ directory on the test system. </p>
<p>To increase the verbosity and potential usefulness of these logs, set the following registry key to 0x2000FFFF before running the Reinstall test:</p>

<div id="code-snippet-1" class="codeSnippetContainer" xmlns="">
    <div class="codeSnippetContainerTabs">
        
    </div>
    <div class="codeSnippetContainerCodeContainer">
        <div class="codeSnippetToolBar">
            <div class="codeSnippetToolBarText">
                <a name="CodeSnippetCopyLink" style="display: none;" title="Copy to clipboard." href="javascript:if (window.epx.codeSnippet)window.epx.codeSnippet.copyCode('CodeSnippetContainerCode_a2e0907d-e4e2-4fb4-8798-9f193ec0e1f3');">Copy</a>
            </div>
        </div>
        <div id="CodeSnippetContainerCode_a2e0907d-e4e2-4fb4-8798-9f193ec0e1f3" class="codeSnippetContainerCode" dir="ltr">
            <div style="color:Black;"><pre>
HKEY_LOCAL_MACHINE\Software\Microsoft\Windows\CurrentVersion\Setup\LogLevel
</pre></div>
            
        </div>
    </div>
</div>

<h2><a id="related_topics"></a>Related topics</h2>
<dl>
<dt>
<a href="http://msdn.microsoft.com/en-us/library/windows/hardware/hh454841(v=vs.85).aspx">How to How to test a driver at runtime using Visual Studio</a>
</dt>
<dt>
<a href="http://msdn.microsoft.com/en-us/library/windows/hardware/hh454837(v=vs.85).aspx">How to select and configure the Device Fundamentals tests</a>
</dt>
<dt>
<a href="http://msdn.microsoft.com/en-us/library/windows/hardware/jj673011(v=vs.85).aspx">Device Fundamentals Tests</a>
</dt>
<dt><a href="http://msdn.microsoft.com/en-us/library/windows/hardware/hh454837(v=vs.85).aspx#DevFund_Params">Device Fundamentals Test Parameters</a></dt>
<dt>
<a href="http://msdn.microsoft.com/en-us/library/windows/hardware/hh781398(v=vs.85).aspx">Provided WDTF Simple I/O plug-ins</a>
</dt>
<dt>
<a href="http://msdn.microsoft.com/en-us/library/windows/hardware/jj674802(v=vs.85).aspx">How to test a driver at runtime from a Command Prompt</a>
</dt>
</dl>
<p> </p>
<p> </p>
<p><a href="mailto:wsddocfb@microsoft.com?subject=Documentation%20feedback [devtest\devtest]:%20PnP Tests (Device Fundamentals)%20 RELEASE:%20(2/13/2014)&amp;body=%0A%0APRIVACY STATEMENT%0A%0AWe use your feedback to improve the documentation. We don't use your email address for any other purpose, and we'll remove your email address from our system after the issue that you're reporting is fixed. While we're working to fix this issue, we might send you an email message to ask for more info. Later, we might also send you an email message to let you know that we've addressed your feedback.%0A%0AFor more info about Microsoft's privacy policy, see http://privacy.microsoft.com/en-us/default.aspx." title="Send comments about this topic to Microsoft">Send comments about this topic to Microsoft</a></p>
<p>Build date: 2/13/2014</p>
</div>
</div>

    




<div class="libraryMemberFilter">
    <div class="filterContainer">
        <span>Show:</span>
        <label>
            <input type="checkbox" class="libraryFilterInherited" checked="checked" value="Inherit" />Inherited
        </label>
        <label>
            <input type="checkbox" class="libraryFilterProtected" checked="checked" value="Protected" />Protected
        </label>
    </div>
</div>
    
<input type="hidden" id="libraryMemberFilterEmptyWarning" value="There are no members available with your current filter settings." />


 
</div>




            </div>
            <div class="clear"></div>
        
            
    
<input name="__RequestVerificationToken" type="hidden" value="7mRz32pW58rjdgvQTA91hq1CcyzRx36qHvH5rcEusF8fSTYxvhQTltY8znq-WH8GX29QL4_YNkhQpr2upClHN04IL1SrIrir_QLaoaCHinP5kWaUFs4cgs0yzUkZixXJlgKVxw2" />
<input id="ratingSubmitUrl" type="hidden" value="http://msdn.microsoft.com/en-us/library/feedback/add/jj673015(v=vs.85).aspx" />
<input id="isTopicRated" type="hidden" value="false" />




    


    <div id="ux-footer" class="Chrome ltr">
        
            <div id="footerSock">
                <div id="footerSockInner">
                    <a name="feedback"></a>
                    <div data-fragmentName="Survey" id="Fragment_Survey" xmlns="http://www.w3.org/1999/xhtml">
  <div class="DetailedLink">
    
    <div class="Content"></div>
  </div>
</div>
<div class="rating">
    <div id="ratingSection1">
        <div class="title">
            Was this page helpful?
        </div>
        <div class="description">
            Your feedback about this content is important.<br />Let us know what you think.
        </div>
        <div class="buttons">
            <button id="ratingYes">Yes</button>
            <button id="ratingNo">No</button>
        </div>
        <input id="ratingValue" type="hidden" value="" />
    </div>
    <div id="ratingSection2">
        <div class="title">
            Additional feedback?
        </div>
        <textarea id="ratingText" rows="6" cols=""></textarea>
        <div class="buttons">
            <button id="ratingSubmit">Submit</button>
            <button id="ratingSkipThis">Skip this</button>
        </div>
    </div>
    <div id="ratingSection3">
        <div class="title">
            Thank you!
        </div>
        <div class="description">
            We appreciate your feedback.
        </div>
    </div>
    
    
    <div id="contentFeedbackQAContainer" style="display: none;"></div>
</div>


                    <div data-fragmentName="SockLinks" id="Fragment_SockLinks" xmlns="http://www.w3.org/1999/xhtml">
  
  <div class="LinkList">
    <div class="Links">
      <ul class="LinkColumn" style="width: 100%">
        <li>
          <a href="http://go.microsoft.com/fwlink/p/?LinkId=317805" id="SockLinks_727_11" xmlns="http://www.w3.org/1999/xhtml">Find us on Facebook</a>
        </li>
        <li>
          <a href="http://go.microsoft.com/fwlink/p/?LinkId=317806" id="SockLinks_727_12" xmlns="http://www.w3.org/1999/xhtml">Follow us on Twitter</a>
        </li>
        <li>
          <a href="http://go.microsoft.com/fwlink/p/?linkid=285656" id="SockLinks_727_40" xmlns="http://www.w3.org/1999/xhtml">Read the hardware blog</a>
        </li>
      </ul>
    </div>
  </div>
</div>
                    <div class="clear"></div>
                </div>
            </div>
        <div id="footerContainer">
            <div id="fourColumnFooter">
                <div data-fragmentName="Column1" id="Fragment_Column1" xmlns="http://www.w3.org/1999/xhtml">
  <div class="ListOfLinkLists">
    
    <div class="LinkList" xmlns="http://www.w3.org/1999/xhtml">
      <div class="LinkListTitle">Centers</div>
      <div class="Links">
        <ul class="LinkColumn" style="width: 100%">
          <li>
            <a href="http://msdn.microsoft.com/windows" id="Column1_727_13" xmlns="http://www.w3.org/1999/xhtml">Dev Center Home</a>
          </li>
          <li>
            <a href="http://msdn.microsoft.com/windows/apps" id="Column1_727_14" xmlns="http://www.w3.org/1999/xhtml">Windows Store apps</a>
          </li>
          <li>
            <a href="http://msdn.microsoft.com/ie" id="Column1_727_15" xmlns="http://www.w3.org/1999/xhtml">Internet Explorer</a>
          </li>
          <li>
            <a href="http://msdn.microsoft.com/windows/desktop" id="Column1_727_16" xmlns="http://www.w3.org/1999/xhtml">Desktop</a>
          </li>
          <li>
            <a href="http://msdn.microsoft.com/windows/hardware" id="Column1_727_17" xmlns="http://www.w3.org/1999/xhtml">Hardware</a>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>              
                <div data-fragmentName="Column2" id="Fragment_Column2" xmlns="http://www.w3.org/1999/xhtml">
  <div class="ListOfLinkLists">
    
    <div class="LinkList" xmlns="http://www.w3.org/1999/xhtml">
      <div class="LinkListTitle">Related developer sites</div>
      <div class="Links">
        <ul class="LinkColumn" style="width: 100%">
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=285634" id="Column2_727_18" xmlns="http://www.w3.org/1999/xhtml">Microsoft Connect</a>
          </li>
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=285635" id="Column2_727_19" xmlns="http://www.w3.org/1999/xhtml">OSR Online</a>
          </li>
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=282089" id="Column2_727_42" xmlns="http://www.w3.org/1999/xhtml">Visual Studio</a>
          </li>
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=280293" id="Column2_727_20" xmlns="http://www.w3.org/1999/xhtml">Windows Phone</a>
          </li>
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=282087" id="Column2_727_43" xmlns="http://www.w3.org/1999/xhtml">Windows Server</a>
          </li>
        </ul>
      </div>
    </div>
    
    <div class="LinkList" xmlns="http://www.w3.org/1999/xhtml">
      <div class="LinkListTitle">Other Windows sites</div>
      <div class="Links">
        <ul class="LinkColumn" style="width: 100%">
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=285636" id="Column2_727_21" xmlns="http://www.w3.org/1999/xhtml">Enterprise</a>
          </li>
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=285637" id="Column2_727_22" xmlns="http://www.w3.org/1999/xhtml">Small business</a>
          </li>
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=285638" id="Column2_727_23" xmlns="http://www.w3.org/1999/xhtml">Students</a>
          </li>
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=285639" id="Column2_727_24" xmlns="http://www.w3.org/1999/xhtml">Home users</a>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>              
                <div data-fragmentName="Column3" id="Fragment_Column3" xmlns="http://www.w3.org/1999/xhtml">
  <div class="ListOfLinkLists">
    
    <div class="LinkList" xmlns="http://www.w3.org/1999/xhtml">
      <div class="LinkListTitle">Downloads</div>
      <div class="Links">
        <ul class="LinkColumn" style="width: 100%">
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=285645" id="Column3_727_25" xmlns="http://www.w3.org/1999/xhtml">Windows Driver Kit</a>
          </li>
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=285646" id="Column3_727_26" xmlns="http://www.w3.org/1999/xhtml">Windows Assessment and Deployment Kit</a>
          </li>
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=285647" id="Column3_727_27" xmlns="http://www.w3.org/1999/xhtml">Windows Hardware Certification Kit</a>
          </li>
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?LinkID=316548" id="Column3_727_29" xmlns="http://www.w3.org/1999/xhtml">Visual Studio Professional 2013</a>
          </li>
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=285649" id="Column3_727_30" xmlns="http://www.w3.org/1999/xhtml">More downloads</a>
          </li>
        </ul>
      </div>
    </div>
    
    <div class="LinkList" xmlns="http://www.w3.org/1999/xhtml">
      <div class="LinkListTitle">Support</div>
      <div class="Links">
        <ul class="LinkColumn" style="width: 100%">
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=285664" id="Column3_727_44" xmlns="http://www.w3.org/1999/xhtml">Forums</a>
          </li>
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=285663" id="Column3_727_45" xmlns="http://www.w3.org/1999/xhtml">More support options</a>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>              
                <div data-fragmentName="Column4" id="Fragment_Column4" xmlns="http://www.w3.org/1999/xhtml">
  <div class="ListOfLinkLists">
    
    <div class="LinkList" xmlns="http://www.w3.org/1999/xhtml">
      <div class="LinkListTitle">Essentials</div>
      <div class="Links">
        <ul class="LinkColumn" style="width: 100%">
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=285650" id="Column4_727_46" xmlns="http://www.w3.org/1999/xhtml">Recently published</a>
          </li>
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=285651" id="Column4_727_47" xmlns="http://www.w3.org/1999/xhtml">Debugging</a>
          </li>
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=328186" id="Column4_727_48" xmlns="http://www.w3.org/1999/xhtml">Samples</a>
          </li>
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=285653" id="Column4_727_49" xmlns="http://www.w3.org/1999/xhtml">Hardware dashboard</a>
          </li>
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=317804" id="Column4_727_50" xmlns="http://www.w3.org/1999/xhtml">Partner with Microsoft</a>
          </li>
        </ul>
      </div>
    </div>
    
    <div class="LinkList" xmlns="http://www.w3.org/1999/xhtml">
      <div class="LinkListTitle">Stay connected</div>
      <div class="Links">
        <ul class="LinkColumn" style="width: 100%">
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=285658" id="Column4_727_36" xmlns="http://www.w3.org/1999/xhtml">Microsoft events</a>
          </li>
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=313299" id="Column4_727_37" xmlns="http://www.w3.org/1999/xhtml">Windows App Builder Blog</a>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>              
            </div>

            <div id="baseFooterLogos">
                <span class="microsoftlogo" title="Microsoft"></span>
                <a href="http://msdn.microsoft.com/en-us" class="msdnlogo" title="MSDN"></a>
            </div>
        
            <div id="baseFooter">
                <div id="FooterCopyright">© 2014 Microsoft</div>
                <div data-fragmentName="BaseFooterContent" id="Fragment_BaseFooterContent" xmlns="http://www.w3.org/1999/xhtml">
  <div xmlns="http://www.w3.org/1999/xhtml">
    <div xmlns:mtps="http://msdn2.microsoft.com/mtps">
      <div data-fragmentName="BaseFooter" id="Fragment_BaseFooter">
        
        <div class="LinkList">
          <div class="Links">
            <ul class="LinkColumn horizontal">
              <li>
                <a href="http://msdn.microsoft.com/windows/apps/cc300389" id="BaseFooter_35351_1" xmlns="http://www.w3.org/1999/xhtml">Terms of Use</a>
              </li>
              <li>
                <a href="http://www.microsoft.com/library/toolbar/3.0/trademarks/en-us.mspx" id="BaseFooter_35351_2" xmlns="http://www.w3.org/1999/xhtml">Trademarks</a>
              </li>
              <li>
                <a href="http://www.microsoft.com/info/privacy.mspx" id="BaseFooter_35351_3" xmlns="http://www.w3.org/1999/xhtml">Privacy and Cookies</a>
              </li>
              <li>
                <a href="http://msdn.microsoft.com/en-us/windows/dn554289" id="BaseFooter_730_5" xmlns="http://www.w3.org/1999/xhtml">Site map</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
      <div data-fragmentName="HelloText" id="Fragment_HelloText">Hello from Seattle.
</div>
    </div>
  </div>
</div>  
                    <form class="selectLocale" id="selectLocaleForm" action="http://msdn.microsoft.com/en-us/windows/hardware/SelectLocale">
        <input type="hidden" name="fromPage" value="http%3a%2f%2fmsdn.microsoft.com%2fen-us%2flibrary%2fwindows%2fhardware%2fjj673015(v%3dvs.85).aspx" />
        <a href="#" onclick="$('#selectLocaleForm').submit();return false;" title="Change your language">United States (English)</a>
    </form>    


                <div class="clear"></div>
            </div>
        </div>
    </div> 


            <div class="footerPrintView">
                <div class="footerCopyrightPrintView">© 2014 Microsoft. All rights reserved.</div>
            </div>

            
            
    


        
            <input id="MtpsDevice" type="hidden" value="Default" />


<![CDATA[ Third party scripts and code linked to or referenced from this website are licensed to you by the parties that own such code, not by Microsoft.  See ASP.NET Ajax CDN Terms of Use – http://www.asp.net/ajaxlibrary/CDN.ashx. ]]>
        
            
            
            
            
            
        





<noscript><div><img alt="DCSIMG" id="Img1" width="1" height="1" src="http://m.webtrends.com/dcsmgru7m99k7mqmgrhudo0k8_8c6m/njs.gif?dcsuri=/nojavascript&amp;WT.js=No" /></div></noscript>









<noscript>
  <a href="http://www.omniture.com/" title="Web Analytics">
    <img src="http://msstonojsmsdn.112.2o7.net/b/ss/msstonojsmsdn/1/H.20.2--NS/0" height="1" width="1" border="0" alt="" />
  </a>
</noscript>




<div id="globalRequestVerification">
    <input name="__RequestVerificationToken" type="hidden" value="5eCpDpiOIlZx2x66T3-AKXPcpufVJWH-MXXtPp7ezYfs8vyD-xOgDeG2LecnTilF6Xgpn-mvlaJKihfV3IXkvxtv4qrpWDdSbXtvYxUTcgbDoZTsvEsm4CXt46Vjwi9cmVBHEA2" />
</div>


        </div>
    <script type="text/javascript" class="mtps-injected">
/*<![CDATA[*/
(function(window,document){"use strict";function preload(scripts){for(var result=[],script,e,i=0;i<scripts.length;i++)script=scripts[i],script.hasOwnProperty("url")&&(e=document.createElement("script"),e.src=script.url,script.throwaway=e),result.push(script);return result}function inject(scripts,index){var script,elem;if(index>=scripts.length){delete mtps.injectScripts;return}script=scripts[index];elem=document.createElement("script");elem.className="mtps-injected";elem.async=!1;var isLoaded=!1,timeoutId=0,injectNextFnName="",injectNext=elem.onerror=function(){isLoaded||(isLoaded=!0,inject(scripts,index+1),window.clearTimeout(timeoutId),elem.onload=elem.onerror=elem.onreadystatechange=null,injectNextFnName&&delete mtps[injectNextFnName],elem.removeEventListener&&elem.removeEventListener("load",injectNext,!1))};elem.addEventListener?elem.addEventListener("load",injectNext,!1):elem.readyState==="uninitialized"?elem.onreadystatechange=function(){(this.readyState==="loaded"||this.readyState==="complete")&&injectNext()}:elem.onload=injectNext;script.hasOwnProperty("url")?(timeoutId=window.setTimeout(injectNext,12e4),elem.src=script.url):(injectNextFnName="_injectNextScript_"+index,mtps[injectNextFnName]=injectNext,timeoutId=window.setTimeout(injectNext,2e3),elem.text="try {\n"+script.txt+"\n} finally { MTPS."+injectNextFnName+" && MTPS."+injectNextFnName+"(); }");parent.appendChild(elem)}var mtps=window.MTPS||(window.MTPS={}),parent=document.getElementsByTagName("head")[0];mtps.injectScripts=function(scripts){inject(preload(scripts),0)}})(window,document);
MTPS.injectScripts([
	{ txt: "/**/\r\n(window.MTPS || (window.MTPS = {})).cdnDomains || (window.MTPS.cdnDomains = { \r\n\t\"image\": \"http://i.msdn.microsoft.com\", \r\n\t\"js\": \"http://i2.msdn.microsoft.com\", \r\n\t\"css\": \"http://i3.msdn.microsoft.com\"\r\n});\r\n/**/" },
	{ url: "http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.8.2.min.js" },
	{ txt: "//\n  var literalNormalizedUrl = \u0027/en-us/library/windows/hardware/jj673015(d=default,l=en-us,v=vs.85).aspx\u0027;\n  var wt_nvr_ru = \u0027WT_NVR_RU\u0027;\n  var wt_fpcdom = \u0027.microsoft.com\u0027;\n  var wt_domlist = \u0027msdn.microsoft.com\u0027;\n  var wt_pathlist = \u0027\u0027;\n  var wt_paramlist = \u0027DCSext.mtps_devcenter\u0027;\n  var wt_siteid = \u0027MSDN\u0027;\n  var gDomain = \u0027m.webtrends.com\u0027;\n  var gDcsId = \u0027dcsmgru7m99k7mqmgrhudo0k8_8c6m\u0027;\n  var gFpc = \u0027WT_FPC\u0027;\n\n\n\n  if (document.cookie.indexOf(gFpc + \"=\") == -1) {\n    var wtidJs = document.createElement(\"script\");\n    wtidJs.src = \"//\" + gDomain + \"/\" + gDcsId + \"/wtid.js\";\n    document.getElementsByTagName(\"head\")[0].appendChild(wtidJs);\n  }\n\n\n\n  var detectedLocale = \u0027en-us\u0027;\n  var wtsp = \u0027_msdn_\u0027;\n  var gTrackEvents = \u00270\u0027;\n/**/" },
	{ txt: "/**/\n  var omni_guid = \"7bfe911e-6975-4923-8eda-63bbd9f51d10\";\n/**/" },
	{ url: "http://i2.msdn.microsoft.com/Combined.js?resources=0:Utilities,0:Topic,1:webtrendsscript,2:omni_rsid_MSDN,3:SearchBox;/Areas/Epx/Content/Scripts:0,/Areas/Global/Content/Webtrends/resources:1,/Areas/Global/Content/Omniture/resources/MSDN:2,/Areas/Epx/Themes/Base/Content:3\u0026amp;hashKey=E93F43E708C4E79B13014A098239D120" },
	{ url: "http://i3.services.social.microsoft.com/search/Widgets/SearchBox.jss?boxid=HeaderSearchTextBox\u0026btnid=HeaderSearchButton\u0026brand=MSDN\u0026loc=en-us\u0026Refinement=182\u0026focusOnInit=false\u0026iroot=windows%2fhardware\u0026emptyWatermark=true\u0026searchButtonTooltip=Search" },
	{ url: "http://i2.msdn.microsoft.com/Combined.js?resources=0:Header,1:Toc,1:LibraryMemberFilter,2:Toc_Fixed,3:Rating,2:CodeSnippet,2:TopicNotInScope,2:CollapsibleArea,2:VersionSelector,2:SurveyBroker;/Areas/Epx/Themes/Windows/Content:0,/Areas/Library/Content:1,/Areas/Epx/Content/Scripts:2,/Areas/Epx/Themes/Base/Content:3\u0026amp;hashKey=2738C0CC18843CA9EAD45D501FB8031F" },
	{ txt: "$(document).ready(function() {\n        try {\n            var token = $(\"#globalRequestVerification input[name=\u0027__RequestVerificationToken\u0027]\").clone();\n            $(\"#siteFeedbackForm\").append(token);\n        } catch(err) {\n            \n        }\n    });" }
]);

/*]]>*/
</script></body>

<!-- Mirrored from msdn.microsoft.com/en-us/library/windows/hardware/jj673015(v=vs.85).aspx by HTTrack Website Copier/3.x [XR&CO'2013], Mon, 17 Mar 2014 17:15:54 GMT -->
</html>