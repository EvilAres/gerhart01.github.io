<!DOCTYPE html>

<html dir="ltr" xmlns="http://www.w3.org/1999/xhtml" lang="en">
    
<!-- Mirrored from msdn.microsoft.com/en-US/library/windows/hardware/aa365747(v=vs.85).aspx by HTTrack Website Copier/3.x [XR&CO'2013], Mon, 17 Mar 2014 17:16:09 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><link rel="canonical" href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa365747(v=vs.85).aspx" />
        <title>WriteFile function (Windows)</title>




<meta name="DCS.dcsuri" content="/en-us/library/windows/hardware/aa365747(d=default,l=en-us,v=vs.85).aspx" />

<meta name="NormalizedUrl" content="http://msdn.microsoft.com/en-us/library/windows/hardware/aa365747(d=default,l=en-us,v=vs.85).aspx" />

<meta name="ms.normalizedurl" content="http://msdn.microsoft.com/en-us/library/windows/hardware/aa365747(d=default,l=en-us,v=vs.85).aspx" />

<meta name="VotingContextUrl" content="http://msdn.microsoft.com/en-us/library/windows/hardware/aa365747(d=default,l=en-us,v=vs.85).aspx" />

<meta name="MN" content="BF1CA93B-9:55:26 AM" />

<meta name="Search.ShortId" content="aa365747" />

<meta name="ms.shortidmsdn" content="aa365747" />

<meta name="Ms.Locale" content="en-us" />







        
    <link rel="shortcut icon" href="http://msdn.microsoft.com/Areas/Epx/Themes/Windows/Content/Winlogo_favicon.ico" />

    <link rel="stylesheet" type="text/css" href="http://i3.msdn.microsoft.com/Combined.css?resources=0:Topic,0:CodeSnippet,0:ExpandableCollapsibleArea,1:CommunityContent,0:TopicNotInScope,0:FeedViewerBasic,0:ImageSprite,2:Header,2:sprite,1:Toc,1:NavigationResize,1:LibraryMemberFilter,2:Footer,3:DetailedLinkList,3:LinkList,4:Windows;/Areas/Epx/Content/Css:0,/Areas/Library/Content:1,/Areas/Epx/Themes/Windows/Content:2,/Areas/Epx/Themes/Base/Content:3,/Areas/Library/Themes/Windows/Content:4&amp;amp;hashKey=3FEA910FB0B7251DAF6A5F06B61EA8C8" /></head>
    <body class="library ">
        <div id="page">
            
            
  
            
    
    

    <div id="ux-header" class=" ltr">
        <div id="headerContainer">
            <div id="logoAndSearchBox">
                <div id="logo">
                    <a href="http://msdn.microsoft.com/windows/" title="Windows"><img alt="Windows" src="http://i.msdn.microsoft.com/Areas/Epx/Themes/Windows/Content/Windows_logo.png"></img></a>       
                </div>
              
        <div id="selectedTab">
            <a class="dropDownToggle" href="javascript:void(0);">Dev Center - Hardware</a>    
        </div>
    <div id="toclevel1_menu" style="display: none;">
        <ul>
                <li><a href="http://msdn.microsoft.com/windows/" title="Dev Center Home">Dev Center Home</a></li>
                <li><a href="http://msdn.microsoft.com/windows/apps/" title="Windows Store apps">Windows Store apps</a></li>
                <li><a href="http://msdn.microsoft.com/ie/" title="Internet Explorer">Internet Explorer</a></li>
                <li><a href="http://msdn.microsoft.com/windows/desktop/" title="Desktop">Desktop</a></li>
                <li><a href="http://msdn.microsoft.com/windows/hardware/" title="Hardware">Hardware</a></li>
        </ul>
        <div style="clear: both"></div>
    </div> 

                
                  

        <div class="SearchBox">   
            <form id="HeaderSearchForm" name="HeaderSearchForm" method="get" onsubmit="return Epx.Controls.SearchBox.searchBoxOnSubmit(this);">
            <input id="HeaderSearchTextBox" name="query" type="text" maxlength="200" onfocus="Epx.Controls.SearchBox.watermarkFocus(event, this.title)" onblur="Epx.Controls.SearchBox.watermarkBlur(event, this.title)" />            
            <button id="HeaderSearchButton" value="" type="submit" class="header-search-button"></button>
            </form>
         
                
                 
    
        </div>

                <div class="Clear"></div>
            </div>
            <div class="Clear"></div>
            <div class="ux-internav">
    <div class="toclevel2"> 
            <a class="normal" href="https://sysdev.microsoft.com/en-us/hardware/" title="Dashboard">Dashboard</a>
            <a class="normal" href="http://msdn.microsoft.com/windows/hardware/gg507680" title="Get Started ">Get Started </a>
            <a class="normal" href="http://msdn.microsoft.com/windows/hardware/gg462970" title="Design">Design</a>
            <a class="normal" href="http://msdn.microsoft.com/windows/hardware/ff960953" title="Develop">Develop</a>
            <a class="normal" href="http://msdn.microsoft.com/windows/hardware/gg463010" title="Certify">Certify</a>
    </div>
    <div class="clear"></div>

            </div>
            <div id="signIn">

<a class="scarabLink" href="https://login.live.com/login.srf?wa=wsignin1.0&amp;rpsnv=12&amp;ct=1395075326&amp;rver=6.0.5276.0&amp;wp=MCLBI&amp;wlcxt=MSDN%24MSDN%24MSDN&amp;wreply=http%3a%2f%2fmsdn.microsoft.com%2fen-US%2flibrary%2fwindows%2fhardware%2faa365747%2528v%3dvs.85%2529.aspx&amp;lc=1033&amp;id=254354&amp;mkt=en-US" title="Sign in">Sign in</a></div>

    

        </div>  
        <div id="blackBar">

        </div>
    </div>


        
            <div id="body">
                







    <div id="leftNav">



<div id="tocnav">
            <div class="toclevel0" data-toclevel="0">
<a href="http://msdn.microsoft.com/en-US/library/windows/hardware/INVALIDLINK" mtpsaliasid="" mtpsassetid="" mtpsshortid="" title="Dashboard">Dashboard</a>            </div>
            <div class="toclevel0" data-toclevel="0">
<a data-tochassubtree="true" href="http://msdn.microsoft.com/en-us/library/windows/hardware/gg507680.aspx" id="bg126134_MSDN.10_en-us" mtpsaliasid="" mtpsassetid="" mtpsshortid="" title="Get Started">Get Started</a>            </div>
            <div class="toclevel0" data-toclevel="0">
<a data-tochassubtree="true" href="http://msdn.microsoft.com/en-us/library/windows/hardware/gg462970.aspx" id="bg126135_MSDN.10_en-us" mtpsaliasid="" mtpsassetid="" mtpsshortid="" title="Design">Design</a>            </div>
            <div class="toclevel0" data-toclevel="0">
<a data-tochassubtree="true" href="http://msdn.microsoft.com/en-us/library/windows/hardware/ff960953.aspx" id="bg126136_MSDN.10_en-us" mtpsaliasid="" mtpsassetid="" mtpsshortid="" title="Develop">Develop</a>            </div>
            <div class="toclevel0" data-toclevel="0">
<a data-tochassubtree="true" href="http://msdn.microsoft.com/en-us/library/windows/hardware/gg463010.aspx" id="bg126137_MSDN.10_en-us" mtpsaliasid="" mtpsassetid="" mtpsshortid="" title="Certify">Certify</a>            </div>
</div>
        

        

        
        
        <div id="toc-resizable-ew" class="toc-resizable-ew"></div>
        

<a id="NavigationResize" href="javascript:void(0)">
    <img class="cl_nav_resize_open" src="http://i3.msdn.microsoft.com/Areas/Epx/Content/Images/ImageSprite.png" title="Expand" alt="Expand" />
    <img class="cl_nav_resize_close" src="http://i3.msdn.microsoft.com/Areas/Epx/Content/Images/ImageSprite.png" title="Minimize" alt="Minimize" />
</a>



    </div>
<div id="content" class="content">





<div class="topicNotInScope" id="topicNotInScope">
    <div class="topicNotInScopeDisclaimer" id="topicNotInScopeDisclaimer">
        <div class="topicNotInScopeImageContainer clip16x16">
            <img class="topicNotInScopeInformationImage" src="http://i3.msdn.microsoft.com/Areas/Epx/Content/Images/ImageSprite.png" alt="Information" />
        </div>
        <div class="topicNotInScopeSwitchCollectionContainer">
            <a class="topicNotInScopeSwitchCollection" id="topicNotInScopeSwitchCollection" href="#" onclick="TopicNotInScope_ShowPicker();return false;">
                Switch
            </a>
            <div class="topicNotInScopeImageContainer2 clip11x6">
                <img class="topicNotInScopeDropdownImage" id="topicNotInScopeDropdownImage" src="http://i3.msdn.microsoft.com/Areas/Epx/Content/Images/ImageSprite.png" alt="Switch" onclick="TopicNotInScope_ShowPicker()" />
            </div>
             <ul id="topicNotInScopeCollectionPicker" class="topicNotInScopeCollectionPicker">
                        <li class="topicNotInScopeCollectionPickerItem">
                            <a href="http://msdn.microsoft.com/en-US/windows/desktop/ux/aa365747(v=vs.85).aspx" title="Visual Studio">Visual Studio</a>
                        </li>
                        <li class="topicNotInScopeCollectionPickerItem">
                            <a href="http://msdn.microsoft.com/en-US/library/windows/desktop/aa365747(v=vs.85).aspx" title="Windows Desktop Development">Windows Desktop Development</a>
                        </li>
                        <li class="topicNotInScopeCollectionPickerItem">
                            <a href="http://msdn.microsoft.com/en-US/windows/apps/ux/aa365747(v=vs.85).aspx" title="Visual Studio">Visual Studio</a>
                        </li>
                        <li class="topicNotInScopeCollectionPickerItem">
                            <a href="http://msdn.microsoft.com/en-US/library/aa365747(v=vs.85).aspx" title="MSDN Library">MSDN Library</a>
                        </li>
            </ul>
        </div>
        <div class="topicNotInScopeDisclaimerText">The topic you requested is included in another documentation set. For convenience, it's displayed below. Choose Switch to see the topic in its original location.</div>
        <div class="Clear"></div>
    </div>
</div>



        

<div class="topic" xmlns="http://www.w3.org/1999/xhtml">
  <h1 class="title">WriteFile function</h1>
  
  <div id="mainSection">
<div class="clsServerSDKContent">

</div>
<p>Writes data to the specified file or input/output (I/O) device.</p>
<p>This function is designed for both synchronous and asynchronous operation. For a similar function designed 
    solely for asynchronous operation, see <a href="http://msdn.microsoft.com/en-US/library/windows/hardware/aa365748(v=vs.85).aspx"><strong xmlns="http://www.w3.org/1999/xhtml">WriteFileEx</strong></a>.</p>
<h2>Syntax</h2>

<div id="code-snippet-1" class="codeSnippetContainer" xmlns="">
    <div class="codeSnippetContainerTabs">
        <div class="codeSnippetContainerTabSingle" dir="ltr"><a>C++</a></div>
    </div>
    <div class="codeSnippetContainerCodeContainer">
        <div class="codeSnippetToolBar">
            <div class="codeSnippetToolBarText">
                <a name="CodeSnippetCopyLink" style="display: none;" title="Copy to clipboard." href="javascript:if (window.epx.codeSnippet)window.epx.codeSnippet.copyCode('CodeSnippetContainerCode_a40d2ce9-0836-40fa-acab-41022c8035b0');">Copy</a>
            </div>
        </div>
        <div id="CodeSnippetContainerCode_a40d2ce9-0836-40fa-acab-41022c8035b0" class="codeSnippetContainerCode" dir="ltr">
            <div style="color:Black;"><pre>

BOOL WINAPI WriteFile(
  _In_         HANDLE hFile,
  _In_         LPCVOID lpBuffer,
  _In_         DWORD nNumberOfBytesToWrite,
  _Out_opt_    LPDWORD lpNumberOfBytesWritten,
  _Inout_opt_  LPOVERLAPPED lpOverlapped
);

</pre></div>
            
        </div>
    </div>
</div>

<h2>Parameters</h2>
<dl>
<dt><em>hFile</em> [in]</dt>
<dd>
<p>A handle to the file or I/O device (for example, a file, file stream, physical disk, volume,  console buffer, 
       tape drive, socket, communications resource, mailslot, or  pipe).</p>
<p>The <em>hFile</em> parameter must have been created with the write access. For more 
       information, see 
       <a href="http://msdn.microsoft.com/en-US/library/windows/hardware/aa446632(v=vs.85).aspx">Generic Access Rights</a> and 
       <a href="http://msdn.microsoft.com/en-US/library/windows/hardware/aa364399(v=vs.85).aspx">File Security and Access Rights</a>.</p>
<p>For asynchronous write operations, <em>hFile</em> can be any handle opened with the 
       <a href="http://msdn.microsoft.com/en-US/library/windows/hardware/aa363858(v=vs.85).aspx"><strong xmlns="http://www.w3.org/1999/xhtml">CreateFile</strong></a> function using the 
       <strong>FILE_FLAG_OVERLAPPED</strong> flag or a socket handle returned by the 
       <a href="http://msdn.microsoft.com/en-US/library/windows/hardware/ms740506(v=vs.85).aspx"><strong xmlns="http://www.w3.org/1999/xhtml">socket</strong></a> or 
       <a href="http://msdn.microsoft.com/en-US/library/windows/hardware/ms737526(v=vs.85).aspx"><strong xmlns="http://www.w3.org/1999/xhtml">accept</strong></a> function.</p>
</dd>
<dt><em>lpBuffer</em> [in]</dt>
<dd>
<p>A pointer to the buffer containing the data to be written to the file or device.</p>
<p>This buffer must remain valid for the duration of the write operation. The caller must not use this buffer 
        until the write operation is completed.</p>
</dd>
<dt><em>nNumberOfBytesToWrite</em> [in]</dt>
<dd>
<p>The number of bytes to be written to the file or device.</p>
<p>A value of zero specifies a null write operation. The behavior of a null write operation depends on the 
        underlying file system or communications technology.</p>
<p><strong>Windows Server 2003 and Windows XP:  </strong>Pipe write operations across a network are limited in size per write. The amount varies per platform. 
         For x86 platforms it's 63.97 MB. For x64 platforms it's 31.97 MB. For Itanium it's 63.95 MB. For more 
         information regarding pipes, see the Remarks section.</p>
</dd>
<dt><em>lpNumberOfBytesWritten</em> [out, optional]</dt>
<dd>
<p>A pointer to the variable that receives the number of bytes written when using a synchronous 
        <em>hFile</em> parameter. <strong>WriteFile</strong> sets 
        this value to zero before doing any work or error checking. Use <strong>NULL</strong> for this 
        parameter if this is an asynchronous operation to avoid potentially erroneous results.</p>
<p>This parameter can be <strong>NULL</strong> only when the <em>lpOverlapped</em> 
        parameter is not <strong>NULL</strong>.</p>
<p>For more information, see the Remarks section.</p>
</dd>
<dt><em>lpOverlapped</em> [in, out, optional]</dt>
<dd>
<p>A pointer to an <a href="http://msdn.microsoft.com/en-US/library/windows/hardware/ms684342(v=vs.85).aspx"><strong xmlns="http://www.w3.org/1999/xhtml">OVERLAPPED</strong></a> structure is 
       required if the <em>hFile</em> parameter was opened with 
       <strong>FILE_FLAG_OVERLAPPED</strong>, otherwise this parameter can be 
       <strong>NULL</strong>.</p>
<p>For an <em>hFile</em> that supports byte offsets, if you use this parameter you must specify 
       a byte offset at which to start writing to the file or device. This offset is specified by setting the 
       <strong>Offset</strong> and <strong>OffsetHigh</strong> members of the 
       <a href="http://msdn.microsoft.com/en-US/library/windows/hardware/ms684342(v=vs.85).aspx"><strong xmlns="http://www.w3.org/1999/xhtml">OVERLAPPED</strong></a> structure. For an 
       <em>hFile</em> that does not support byte offsets, <strong>Offset</strong> and 
       <strong>OffsetHigh</strong> are ignored.</p>
<p>To write to the end of file, specify both the <strong>Offset</strong> and 
       <strong>OffsetHigh</strong> members of the 
       <a href="http://msdn.microsoft.com/en-US/library/windows/hardware/ms684342(v=vs.85).aspx"><strong xmlns="http://www.w3.org/1999/xhtml">OVERLAPPED</strong></a> structure as 0xFFFFFFFF. This is 
       functionally equivalent to previously calling the 
       <a href="http://msdn.microsoft.com/en-US/library/windows/hardware/aa363858(v=vs.85).aspx"><strong xmlns="http://www.w3.org/1999/xhtml">CreateFile</strong></a> function to open 
       <em>hFile</em> using <strong>FILE_APPEND_DATA</strong> access.</p>
<p>For more information about different combinations of <em>lpOverlapped</em> and 
       <strong>FILE_FLAG_OVERLAPPED</strong>, see the Remarks section and the 
       <a href="#synchronization_and_file_position">Synchronization and File Position</a> section.</p>
</dd>
</dl>
<h2>Return value</h2>
<p>If the function succeeds, the return value is nonzero (<strong>TRUE</strong>).</p>
<p>If the function fails, or is completing asynchronously, the return value is zero 
       (<strong>FALSE</strong>). To get extended error information, call the 
       <a href="http://msdn.microsoft.com/en-US/library/windows/hardware/ms679360(v=vs.85).aspx"><strong xmlns="http://www.w3.org/1999/xhtml">GetLastError</strong></a> function.</p>
<p class="note"><strong>Note</strong>  The <a href="http://msdn.microsoft.com/en-US/library/windows/hardware/ms679360(v=vs.85).aspx"><strong xmlns="http://www.w3.org/1999/xhtml">GetLastError</strong></a> code 
       <strong>ERROR_IO_PENDING</strong> is not a failure; it designates the write operation is pending 
       completion asynchronously. For more information, see Remarks.</p>
<h2>Remarks</h2>
<p>The <strong>WriteFile</strong> function returns when one of the following 
     conditions occur:</p>
<ul>
<li>The number of bytes requested is written.</li>
<li>A read operation releases buffer space on the read end of the pipe (if the write was blocked). For more 
      information, see the <a href="#pipes">Pipes</a> section.</li>
<li>An asynchronous handle is being used and the write is occurring asynchronously.</li>
<li>An error occurs.</li>
</ul>
<p>The <strong>WriteFile</strong> function may fail with 
    <strong>ERROR_INVALID_USER_BUFFER</strong> or <strong>ERROR_NOT_ENOUGH_MEMORY</strong> whenever 
    there are too many outstanding asynchronous I/O requests.</p>
<p>To cancel all pending asynchronous I/O operations, use either:</p>
<ul>
<li>
<a href="http://msdn.microsoft.com/en-US/library/windows/hardware/aa363791(v=vs.85).aspx"><strong xmlns="http://www.w3.org/1999/xhtml">CancelIo</strong></a>—this function cancels only 
      operations issued by the calling thread for the specified file handle.</li>
<li>
<a href="http://msdn.microsoft.com/en-US/library/windows/hardware/aa363792(v=vs.85).aspx"><strong xmlns="http://www.w3.org/1999/xhtml">CancelIoEx</strong></a>—this function 
      cancels all operations issued by the threads for the specified file handle.</li>
</ul>
<p>Use the <a href="http://msdn.microsoft.com/en-US/library/windows/hardware/aa363794(v=vs.85).aspx"><strong xmlns="http://www.w3.org/1999/xhtml">CancelSynchronousIo</strong></a> function to 
     cancel pending synchronous I/O operations.</p>
<p>I/O operations that are canceled complete with the error <strong>ERROR_OPERATION_ABORTED</strong>.</p>
<p>The <strong>WriteFile</strong> function may fail with 
    <strong>ERROR_NOT_ENOUGH_QUOTA</strong>, which means the calling process's buffer could not be 
    page-locked. For more information, see 
    <a href="http://msdn.microsoft.com/en-US/library/windows/hardware/ms686234(v=vs.85).aspx"><strong xmlns="http://www.w3.org/1999/xhtml">SetProcessWorkingSetSize</strong></a>.</p>
<p>If part of the file is locked by another process and the write operation overlaps the locked portion, 
    <strong>WriteFile</strong> fails.</p>
<p>When writing to a file, the last write time is not fully updated until all handles used for writing have been 
    closed. Therefore, to ensure an accurate last write time, close the file handle immediately after writing to the 
    file.</p>
<p>Accessing the output buffer while a write operation is using the buffer may lead to corruption of the data 
    written from that buffer. Applications must not write to, reallocate, or free the output buffer that a write 
    operation is using until the write operation completes. This can be particularly problematic when using an 
    asynchronous file handle. Additional information regarding synchronous versus asynchronous file handles can be 
    found later in the <a href="#synchronization_and_file_position">Synchronization and File Position</a> 
    section and 
    <a href="http://msdn.microsoft.com/en-US/library/windows/hardware/aa365683(v=vs.85).aspx">Synchronous and Asynchronous I/O</a>.</p>
<p>Note that the time stamps may not be updated correctly for a remote file. To ensure consistent results, use 
    unbuffered I/O.</p>
<p>The system interprets zero bytes to write as specifying a null write operation and 
    <strong>WriteFile</strong> does not truncate or extend the file. To truncate or 
    extend a file, use the <a href="http://msdn.microsoft.com/en-US/library/windows/hardware/aa365531(v=vs.85).aspx"><strong xmlns="http://www.w3.org/1999/xhtml">SetEndOfFile</strong></a> 
    function.</p>
<p>Characters can be written to the screen buffer using 
    <strong>WriteFile</strong> with a handle to console output. The exact behavior 
    of the function is determined by the console mode. The data is written to the current cursor position. The cursor 
    position is updated after the write operation. For more information about console handles, see 
    <a href="http://msdn.microsoft.com/en-US/library/windows/hardware/aa363858(v=vs.85).aspx"><strong xmlns="http://www.w3.org/1999/xhtml">CreateFile</strong></a>.</p>
<p>When writing to a communications device, the behavior of 
    <strong>WriteFile</strong> is determined by the current communication time-out 
    as set and retrieved by using the <a href="http://msdn.microsoft.com/en-US/library/windows/hardware/aa363437(v=vs.85).aspx"><strong xmlns="http://www.w3.org/1999/xhtml">SetCommTimeouts</strong></a> and 
    <a href="http://msdn.microsoft.com/en-US/library/windows/hardware/aa363261(v=vs.85).aspx"><strong xmlns="http://www.w3.org/1999/xhtml">GetCommTimeouts</strong></a> functions. Unpredictable results can 
    occur if you fail to set the time-out values. For more information about communication time-outs, see 
    <a href="http://msdn.microsoft.com/en-US/library/windows/hardware/aa363190(v=vs.85).aspx"><strong xmlns="http://www.w3.org/1999/xhtml">COMMTIMEOUTS</strong></a>.</p>
<p>Although a single-sector write is atomic, a multi-sector write is not guaranteed to be atomic unless you are 
    using a transaction (that is, the handle created is a transacted handle; for example, a handle created using 
    <a href="http://msdn.microsoft.com/en-US/library/windows/hardware/aa363859(v=vs.85).aspx"><strong xmlns="http://www.w3.org/1999/xhtml">CreateFileTransacted</strong></a>). Multi-sector 
    writes that are cached may not always be written to the disk right away; therefore, specify 
    <strong>FILE_FLAG_WRITE_THROUGH</strong> in 
    <a href="http://msdn.microsoft.com/en-US/library/windows/hardware/aa363858(v=vs.85).aspx"><strong xmlns="http://www.w3.org/1999/xhtml">CreateFile</strong></a> to ensure that an entire multi-sector write is 
    written to the disk without potential caching delays.</p>
<p>If you write directly to a volume that has a mounted file system, you must first obtain exclusive access to 
    the volume. Otherwise, you risk causing data corruption or system instability, because your application's writes 
    may conflict with other changes coming from the file system and leave the contents of the volume in an 
    inconsistent state. To prevent these problems, the following changes have been made in Windows Vista 
    and later:
    </p>
<ul>
<li>A write on a volume handle will succeed if the volume does not have a mounted file system, or if one of the 
      following conditions is true:
      <ul>
<li>The sectors to be written to are boot sectors.</li>
<li>The sectors to be written to reside outside of file system space.</li>
<li>You have explicitly locked or dismounted the volume by using 
        <a href="http://msdn.microsoft.com/en-US/library/windows/hardware/aa364575(v=vs.85).aspx"><strong xmlns="http://www.w3.org/1999/xhtml">FSCTL_LOCK_VOLUME</strong></a> or 
        <a href="http://msdn.microsoft.com/en-US/library/windows/hardware/aa364562(v=vs.85).aspx"><strong xmlns="http://www.w3.org/1999/xhtml">FSCTL_DISMOUNT_VOLUME</strong></a>.</li>
<li>The volume has no actual file system. (In other words, it has a RAW file system mounted.)</li>
</ul>
</li>
<li>A write on a disk handle will succeed if one of the following conditions is true:
      <ul>
<li>The sectors to be written to do not fall within a volume's extents.</li>
<li>The sectors to be written to fall within a mounted volume, but you have explicitly locked or dismounted 
        the volume by using <a href="http://msdn.microsoft.com/en-US/library/windows/hardware/aa364575(v=vs.85).aspx"><strong xmlns="http://www.w3.org/1999/xhtml">FSCTL_LOCK_VOLUME</strong></a> or 
        <a href="http://msdn.microsoft.com/en-US/library/windows/hardware/aa364562(v=vs.85).aspx"><strong xmlns="http://www.w3.org/1999/xhtml">FSCTL_DISMOUNT_VOLUME</strong></a>.</li>
<li>The sectors to be written to fall within a volume that has no mounted file system other than RAW.</li>
</ul>
</li>
</ul>
<p>There are strict requirements for successfully working with files opened with 
    <a href="http://msdn.microsoft.com/en-US/library/windows/hardware/aa363858(v=vs.85).aspx"><strong xmlns="http://www.w3.org/1999/xhtml">CreateFile</strong></a> using 
    <strong>FILE_FLAG_NO_BUFFERING</strong>. For details see 
    <a href="http://msdn.microsoft.com/en-US/library/windows/hardware/cc644950(v=vs.85).aspx">File Buffering</a>.</p>
<p>If <em>hFile</em> was opened with <strong>FILE_FLAG_OVERLAPPED</strong>, the 
     following conditions are in effect:</p>
<ul>
<li>The <em>lpOverlapped</em> parameter must point to a valid and unique 
      <a href="http://msdn.microsoft.com/en-US/library/windows/hardware/ms684342(v=vs.85).aspx"><strong xmlns="http://www.w3.org/1999/xhtml">OVERLAPPED</strong></a> structure, otherwise the function can 
      incorrectly report that the write operation is complete.</li>
<li>The <em>lpNumberOfBytesWritten</em> parameter should be set to 
      <strong>NULL</strong>. To get the number of bytes written, use the 
      <a href="http://msdn.microsoft.com/en-US/library/windows/hardware/ms683209(v=vs.85).aspx"><strong xmlns="http://www.w3.org/1999/xhtml">GetOverlappedResult</strong></a> function. If the 
      <em>hFile</em> parameter is associated with an I/O completion port, you can also get the number 
      of bytes written by calling the 
      <a href="http://msdn.microsoft.com/en-US/library/windows/hardware/aa364986(v=vs.85).aspx"><strong xmlns="http://www.w3.org/1999/xhtml">GetQueuedCompletionStatus</strong></a> function.</li>
</ul>
<p>In Windows Server 2012, this function is supported by the following technologies.</p>
<table>
<tr><th>Technology</th><th>Supported</th></tr>
<tr><td>
<p>Server Message Block (SMB) 3.0 protocol</p>
</td><td>
<p>Yes</p>
</td></tr>
<tr><td>
<p>SMB 3.0 Transparent Failover (TFO)</p>
</td><td>
<p>Yes</p>
</td></tr>
<tr><td>
<p>SMB 3.0 with Scale-out File Shares (SO)</p>
</td><td>
<p>Yes</p>
</td></tr>
<tr><td>
<p>Cluster Shared Volume File System (CsvFS)</p>
</td><td>
<p>Yes</p>
</td></tr>
<tr><td>
<p>Resilient File System (ReFS)</p>
</td><td>
<p>Yes</p>
</td></tr>
</table>
<p> </p>
<h3><a id="synchronization_and_file_position"></a><a id="SYNCHRONIZATION_AND_FILE_POSITION"></a>Synchronization and File Position</h3>
<p>If <em>hFile</em> is opened with <strong>FILE_FLAG_OVERLAPPED</strong>, it is an 
      asynchronous file handle; otherwise it is synchronous. The rules for using the 
      <a href="http://msdn.microsoft.com/en-US/library/windows/hardware/ms684342(v=vs.85).aspx"><strong xmlns="http://www.w3.org/1999/xhtml">OVERLAPPED</strong></a> structure are slightly different for each, 
      as previously noted.</p>
<p class="note"><strong>Note</strong>  If a  file or device is opened for asynchronous I/O, subsequent calls to functions such as 
      <strong>WriteFile</strong> using that handle generally return immediately, 
      but can also behave synchronously with respect to blocked execution. For more information, see 
      <a href="http://go.microsoft.com/fwlink/p/?linkid=116863">http://support.microsoft.com/kb/156932</a>.</p>
<p>Considerations for working with asynchronous file handles:</p>
<ul>
<li><strong>WriteFile</strong> may return before the write operation is 
       complete. In this scenario, <strong>WriteFile</strong> returns 
       <strong>FALSE</strong> and the <a href="http://msdn.microsoft.com/en-US/library/windows/hardware/ms679360(v=vs.85).aspx"><strong xmlns="http://www.w3.org/1999/xhtml">GetLastError</strong></a> 
       function returns <strong>ERROR_IO_PENDING</strong>, which allows the calling process to continue while 
       the system completes the write operation.</li>
<li>The <em>lpOverlapped</em> parameter must 
       not be <strong>NULL</strong> and should be used with the following facts in mind: 
       <ul>
<li>Although the event specified in the <a href="http://msdn.microsoft.com/en-US/library/windows/hardware/ms684342(v=vs.85).aspx"><strong xmlns="http://www.w3.org/1999/xhtml">OVERLAPPED</strong></a> 
         structure is set and reset automatically by the system, the offset that is specified in the 
         <strong>OVERLAPPED</strong> structure is not automatically 
         updated.</li>
<li><strong>WriteFile</strong> resets the event to a nonsignaled state 
         when it begins the I/O operation.</li>
<li>The event specified in the <a href="http://msdn.microsoft.com/en-US/library/windows/hardware/ms684342(v=vs.85).aspx"><strong xmlns="http://www.w3.org/1999/xhtml">OVERLAPPED</strong></a> structure 
         is set to a signaled state when the write operation is complete; until that time, the write operation is 
         considered pending.</li>
<li>Because the write operation starts at the offset that is specified in the 
         <a href="http://msdn.microsoft.com/en-US/library/windows/hardware/ms684342(v=vs.85).aspx"><strong xmlns="http://www.w3.org/1999/xhtml">OVERLAPPED</strong></a> structure, and 
         <strong>WriteFile</strong> may return before the system-level write 
         operation is complete (write pending), neither the offset nor any other part of the structure should be 
         modified, freed, or reused by the application until the event is signaled (that is, the write 
         completes).</li>
</ul>
</li>
</ul>
<p>Considerations for working with synchronous file handles:</p>
<ul>
<li>If <em>lpOverlapped</em> is <strong>NULL</strong>, the write operation starts at 
       the current file position and <strong>WriteFile</strong> does not return 
       until the operation is complete, and the system updates the file pointer before 
       <strong>WriteFile</strong> returns.</li>
<li>If <em>lpOverlapped</em> is not <strong>NULL</strong>, the write operation 
       starts at the offset that is specified in the 
       <a href="http://msdn.microsoft.com/en-US/library/windows/hardware/ms684342(v=vs.85).aspx"><strong xmlns="http://www.w3.org/1999/xhtml">OVERLAPPED</strong></a> structure and 
       <strong>WriteFile</strong> does not return until the write operation is 
       complete. The system updates the <strong>OVERLAPPED</strong> offset 
       before <strong>WriteFile</strong> returns.</li>
</ul>
<p>For more information, see <a href="http://msdn.microsoft.com/en-US/library/windows/hardware/aa363858(v=vs.85).aspx"><strong xmlns="http://www.w3.org/1999/xhtml">CreateFile</strong></a> and 
      <a href="http://msdn.microsoft.com/en-US/library/windows/hardware/aa365683(v=vs.85).aspx">Synchronous and Asynchronous I/O</a>.</p>
<h3><a id="pipes"></a><a id="PIPES"></a>Pipes</h3>
<p>If an anonymous pipe is being used and the read handle has been closed, when 
      <strong>WriteFile</strong> attempts to write using the pipe's corresponding 
      write handle, the function returns <strong>FALSE</strong> and 
      <a href="http://msdn.microsoft.com/en-US/library/windows/hardware/ms679360(v=vs.85).aspx"><strong xmlns="http://www.w3.org/1999/xhtml">GetLastError</strong></a> returns 
      <strong>ERROR_BROKEN_PIPE</strong>.</p>
<p>If the pipe buffer is full when an application uses the 
      <strong>WriteFile</strong> function to write to a pipe, the write operation 
      may not finish immediately. The write operation will be completed when a read operation (using the 
      <a href="http://msdn.microsoft.com/en-US/library/windows/hardware/aa365467(v=vs.85).aspx"><strong xmlns="http://www.w3.org/1999/xhtml">ReadFile</strong></a> function) makes more system buffer space available 
      for the pipe.</p>
<p>When writing to a non-blocking, byte-mode pipe handle with insufficient buffer space, 
      <strong>WriteFile</strong> returns <strong>TRUE</strong> with 
      *<em>lpNumberOfBytesWritten</em> &lt; <em>nNumberOfBytesToWrite</em>.</p>
<p>For more information about pipes, see <a href="http://msdn.microsoft.com/en-US/library/windows/hardware/aa365780(v=vs.85).aspx">Pipes</a>.</p>
<h3><a id="transacted_operations"></a><a id="TRANSACTED_OPERATIONS"></a>Transacted Operations</h3>
<p>If there is a transaction bound to the file handle, then the file write is transacted. For more information, 
      see <a href="http://msdn.microsoft.com/en-US/library/windows/hardware/aa363764(v=vs.85).aspx">About Transactional NTFS</a>.</p>
<p><strong>Windows Phone 8:</strong> This API is supported.</p>
<h2>Examples</h2>
<p>For some examples, see 
     <a href="http://msdn.microsoft.com/en-US/library/windows/hardware/aa363875(v=vs.85).aspx">Creating and Using a Temporary File</a> 
     and 
     <a href="http://msdn.microsoft.com/en-US/library/windows/hardware/bb540534(v=vs.85).aspx">Opening a File for Reading or Writing</a>.</p>

<p>The following C++ example shows how to align sectors for unbuffered file writes. The 
     <em>Size</em> variable is the size of the original data block you are interested in writing to 
     the file. For additional rules regarding unbuffered file I/O, see 
     <a href="http://msdn.microsoft.com/en-US/library/windows/hardware/cc644950(v=vs.85).aspx">File Buffering</a>.</p>

<div id="code-snippet-2" class="codeSnippetContainer" xmlns="">
    <div class="codeSnippetContainerTabs">
        <div class="codeSnippetContainerTabSingle" dir="ltr"><a>C++</a></div>
    </div>
    <div class="codeSnippetContainerCodeContainer">
        <div class="codeSnippetToolBar">
            <div class="codeSnippetToolBarText">
                <a name="CodeSnippetCopyLink" style="display: none;" title="Copy to clipboard." href="javascript:if (window.epx.codeSnippet)window.epx.codeSnippet.copyCode('CodeSnippetContainerCode_68e266d4-8b65-4a11-b03b-376605885fe5');">Copy</a>
            </div>
        </div>
        <div id="CodeSnippetContainerCode_68e266d4-8b65-4a11-b03b-376605885fe5" class="codeSnippetContainerCode" dir="ltr">
            <div style="color:Black;"><pre>

#include &lt;windows.h&gt;

#define ROUND_UP_SIZE(Value,Pow2) ((SIZE_T) ((((ULONG)(Value)) + (Pow2) - 1) &amp; (~(((LONG)(Pow2)) - 1))))

#define ROUND_UP_PTR(Ptr,Pow2)  ((<span style="color:Blue;">void</span> *) ((((ULONG_PTR)(Ptr)) + (Pow2) - 1) &amp; (~(((LONG_PTR)(Pow2)) - 1))))


<span style="color:Blue;">void</span> main()
{
<span style="color:Green;">// Function code</span>

    DWORD BytesPerSector = 0; <span style="color:Green;">// obtained from the GetFreeDiskSpace function.</span>
    DWORD Size = 0; <span style="color:Green;">// buffer size of your data to write</span>

<span style="color:Green;">// ... obtain data here</span>
<span style="color:Green;">// sample data</span>
    BytesPerSector = 65536;
    Size = 15536;
<span style="color:Green;">//</span>

   <span style="color:Green;">// Ensure you have one more sector than Size would require.</span>
   SIZE_T SizeNeeded = BytesPerSector + ROUND_UP_SIZE(Size, BytesPerSector);
   
   <span style="color:Green;">// Replace this statement with any allocation routine.</span>
   LPBYTE Buffer = (LPBYTE) malloc(SizeNeeded);

   <span style="color:Green;">// Error checking of your choice.</span>
   <span style="color:Blue;">if</span> ( !Buffer ) 
   {
     <span style="color:Blue;">goto</span> cleanup;
   }

   <span style="color:Green;">// Actual alignment happens here.</span>
   <span style="color:Blue;">void</span> * BufferAligned = ROUND_UP_PTR(Buffer, BytesPerSector);

   <span style="color:Green;">// Add code using BufferAligned here.</span>
 

cleanup:

   <span style="color:Blue;">if</span> ( Buffer ) 
   {
      <span style="color:Green;">// Replace with corresponding free routine.</span>
      free(Buffer);
   }

}


</pre></div>
            
        </div>
    </div>
</div>

<h2>Requirements</h2>
<table>
<tr><th>
<p>Minimum supported client</p>
</th><td>Windows XP [desktop apps | Windows Store apps]</td></tr>
<tr><th>
<p>Minimum supported server</p>
</th><td>Windows Server 2003 [desktop apps | Windows Store apps]</td></tr>
<tr><th>
<p>Header</p>
</th><td>
<dl>
<dt>FileAPI.h (include Windows.h); </dt>
<dt>WinBase.h on Windows Server 2008 R2, Windows 7, Windows Server 2008, Windows Vista, Windows Server 2003, and Windows XP (include Windows.h)</dt>
</dl>
</td></tr>
<tr><th>
<p>Library</p>
</th><td>
<dl>
<dt>Kernel32.lib</dt>
</dl>
</td></tr>
<tr><th>
<p>DLL</p>
</th><td>
<dl>
<dt>Kernel32.dll</dt>
</dl>
</td></tr>
</table>
<h2><a id="see_also"></a>See also</h2>
<dl>
<dt>
<a href="http://msdn.microsoft.com/en-US/library/windows/hardware/aa363791(v=vs.85).aspx"><strong xmlns="http://www.w3.org/1999/xhtml">CancelIo</strong></a>
</dt>
<dt>
<a href="http://msdn.microsoft.com/en-US/library/windows/hardware/aa363792(v=vs.85).aspx"><strong xmlns="http://www.w3.org/1999/xhtml">CancelIoEx</strong></a>
</dt>
<dt>
<a href="http://msdn.microsoft.com/en-US/library/windows/hardware/aa363794(v=vs.85).aspx"><strong xmlns="http://www.w3.org/1999/xhtml">CancelSynchronousIo</strong></a>
</dt>
<dt>
<a href="http://msdn.microsoft.com/en-US/library/windows/hardware/aa363858(v=vs.85).aspx"><strong xmlns="http://www.w3.org/1999/xhtml">CreateFile</strong></a>
</dt>
<dt>
<a href="http://msdn.microsoft.com/en-US/library/windows/hardware/aa363859(v=vs.85).aspx"><strong xmlns="http://www.w3.org/1999/xhtml">CreateFileTransacted</strong></a>
</dt>
<dt>
<a href="http://msdn.microsoft.com/en-US/library/windows/hardware/aa364232(v=vs.85).aspx">File Management Functions</a>
</dt>
<dt>
<a href="http://msdn.microsoft.com/en-US/library/windows/hardware/ms679360(v=vs.85).aspx"><strong xmlns="http://www.w3.org/1999/xhtml">GetLastError</strong></a>
</dt>
<dt>
<a href="http://msdn.microsoft.com/en-US/library/windows/hardware/ms683209(v=vs.85).aspx"><strong xmlns="http://www.w3.org/1999/xhtml">GetOverlappedResult</strong></a>
</dt>
<dt>
<a href="http://msdn.microsoft.com/en-US/library/windows/hardware/aa364986(v=vs.85).aspx"><strong xmlns="http://www.w3.org/1999/xhtml">GetQueuedCompletionStatus</strong></a>
</dt>
<dt>
<a href="http://msdn.microsoft.com/en-US/library/windows/hardware/aa365467(v=vs.85).aspx"><strong xmlns="http://www.w3.org/1999/xhtml">ReadFile</strong></a>
</dt>
<dt>
<a href="http://msdn.microsoft.com/en-US/library/windows/hardware/aa365531(v=vs.85).aspx"><strong xmlns="http://www.w3.org/1999/xhtml">SetEndOfFile</strong></a>
</dt>
<dt>
<a href="http://msdn.microsoft.com/en-US/library/windows/hardware/aa365748(v=vs.85).aspx"><strong xmlns="http://www.w3.org/1999/xhtml">WriteFileEx</strong></a>
</dt>
</dl>
<p> </p>
<p> </p>
</div>
</div>

    



<script id="CommentTemplate" type="text/x-jquery-tmpl">
    <div class="communityContentAnnotation">
        <a name="${Index}"></a>
        <h3>
            ${Title}
        </h3>
        <div class="communityContentAnnotationBody">
            {{html Body}}
        </div>
        <div class="communityContentAnnotationInfo">
            <div class="communityContentAnnotationAvatarContainer">
                <a href="${UserAvatar.Href}" title="${UserAvatar.ToolTip}" class="communityContentAnnotationAvatar"><img src="${UserAvatar.ImageUrl}" alt="${UserAvatar.ImageAltText}" width="34" height="34" /></a>
            </div>
            <div class="communityContentAnnotationUserDateContainer">
                <div class="communityContentAnnotationUserContainer">
                    <a href="${UserAvatar.Href}">
                        ${User}
                    </a>
                </div>
                <div class="communityContentAnnotationDateContainer">
                    <span>${Date}</span>
                    
                    {{if EditLink}}
                        <span>
                            <a href="${EditLink.Href}" title="${EditLink.ToolTip}" class="communityContentCommentEditLink">${EditLink.Title}</a>
                        </span>
                    {{/if}}

                    {{if DeleteLink}}
                        <span>
                            <a href="${DeleteLink.Href}" title="${DeleteLink.ToolTip}" class="communityContentDeleteLink">${DeleteLink.Title}</a>
                        </span>
                    {{/if}}
                </div>
            </div>
        </div>
    </div>
</script>

<div class="communityContentContainer">
    <div id="CommunityContentHeader" class="communityContentHeader">
        <div class="communityContentHeaderTitleContainer">
            <h2>Community Additions</h2>
        </div>
        <div style="clear: both;"></div>
    </div>
    
    <div id="CommunityComments" data-url="/en-US/library/windows/hardware/community/comments/aa365747(v=vs.85).aspx"></div>
</div>




<div class="libraryMemberFilter">
    <div class="filterContainer">
        <span>Show:</span>
        <label>
            <input type="checkbox" class="libraryFilterInherited" checked="checked" value="Inherit" />Inherited
        </label>
        <label>
            <input type="checkbox" class="libraryFilterProtected" checked="checked" value="Protected" />Protected
        </label>
    </div>
</div>
    
<input type="hidden" id="libraryMemberFilterEmptyWarning" value="There are no members available with your current filter settings." />


 
</div>




            </div>
            <div class="clear"></div>
        
            
    
<input name="__RequestVerificationToken" type="hidden" value="RE_FBAVlEHtfBSVoRRMQj__RiNLWEEw4FlMzhLOR9pO97IaaMWytt16TJL8oAeoBKaOExglWlUVVHRLlKlR73uBTQhxnKG_TJFi5QtZR4V9a-jbKYwz1eD4P7gWr7oNwM7YMQg2" />
<input id="ratingSubmitUrl" type="hidden" value="http://msdn.microsoft.com/en-US/library/feedback/add/aa365747(v=vs.85).aspx" />
<input id="isTopicRated" type="hidden" value="false" />




    


    <div id="ux-footer" class=" ltr">
        
            <div id="footerSock">
                <div id="footerSockInner">
                    <a name="feedback"></a>
                    <div data-fragmentName="Survey" id="Fragment_Survey" xmlns="http://www.w3.org/1999/xhtml">
  <div class="DetailedLink">
    
    <div class="Content"></div>
  </div>
</div>
<div class="rating">
    <div id="ratingSection1">
        <div class="title">
            Was this page helpful?
        </div>
        <div class="description">
            Your feedback about this content is important.<br />Let us know what you think.
        </div>
        <div class="buttons">
            <button id="ratingYes">Yes</button>
            <button id="ratingNo">No</button>
        </div>
        <input id="ratingValue" type="hidden" value="" />
    </div>
    <div id="ratingSection2">
        <div class="title">
            Additional feedback?
        </div>
        <textarea id="ratingText" rows="6" cols=""></textarea>
        <div class="buttons">
            <button id="ratingSubmit">Submit</button>
            <button id="ratingSkipThis">Skip this</button>
        </div>
    </div>
    <div id="ratingSection3">
        <div class="title">
            Thank you!
        </div>
        <div class="description">
            We appreciate your feedback.
        </div>
    </div>
    
    
    <div id="contentFeedbackQAContainer" style="display: none;"></div>
</div>


                    <div data-fragmentName="SockLinks" id="Fragment_SockLinks" xmlns="http://www.w3.org/1999/xhtml">
  
  <div class="LinkList">
    <div class="Links">
      <ul class="LinkColumn" style="width: 100%">
        <li>
          <a href="http://go.microsoft.com/fwlink/p/?LinkId=317805" id="SockLinks_727_11" xmlns="http://www.w3.org/1999/xhtml">Find us on Facebook</a>
        </li>
        <li>
          <a href="http://go.microsoft.com/fwlink/p/?LinkId=317806" id="SockLinks_727_12" xmlns="http://www.w3.org/1999/xhtml">Follow us on Twitter</a>
        </li>
        <li>
          <a href="http://go.microsoft.com/fwlink/p/?linkid=285656" id="SockLinks_727_40" xmlns="http://www.w3.org/1999/xhtml">Read the hardware blog</a>
        </li>
      </ul>
    </div>
  </div>
</div>
                    <div class="clear"></div>
                </div>
            </div>
        <div id="footerContainer">
            <div id="fourColumnFooter">
                <div data-fragmentName="Column1" id="Fragment_Column1" xmlns="http://www.w3.org/1999/xhtml">
  <div class="ListOfLinkLists">
    
    <div class="LinkList" xmlns="http://www.w3.org/1999/xhtml">
      <div class="LinkListTitle">Centers</div>
      <div class="Links">
        <ul class="LinkColumn" style="width: 100%">
          <li>
            <a href="http://msdn.microsoft.com/windows" id="Column1_727_13" xmlns="http://www.w3.org/1999/xhtml">Dev Center Home</a>
          </li>
          <li>
            <a href="http://msdn.microsoft.com/windows/apps" id="Column1_727_14" xmlns="http://www.w3.org/1999/xhtml">Windows Store apps</a>
          </li>
          <li>
            <a href="http://msdn.microsoft.com/ie" id="Column1_727_15" xmlns="http://www.w3.org/1999/xhtml">Internet Explorer</a>
          </li>
          <li>
            <a href="http://msdn.microsoft.com/windows/desktop" id="Column1_727_16" xmlns="http://www.w3.org/1999/xhtml">Desktop</a>
          </li>
          <li>
            <a href="http://msdn.microsoft.com/windows/hardware" id="Column1_727_17" xmlns="http://www.w3.org/1999/xhtml">Hardware</a>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>              
                <div data-fragmentName="Column2" id="Fragment_Column2" xmlns="http://www.w3.org/1999/xhtml">
  <div class="ListOfLinkLists">
    
    <div class="LinkList" xmlns="http://www.w3.org/1999/xhtml">
      <div class="LinkListTitle">Related developer sites</div>
      <div class="Links">
        <ul class="LinkColumn" style="width: 100%">
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=285634" id="Column2_727_18" xmlns="http://www.w3.org/1999/xhtml">Microsoft Connect</a>
          </li>
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=285635" id="Column2_727_19" xmlns="http://www.w3.org/1999/xhtml">OSR Online</a>
          </li>
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=282089" id="Column2_727_42" xmlns="http://www.w3.org/1999/xhtml">Visual Studio</a>
          </li>
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=280293" id="Column2_727_20" xmlns="http://www.w3.org/1999/xhtml">Windows Phone</a>
          </li>
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=282087" id="Column2_727_43" xmlns="http://www.w3.org/1999/xhtml">Windows Server</a>
          </li>
        </ul>
      </div>
    </div>
    
    <div class="LinkList" xmlns="http://www.w3.org/1999/xhtml">
      <div class="LinkListTitle">Other Windows sites</div>
      <div class="Links">
        <ul class="LinkColumn" style="width: 100%">
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=285636" id="Column2_727_21" xmlns="http://www.w3.org/1999/xhtml">Enterprise</a>
          </li>
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=285637" id="Column2_727_22" xmlns="http://www.w3.org/1999/xhtml">Small business</a>
          </li>
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=285638" id="Column2_727_23" xmlns="http://www.w3.org/1999/xhtml">Students</a>
          </li>
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=285639" id="Column2_727_24" xmlns="http://www.w3.org/1999/xhtml">Home users</a>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>              
                <div data-fragmentName="Column3" id="Fragment_Column3" xmlns="http://www.w3.org/1999/xhtml">
  <div class="ListOfLinkLists">
    
    <div class="LinkList" xmlns="http://www.w3.org/1999/xhtml">
      <div class="LinkListTitle">Downloads</div>
      <div class="Links">
        <ul class="LinkColumn" style="width: 100%">
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=285645" id="Column3_727_25" xmlns="http://www.w3.org/1999/xhtml">Windows Driver Kit</a>
          </li>
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=285646" id="Column3_727_26" xmlns="http://www.w3.org/1999/xhtml">Windows Assessment and Deployment Kit</a>
          </li>
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=285647" id="Column3_727_27" xmlns="http://www.w3.org/1999/xhtml">Windows Hardware Certification Kit</a>
          </li>
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?LinkID=316548" id="Column3_727_29" xmlns="http://www.w3.org/1999/xhtml">Visual Studio Professional 2013</a>
          </li>
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=285649" id="Column3_727_30" xmlns="http://www.w3.org/1999/xhtml">More downloads</a>
          </li>
        </ul>
      </div>
    </div>
    
    <div class="LinkList" xmlns="http://www.w3.org/1999/xhtml">
      <div class="LinkListTitle">Support</div>
      <div class="Links">
        <ul class="LinkColumn" style="width: 100%">
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=285664" id="Column3_727_44" xmlns="http://www.w3.org/1999/xhtml">Forums</a>
          </li>
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=285663" id="Column3_727_45" xmlns="http://www.w3.org/1999/xhtml">More support options</a>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>              
                <div data-fragmentName="Column4" id="Fragment_Column4" xmlns="http://www.w3.org/1999/xhtml">
  <div class="ListOfLinkLists">
    
    <div class="LinkList" xmlns="http://www.w3.org/1999/xhtml">
      <div class="LinkListTitle">Essentials</div>
      <div class="Links">
        <ul class="LinkColumn" style="width: 100%">
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=285650" id="Column4_727_46" xmlns="http://www.w3.org/1999/xhtml">Recently published</a>
          </li>
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=285651" id="Column4_727_47" xmlns="http://www.w3.org/1999/xhtml">Debugging</a>
          </li>
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=328186" id="Column4_727_48" xmlns="http://www.w3.org/1999/xhtml">Samples</a>
          </li>
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=285653" id="Column4_727_49" xmlns="http://www.w3.org/1999/xhtml">Hardware dashboard</a>
          </li>
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=317804" id="Column4_727_50" xmlns="http://www.w3.org/1999/xhtml">Partner with Microsoft</a>
          </li>
        </ul>
      </div>
    </div>
    
    <div class="LinkList" xmlns="http://www.w3.org/1999/xhtml">
      <div class="LinkListTitle">Stay connected</div>
      <div class="Links">
        <ul class="LinkColumn" style="width: 100%">
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=285658" id="Column4_727_36" xmlns="http://www.w3.org/1999/xhtml">Microsoft events</a>
          </li>
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=313299" id="Column4_727_37" xmlns="http://www.w3.org/1999/xhtml">Windows App Builder Blog</a>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>              
            </div>

            <div id="baseFooterLogos">
                <span class="microsoftlogo" title="Microsoft"></span>
                <a href="http://msdn.microsoft.com/en-US" class="msdnlogo" title="MSDN"></a>
            </div>
        
            <div id="baseFooter">
                <div id="FooterCopyright">© 2014 Microsoft</div>
                <div data-fragmentName="BaseFooterContent" id="Fragment_BaseFooterContent" xmlns="http://www.w3.org/1999/xhtml">
  <div xmlns="http://www.w3.org/1999/xhtml">
    <div xmlns:mtps="http://msdn2.microsoft.com/mtps">
      <div data-fragmentName="BaseFooter" id="Fragment_BaseFooter">
        
        <div class="LinkList">
          <div class="Links">
            <ul class="LinkColumn horizontal">
              <li>
                <a href="http://msdn.microsoft.com/windows/apps/cc300389" id="BaseFooter_35351_1" xmlns="http://www.w3.org/1999/xhtml">Terms of Use</a>
              </li>
              <li>
                <a href="http://www.microsoft.com/library/toolbar/3.0/trademarks/en-us.mspx" id="BaseFooter_35351_2" xmlns="http://www.w3.org/1999/xhtml">Trademarks</a>
              </li>
              <li>
                <a href="http://www.microsoft.com/info/privacy.mspx" id="BaseFooter_35351_3" xmlns="http://www.w3.org/1999/xhtml">Privacy and Cookies</a>
              </li>
              <li>
                <a href="http://msdn.microsoft.com/en-US/windows/dn554289" id="BaseFooter_730_5" xmlns="http://www.w3.org/1999/xhtml">Site map</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
      <div data-fragmentName="HelloText" id="Fragment_HelloText">Hello from Seattle.
</div>
    </div>
  </div>
</div>  
                    <form class="selectLocale" id="selectLocaleForm" action="http://msdn.microsoft.com/en-US/windows/hardware/SelectLocale">
        <input type="hidden" name="fromPage" value="http%3a%2f%2fmsdn.microsoft.com%2fen-US%2flibrary%2fwindows%2fhardware%2faa365747(v%3dvs.85).aspx" />
        <a href="#" onclick="$('#selectLocaleForm').submit();return false;" title="Change your language">United States (English)</a>
    </form>    


                <div class="clear"></div>
            </div>
        </div>
    </div> 


            <div class="footerPrintView">
                <div class="footerCopyrightPrintView">© 2014 Microsoft. All rights reserved.</div>
            </div>

            
            
    


        
            <input id="MtpsDevice" type="hidden" value="Default" />


<![CDATA[ Third party scripts and code linked to or referenced from this website are licensed to you by the parties that own such code, not by Microsoft.  See ASP.NET Ajax CDN Terms of Use – http://www.asp.net/ajaxlibrary/CDN.ashx. ]]>
        
            
            
            
            
            
        





<noscript><div><img alt="DCSIMG" id="Img1" width="1" height="1" src="http://m.webtrends.com/dcsmgru7m99k7mqmgrhudo0k8_8c6m/njs.gif?dcsuri=/nojavascript&amp;WT.js=No" /></div></noscript>









<noscript>
  <a href="http://www.omniture.com/" title="Web Analytics">
    <img src="http://msstonojsmsdn.112.2o7.net/b/ss/msstonojsmsdn/1/H.20.2--NS/0" height="1" width="1" border="0" alt="" />
  </a>
</noscript>




<div id="globalRequestVerification">
    <input name="__RequestVerificationToken" type="hidden" value="lS6KlG_o8WaT2UFE6yjcEdbEprSkbgYClh-5d05GvCOzKk9dgbkzuCjg7b8XSwjU95a87sSJ1QoRoqAZbfhBexoklCi5QGEsymuHnxvYxkOlr-oaCHzS56jLLgPCAJIMqdsZ-Q2" />
</div>


        </div>
    <script type="text/javascript" class="mtps-injected">
/*<![CDATA[*/
(function(window,document){"use strict";function preload(scripts){for(var result=[],script,e,i=0;i<scripts.length;i++)script=scripts[i],script.hasOwnProperty("url")&&(e=document.createElement("script"),e.src=script.url,script.throwaway=e),result.push(script);return result}function inject(scripts,index){var script,elem;if(index>=scripts.length){delete mtps.injectScripts;return}script=scripts[index];elem=document.createElement("script");elem.className="mtps-injected";elem.async=!1;var isLoaded=!1,timeoutId=0,injectNextFnName="",injectNext=elem.onerror=function(){isLoaded||(isLoaded=!0,inject(scripts,index+1),window.clearTimeout(timeoutId),elem.onload=elem.onerror=elem.onreadystatechange=null,injectNextFnName&&delete mtps[injectNextFnName],elem.removeEventListener&&elem.removeEventListener("load",injectNext,!1))};elem.addEventListener?elem.addEventListener("load",injectNext,!1):elem.readyState==="uninitialized"?elem.onreadystatechange=function(){(this.readyState==="loaded"||this.readyState==="complete")&&injectNext()}:elem.onload=injectNext;script.hasOwnProperty("url")?(timeoutId=window.setTimeout(injectNext,12e4),elem.src=script.url):(injectNextFnName="_injectNextScript_"+index,mtps[injectNextFnName]=injectNext,timeoutId=window.setTimeout(injectNext,2e3),elem.text="try {\n"+script.txt+"\n} finally { MTPS."+injectNextFnName+" && MTPS."+injectNextFnName+"(); }");parent.appendChild(elem)}var mtps=window.MTPS||(window.MTPS={}),parent=document.getElementsByTagName("head")[0];mtps.injectScripts=function(scripts){inject(preload(scripts),0)}})(window,document);
MTPS.injectScripts([
	{ txt: "/**/\r\n(window.MTPS || (window.MTPS = {})).cdnDomains || (window.MTPS.cdnDomains = { \r\n\t\"image\": \"http://i.msdn.microsoft.com\", \r\n\t\"js\": \"http://i2.msdn.microsoft.com\", \r\n\t\"css\": \"http://i3.msdn.microsoft.com\"\r\n});\r\n/**/" },
	{ url: "http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.8.2.min.js" },
	{ txt: "//\n  var literalNormalizedUrl = \u0027/en-us/library/windows/hardware/aa365747(d=default,l=en-us,v=vs.85).aspx\u0027;\n  var wt_nvr_ru = \u0027WT_NVR_RU\u0027;\n  var wt_fpcdom = \u0027.microsoft.com\u0027;\n  var wt_domlist = \u0027msdn.microsoft.com\u0027;\n  var wt_pathlist = \u0027\u0027;\n  var wt_paramlist = \u0027DCSext.mtps_devcenter\u0027;\n  var wt_siteid = \u0027MSDN\u0027;\n  var gDomain = \u0027m.webtrends.com\u0027;\n  var gDcsId = \u0027dcsmgru7m99k7mqmgrhudo0k8_8c6m\u0027;\n  var gFpc = \u0027WT_FPC\u0027;\n\n\n\n  if (document.cookie.indexOf(gFpc + \"=\") == -1) {\n    var wtidJs = document.createElement(\"script\");\n    wtidJs.src = \"//\" + gDomain + \"/\" + gDcsId + \"/wtid.js\";\n    document.getElementsByTagName(\"head\")[0].appendChild(wtidJs);\n  }\n\n\n\n  var detectedLocale = \u0027en-US\u0027;\n  var wtsp = \u0027_msdn_\u0027;\n  var gTrackEvents = \u00270\u0027;\n/**/" },
	{ txt: "/**/\n  var omni_guid = \"9afadc5e-4401-4b05-a7bc-c0bda80db9df\";\n/**/" },
	{ url: "http://i2.msdn.microsoft.com/Combined.js?resources=0:Utilities,0:Topic,1:webtrendsscript,2:omni_rsid_MSDN,3:SearchBox;/Areas/Epx/Content/Scripts:0,/Areas/Global/Content/Webtrends/resources:1,/Areas/Global/Content/Omniture/resources/MSDN:2,/Areas/Epx/Themes/Base/Content:3\u0026amp;hashKey=E93F43E708C4E79B13014A098239D120" },
	{ url: "http://i1.services.social.microsoft.com/search/Widgets/SearchBox.jss?boxid=HeaderSearchTextBox\u0026btnid=HeaderSearchButton\u0026brand=MSDN\u0026loc=en-US\u0026Refinement=182\u0026focusOnInit=false\u0026iroot=windows%2fhardware\u0026emptyWatermark=true\u0026searchButtonTooltip=Search" },
	{ url: "http://i2.msdn.microsoft.com/Combined.js?resources=0:Header,1:Toc,1:NavigationResize;/Areas/Epx/Themes/Windows/Content:0,/Areas/Library/Content:1\u0026amp;hashKey=163E155D67DE384E263D6D4BD805ACAE" },
	{ url: "http://ajax.aspnetcdn.com/ajax/jquery.templates/beta1/jquery.tmpl.min.js" },
	{ url: "http://i2.msdn.microsoft.com/Combined.js?resources=0:CommunityContent,0:LibraryMemberFilter,1:Toc_Fixed,2:Rating,1:CodeSnippet,1:TopicNotInScope,1:CollapsibleArea,1:VersionSelector,1:SurveyBroker;/Areas/Library/Content:0,/Areas/Epx/Content/Scripts:1,/Areas/Epx/Themes/Base/Content:2\u0026amp;hashKey=E0ADCE6B79455234471CB12A3F97CE03" },
	{ txt: "$(document).ready(function() {\n        try {\n            var token = $(\"#globalRequestVerification input[name=\u0027__RequestVerificationToken\u0027]\").clone();\n            $(\"#siteFeedbackForm\").append(token);\n        } catch(err) {\n            \n        }\n    });" }
]);

/*]]>*/
</script></body>

<!-- Mirrored from msdn.microsoft.com/en-US/library/windows/hardware/aa365747(v=vs.85).aspx by HTTrack Website Copier/3.x [XR&CO'2013], Mon, 17 Mar 2014 17:16:09 GMT -->
</html>