<!DOCTYPE html>

<html dir="ltr" xmlns="http://www.w3.org/1999/xhtml" lang="en">
    
<!-- Mirrored from msdn.microsoft.com/en-US/library/windows/hardware/dn303346(v=vs.85).aspx by HTTrack Website Copier/3.x [XR&CO'2013], Mon, 17 Mar 2014 16:56:17 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><link rel="canonical" href="dn303346(v%3dvs.85).html" />
        <title>How to send a USB bulk transfer request (Windows Store app) (Windows Drivers)</title>




<meta name="DCS.dcsuri" content="/en-us/library/windows/hardware/dn303346(d=default,l=en-us,v=vs.85).aspx" />

<meta name="NormalizedUrl" content="http://msdn.microsoft.com/en-us/library/windows/hardware/dn303346(d=default,l=en-us,v=vs.85).aspx" />

<meta name="ms.normalizedurl" content="http://msdn.microsoft.com/en-us/library/windows/hardware/dn303346(d=default,l=en-us,v=vs.85).aspx" />

<meta name="VotingContextUrl" content="http://msdn.microsoft.com/en-us/library/windows/hardware/dn303346(d=default,l=en-us,v=vs.85).aspx" />

<meta name="MN" content="BF1CA93B-9:01:45 AM" />

<meta name="Search.ShortId" content="dn303346" />

<meta name="ms.shortidmsdn" content="dn303346" />

<meta name="Ms.Locale" content="en-us" />







        
    <link rel="shortcut icon" href="http://msdn.microsoft.com/Areas/Epx/Themes/Windows/Content/Winlogo_favicon.ico" />

    <link rel="stylesheet" type="text/css" href="../../../../../i3.msdn.microsoft.com/Combined4208.css?resources=0:Topic,0:CodeSnippet,0:ExpandableCollapsibleArea,1:CommunityContent,0:TopicNotInScope,0:FeedViewerBasic,0:ImageSprite,2:Header,2:sprite,1:Toc,0:NavSidebar,1:LibraryMemberFilter,2:Footer,3:DetailedLinkList,3:LinkList,4:Windows;/Areas/Epx/Content/Css:0,/Areas/Library/Content:1,/Areas/Epx/Themes/Windows/Content:2,/Areas/Epx/Themes/Base/Content:3,/Areas/Library/Themes/Windows/Content:4&amp;amp;hashKey=5D7E9AF826019A37D7275CF4C655CC6D" /></head>
    <body class="library ">
        <div id="page">
            
            
  
            
    
    

    <div id="ux-header" class=" ltr">
        <div id="headerContainer">
            <div id="logoAndSearchBox">
                <div id="logo">
                    <a href="http://msdn.microsoft.com/windows/" title="Windows"><img alt="Windows" src="../../../../../i.msdn.microsoft.com/Areas/Epx/Themes/Windows/Content/Windows_logo.png"></img></a>       
                </div>
              
        <div id="selectedTab">
            <a class="dropDownToggle" href="javascript:void(0);">Dev Center - Hardware</a>    
        </div>
    <div id="toclevel1_menu" style="display: none;">
        <ul>
                <li><a href="http://msdn.microsoft.com/windows/" title="Dev Center Home">Dev Center Home</a></li>
                <li><a href="http://msdn.microsoft.com/windows/apps/" title="Windows Store apps">Windows Store apps</a></li>
                <li><a href="http://msdn.microsoft.com/ie/" title="Internet Explorer">Internet Explorer</a></li>
                <li><a href="http://msdn.microsoft.com/windows/desktop/" title="Desktop">Desktop</a></li>
                <li><a href="http://msdn.microsoft.com/windows/hardware/" title="Hardware">Hardware</a></li>
        </ul>
        <div style="clear: both"></div>
    </div> 

                
                  

        <div class="SearchBox">   
            <form id="HeaderSearchForm" name="HeaderSearchForm" method="get" onsubmit="return Epx.Controls.SearchBox.searchBoxOnSubmit(this);">
            <input id="HeaderSearchTextBox" name="query" type="text" maxlength="200" onfocus="Epx.Controls.SearchBox.watermarkFocus(event, this.title)" onblur="Epx.Controls.SearchBox.watermarkBlur(event, this.title)" />            
            <button id="HeaderSearchButton" value="" type="submit" class="header-search-button"></button>
            </form>
         
                
                 
    
        </div>

                <div class="Clear"></div>
            </div>
            <div class="Clear"></div>
            <div class="ux-internav">
    <div class="toclevel2"> 
            <a class="normal" href="https://sysdev.microsoft.com/en-us/hardware/" title="Dashboard">Dashboard</a>
            <a class="normal" href="http://msdn.microsoft.com/windows/hardware/gg507680" title="Get Started ">Get Started </a>
            <a class="normal" href="http://msdn.microsoft.com/windows/hardware/gg462970" title="Design">Design</a>
            <a class="active" href="http://msdn.microsoft.com/windows/hardware/ff960953" title="Develop">Develop</a>
            <a class="normal" href="http://msdn.microsoft.com/windows/hardware/gg463010" title="Certify">Certify</a>
    </div>
    <div class="clear"></div>

            </div>
            <div id="signIn">

<a class="scarabLink" href="https://login.live.com/login.srf?wa=wsignin1.0&amp;rpsnv=12&amp;ct=1395072105&amp;rver=6.0.5276.0&amp;wp=MCLBI&amp;wlcxt=MSDN%24MSDN%24MSDN&amp;wreply=http%3a%2f%2fmsdn.microsoft.com%2fen-US%2flibrary%2fwindows%2fhardware%2fdn303346%2528v%3dvs.85%2529.aspx&amp;lc=1033&amp;id=254354&amp;mkt=en-US" title="Sign in">Sign in</a></div>

    

        </div>  
        <div id="blackBar">
    <div class="toclevel3"> 
            <a class="normal" href="http://msdn.microsoft.com/library/windows/hardware/gg454504" title="Systems">Systems</a>
            <a class="normal" href="http://msdn.microsoft.com/library/windows/hardware/gg454505" title="Devices">Devices</a>
            <a class="active" href="http://msdn.microsoft.com/library/windows/hardware/ff557573" title="Drivers">Drivers</a>
            <a class="normal" href="http://msdn.microsoft.com/library/windows/hardware/ff551063(v=vs.85).aspx" title="Debugging">Debugging</a>
            <a class="normal" href="http://msdn.microsoft.com/windows/hardware/gg454513" title="Downloads">Downloads</a>
            <a class="normal" href="http://msdn.microsoft.com/windows/hardware/dn433227.aspx" title="Samples">Samples</a>
            <a class="normal" href="http://msdn.microsoft.com/windows/hardware/gg454517" title="Community">Community</a>
            <a class="normal" href="http://msdn.microsoft.com/windows/hardware/dn550976" title="Archives">Archives</a>
    </div>
    <div class="clear"></div>

        </div>
    </div>


        
            <div id="body">
                







    <div id="leftNav">



<div id="tocnav">
            <div class="toclevel0" data-toclevel="0">
<a data-tochassubtree="true" href="ff557557(v%3dvs.85).html" id="ff576019_VS.85_en-us" mtpsaliasid="" mtpsassetid="1ef3e216-1322-42c3-b070-94cddfb2133c_VS.85_en-us" mtpsshortid="ff557557_VS.85_en-us" title="Device and Driver Technologies">Device and Driver Technologies</a>            </div>
            <div class="toclevel0" data-toclevel="0">
<a data-tochassubtree="true" href="ff557547(v%3dvs.85).html" id="hh440424_VS.85_en-us" mtpsaliasid="" mtpsassetid="5cefa114-cec1-4058-a7a9-08e0b13fe412_VS.85_en-us" mtpsshortid="ff557547_VS.85_en-us" title="Bus and Port Drivers">Bus and Port Drivers</a>            </div>
            <div class="toclevel0" data-toclevel="0">
<a data-tochassubtree="true" href="ff538930(v%3dvs.85).html" id="dn303474_VS.85_en-us" mtpsaliasid="" mtpsassetid="45ba2638-b1b9-409d-bd23-78e75a3515be_VS.85_en-us" mtpsshortid="ff538930_VS.85_en-us" title="Universal Serial Bus (USB)">Universal Serial Bus (USB)</a>            </div>
            <div class="toclevel0" data-toclevel="0">
<a data-tochassubtree="true" href="dn303342(v%3dvs.85).html" id="hh948125_VS.85_en-us" mtpsaliasid="" mtpsassetid="B3F1A1A6-0908-4144-8454-76A2FB70619B_VS.85_en-us" mtpsshortid="dn303342_VS.85_en-us" title="Developing Windows applications for USB devices">Developing Windows applications for USB devices</a>            </div>
            <div class="toclevel1" data-toclevel="1">
<a data-tochassubtree="true" href="dn303355(v%3dvs.85).html" id="jj151904_VS.85_en-us" mtpsaliasid="" mtpsassetid="DEE30A6F-15AE-413B-B3F3-1C0250037D1A_VS.85_en-us" mtpsshortid="dn303355_VS.85_en-us" title="Windows Store app for a USB device">Windows Store app for a USB device</a>            </div>
            <div class="toclevel2" data-toclevel="2">
<a href="dn312121(v%3dvs.85).html" mtpsaliasid="" mtpsassetid="" mtpsshortid="" title="Talking to USB devices, start to finish (Windows Store app)">Talking to USB devices, start to finish (Windows Store app)</a>            </div>
            <div class="toclevel2" data-toclevel="2">
<a href="dn303351(v%3dvs.85).html" mtpsaliasid="" mtpsassetid="" mtpsshortid="" title="How to add USB device capabilities to the app manifest">How to add USB device capabilities to the app manifest</a>            </div>
            <div class="toclevel2" data-toclevel="2">
<a href="dn303343(v%3dvs.85).html" mtpsaliasid="" mtpsassetid="" mtpsshortid="" title="How to connect to a USB device (Windows Store app)">How to connect to a USB device (Windows Store app)</a>            </div>
            <div class="toclevel2" data-toclevel="2">
<a href="dn303347(v%3dvs.85).html" mtpsaliasid="" mtpsassetid="" mtpsshortid="" title="How to send a USB control transfer (Windows Store app)">How to send a USB control transfer (Windows Store app)</a>            </div>
            <div class="toclevel2" data-toclevel="2">
<a href="dn303348(v%3dvs.85).html" mtpsaliasid="" mtpsassetid="" mtpsshortid="" title="How to send a USB interrupt transfer request (Windows Store app)">How to send a USB interrupt transfer request (Windows Store app)</a>            </div>
            <div class="toclevel2 current" data-toclevel="2">
<a href="dn303346(v%3dvs.85).html" mtpsaliasid="" mtpsassetid="" mtpsshortid="" title="How to send a USB bulk transfer request (Windows Store app)">How to send a USB bulk transfer request (Windows Store app)</a>            </div>
            <div class="toclevel2" data-toclevel="2">
<a href="dn303344(v%3dvs.85).html" mtpsaliasid="" mtpsassetid="" mtpsshortid="" title="How to get USB descriptors (Windows Store app)">How to get USB descriptors (Windows Store app)</a>            </div>
            <div class="toclevel2" data-toclevel="2">
<a href="dn303345(v%3dvs.85).html" mtpsaliasid="" mtpsassetid="" mtpsshortid="" title="How to select a USB interface setting (Windows Store app)">How to select a USB interface setting (Windows Store app)</a>            </div>
</div>
        

        

        
        
        <div id="toc-resizable-ew" class="toc-resizable-ew"></div>
        
    </div>
<div id="content" class="content">







        

<div class="topic" xmlns="http://www.w3.org/1999/xhtml">
  <h1 class="title">How to send a USB bulk transfer request (Windows Store app)</h1>
  
  <div id="mainSection">
<div class="clsServerSDKContent">

</div>
<div class="Nav_Sidebar" xmlns=""><span class="sidebar_heading" xmlns="http://www.w3.org/1999/xhtml">Summary</span>
<div class="sidebar_summary" xmlns="http://www.w3.org/1999/xhtml">
<p>
</p><ul>
<li>Reading from bulk IN pipes</li>
<li>Writing to bulk OUT pipes</li>
<li>Modifying the bulk pipe policy</li>
</ul>

</div>
<span class="sidebar_heading" xmlns="http://www.w3.org/1999/xhtml">In this article</span>
<div class="sidebar_toc" xmlns="http://www.w3.org/1999/xhtml">
<p>
</p><ul>
<li><a href="#before_you_start...">Before you start...</a></li>
<li><a href="#step_1__get_the_bulk_pipe_object">Step 1: Get the bulk pipe object</a></li>
<li><a href="#step_2__configure_the_bulk_pipe__optional_">Step 2: Configure the bulk pipe (Optional)</a></li>
<li><a href="#step_3__set_up_the_data_stream">Step 3: Set up the data stream</a></li>
<li><a href="#step_4__start_an_asynchronous_transfer_operation">Step 4: Start an asynchronous transfer operation</a></li>
<li><a href="#step_5__get_results_of_the_read_transfer_operation">Step 5: Get results of the read transfer operation</a></li>
<li><a href="#stall">Clearing stall conditions</a></li>
<li><a href="#usb_bulk_transfer_code_example">USB bulk transfer code example</a></li>
</ul>

</div>
<span class="sidebar_heading" xmlns="http://www.w3.org/1999/xhtml">Important APIs</span>
<div class="sidebar_summary" xmlns="http://www.w3.org/1999/xhtml">
<p>
</p><ul>
<li><strong>UsbBulkInPipe, UsbBulkOutPipe</strong></li>
<li><strong>DataReader, DataWriter</strong></li>
<li><strong>UsbReadOptions, UsbWriteOptions</strong></li>
</ul>

</div>
</div>
<p>In this topic, you'll learn about a USB bulk transfer and how to initiate a transfer request from your Windows Store app that communicates with a USB device.</p>
<p>USB full speed, high speed, and SuperSpeed devices can support bulk endpoints. Those endpoints are used for transferring transfer large amounts of data, such as transferring data to or from a USB flash drive. Bulk transfers are reliable because they allow error detection and involves limited number of retries to make sure the data is received by the host or the device.  Bulk transfers are used for data that is not time critical. Data is transferred only when there is unused bandwidth available on the bus. Therefore, when the bus is busy with other transfers, bulk data can wait indefinitely. </p>
<p>Bulk endpoints are unidirectional and in one transfer, data can be transferred either in an IN or OUT direction. To support reading and writing of bulk data, the device must support bulk IN and bulk OUT endpoints. Bulk IN endpoint is used to read data from the device to the host and bulk OUT endpoint is used to send data from the host to the device. 
</p>
<p>In order to initiate a bulk transfer request, your app must have a reference to the <em>pipe</em> that represents an endpoint. A pipe is a communication channel opened by the device driver when the device is configured. For the app, a pipe is a logical representation of an endpoint. To read data from the endpoint, the app gets data from the associated bulk IN pipe. To write data to the endpoint, the app sends data to the bulk OUT pipe. For bulk read and write pipes, use <a href="windows.devices.usb.usbbulkinpipe-2.html"><strong xmlns="http://www.w3.org/1999/xhtml">UsbBulkInPipe</strong></a> and <a href="windows.devices.usb.usbbulkoutpipe-2.html"><strong xmlns="http://www.w3.org/1999/xhtml">UsbBulkOutPipe</strong></a> classes.</p>
<p>Your app can also modify the behavior of the pipe by setting certain policy flags. For example for a read request, you can set a flag that automatically clears a stall condition on the pipe.  For information about those flags, see <a href="windows.devices.usb.usbreadoptions-2.html"><strong xmlns="http://www.w3.org/1999/xhtml">UsbReadOptions</strong></a> and <a href="windows.devices.usb.usbwriteoptions-2.html"><strong xmlns="http://www.w3.org/1999/xhtml">UsbWriteOptions</strong></a>.</p>
<p></p>
<h2><a id="Before_you_start..."></a><a id="before_you_start..."></a><a id="BEFORE_YOU_START..."></a>Before you start...</h2>
<p>
</p><ul>
<li>You have must opened the device and obtained the <a href="windows.devices.usb.usbdevice-2.html"><strong xmlns="http://www.w3.org/1999/xhtml">UsbDevice</strong></a> object. Read <a href="dn303343(v%3dvs.85)-2.html">How to connect to a USB device (Windows Store App)</a>.</li>
<li>You can see the complete code shown in this topic in the CustomUsbDeviceAccess sample, Scenario4_BulkPipes files.</li>
</ul>

<h2><a id="Step_1__Get_the_bulk_pipe_object"></a><a id="step_1__get_the_bulk_pipe_object"></a><a id="STEP_1__GET_THE_BULK_PIPE_OBJECT"></a>Step 1: Get the bulk pipe object</h2>
<p>To initiate a transfer request, you must obtain a reference to the bulk pipe object (<a href="windows.devices.usb.usbbulkoutpipe-2.html"><strong xmlns="http://www.w3.org/1999/xhtml">UsbBulkOutPipe</strong></a> or <a href="windows.devices.usb.usbbulkinpipe-2.html"><strong xmlns="http://www.w3.org/1999/xhtml">UsbBulkInPipe</strong></a>). You can get pipes by enumerating all settings of all interfaces. However, for data transfers you must only  use pipes of an active setting. If the pipe object is null if the associated endpoint is not in the active setting.</p>
<table>
<tr><th>If you want to...</th><th>Use this property value</th></tr>
<tr><td rowspan="4">Send data to a bulk pipe, obtain a reference to <a href="windows.devices.usb.usbbulkoutpipe-2.html"><strong xmlns="http://www.w3.org/1999/xhtml">UsbBulkOutPipe</strong></a>.  </td><td>
<a href="windows.devices.usb.usbinterface.bulkoutpipes-2.html"><strong xmlns="http://www.w3.org/1999/xhtml">UsbDevice.DefaultInterface.BulkOutPipes[n]</strong></a> if your device configuration exposes one USB interface.</td></tr>
<tr><td>
<a href="windows.devices.usb.usbinterface.bulkoutpipes-2.html"><strong xmlns="http://www.w3.org/1999/xhtml">UsbDevice.Configuration.UsbInterfaces[m].BulkOutPipes[n]</strong></a> for enumerating bulk OUT pipes in multiple interfaces supported by the device.</td></tr>
<tr><td>
<a href="windows.devices.usb.usbinterruptoutendpointdescriptor.pipe-2.html"><strong xmlns="http://www.w3.org/1999/xhtml">UsbInterface.InterfaceSettings[m].BulkOutEndpoints [n].Pipe</strong></a> for enumerating bulk OUT pipes defined by settings in an interface. </td></tr>
<tr><td>
<a href="windows.devices.usb.usbinterruptoutendpointdescriptor.pipe-2.html"><strong xmlns="http://www.w3.org/1999/xhtml">UsbEndpointDescriptor.AsBulkOutEndpointDescriptor.Pipe</strong></a> for getting the pipe object from the endpoint descriptor for the bulk OUT endpoint.</td></tr>
<tr><td rowspan="4">Receive data from a bulk pipe, you can obtain the <a href="windows.devices.usb.usbbulkinpipe-2.html"><strong xmlns="http://www.w3.org/1999/xhtml">UsbBulkInPipe</strong></a> object</td><td>
<a href="windows.devices.usb.usbinterface.bulkinpipes-2.html"><strong xmlns="http://www.w3.org/1999/xhtml">UsbDevice.DefaultInterface.BulkInPipes[n]</strong></a> if your device configuration exposes one USB interface.</td></tr>
<tr><td>
<a href="windows.devices.usb.usbinterface.bulkinpipes-2.html"><strong xmlns="http://www.w3.org/1999/xhtml">UsbDevice.Configuration.UsbInterfaces[m].BulkInPipes[n]</strong></a> for enumerating bulk IN pipes in multiple interfaces supported by the device.</td></tr>
<tr><td>
<a href="windows.devices.usb.usbbulkinendpointdescriptor.pipe-2.html"><strong xmlns="http://www.w3.org/1999/xhtml">UsbInterface.InterfaceSettings[m].BulkInEndpoints [n].Pipe</strong></a> for enumerating bulk IN pipes defined by settings in an interface. </td></tr>
<tr><td>
<a href="windows.devices.usb.usbbulkinendpointdescriptor.pipe-2.html"><strong xmlns="http://www.w3.org/1999/xhtml">UsbEndpointDescriptor.AsBulkInEndpointDescriptor.Pipe</strong></a> for getting the pipe object from the endpoint descriptor for the bulk IN endpoint.</td></tr>
</table>
<p> </p>
<p>Note: should be in the active setting or requires a null check. </p>
<h2><a id="Step_2__Configure_the_bulk_pipe__Optional_"></a><a id="step_2__configure_the_bulk_pipe__optional_"></a><a id="STEP_2__CONFIGURE_THE_BULK_PIPE__OPTIONAL_"></a>Step 2: Configure the bulk pipe (Optional)</h2>
<p>You can modify the behavior of the read or write operation by setting certain flags on the retrieved bulk pipe. </p>
<p>For reading from the device, set the <a href="windows.devices.usb.usbbulkinpipe.readoptions-2.html"><strong xmlns="http://www.w3.org/1999/xhtml">UsbBulkInPipe.ReadOptions</strong></a> property to one of values defined in <a href="windows.devices.usb.usbreadoptions-2.html"><strong xmlns="http://www.w3.org/1999/xhtml">UsbReadOptions</strong></a>. In the case of writing, set the <a href="windows.devices.usb.usbbulkoutpipe.writeoptions-2.html"><strong xmlns="http://www.w3.org/1999/xhtml">UsbBulkOutPipe.WriteOptions</strong></a> property to one of values defined in <strong>UsbWriteOptions</strong>.</p><table>
<tr><th>If you want to...</th><th>Set this flag</th></tr>
<tr><td>
<p>Automatically clear any error condition on the endpoint without stopping  data flow</p>
</td><td><strong>AutoClearStall</strong><p>For more information, see <a href="#stall">Clearing stall conditions</a>. This flag applies to both read and write transfers.</p>
</td></tr>
<tr><td>
<p>Send multiple read requests with maximum efficiency. Boost performance by bypassing error checking.</p>
</td><td><strong>OverrideAutomaticBufferManagement</strong><p>A data request can be divided into one or more transfers, where each transfer contains a certain number of bytes called the <em>maximum transfer size</em>. For multiple transfers, there might be delay in queuing two transfers due to error checking performed by the driver. This flag bypasses that error checking. To get the maximum transfer size, use the <a href="windows.devices.usb.usbbulkinpipe.maxtransfersizebytes-2.html"><strong xmlns="http://www.w3.org/1999/xhtml">UsbBulkInPipe.MaxTransferSizeBytes</strong></a> property. If your request size is <strong>UsbBulkInPipe.MaxTransferSizeBytes</strong>, you must set this flag. Note: </p>
<p>
</p><p class="note"><strong>Important</strong>  </p><p class="note">If you set this flag, then you must request data in multiples of the pipe's maximum packet size. That information is stored in the endpoint descriptor. The size depends on the bus speed of the device. For full speed, high speed, and SuperSpeed; the maximum packet sizes are 64, 512, and 1024 bytes respectively. To obtain that value, use the <a href="windows.devices.usb.usbbulkinendpointdescriptor.maxpacketsize-2.html"><strong xmlns="http://www.w3.org/1999/xhtml">UsbBulkInPipe.EndpointDescriptor.MaxPacketSize</strong></a> property.</p>
This flag only applies to read transfers.
</td></tr>
<tr><td>
<p>Terminate a write request with a zero-length packet</p>
</td><td><strong>ShortPacketTerminate</strong><p>Sends a zero length packet to indicate the end of an OUT transfer.This flag only applies to write transfers.</p>
</td></tr>
<tr><td>
<p>Disable reading short packets (less than maximum packet size supported by the endpoint)</p>
</td><td><strong>IgnoreShortPacket</strong><p>By default, if the device sends bytes less than the maximum packet size, the app receives them. If you do not want to receive short packets, set this flag.</p>
<p>This flag only applies to read transfers.</p>
</td></tr>
</table>
<p> </p>

<h2><a id="Step_3__Set_up_the_data_stream"></a><a id="step_3__set_up_the_data_stream"></a><a id="STEP_3__SET_UP_THE_DATA_STREAM"></a>Step 3: Set up the data stream</h2>
<p>When bulk data is sent by the device, the data is received as in input stream on the bulk pipe. Here are the steps for getting the input stream:</p>
<ol>
<li>Obtain a reference to the input stream by getting the <a href="windows.devices.usb.usbbulkinpipe.inputstream-2.html"><strong xmlns="http://www.w3.org/1999/xhtml">UsbBulkInPipe.InputStream</strong></a> property. </li>
<li>Create a <a href="windows.storage.streams.datareader-2.html"><strong xmlns="http://www.w3.org/1999/xhtml">DataReader</strong></a> object by specifying the input stream in the <a href="windows.storage.streams.datareader.datareader-2.html"><strong xmlns="http://www.w3.org/1999/xhtml">DataReader constructor</strong></a>.</li>
</ol>
<p>To write data to the device, the app must write to an output stream on the bulk pipe. Here are the steps for preparing the output stream:</p>
<ol>
<li>Obtain a reference to the output stream by getting the <a href="windows.devices.usb.usbbulkoutpipe.outputstream-2.html"><strong xmlns="http://www.w3.org/1999/xhtml">UsbBulkOutPipe.OutputStream</strong></a> property.</li>
<li>Create a <a href="windows.storage.streams.datawriter-2.html"><strong xmlns="http://www.w3.org/1999/xhtml">DataWriter</strong></a> object by specifying the output stream in the <a href="br208167-2.html"><strong xmlns="http://www.w3.org/1999/xhtml">DataWriter</strong></a> constructor.</li>
<li>Populate the data buffer associated with the output stream.</li>
<li>Depending on the datatype, write transfer data to the output stream by calling <a href="br208167-2.html"><strong xmlns="http://www.w3.org/1999/xhtml">DataWriter methods</strong></a>, such as <a href="windows.storage.streams.datawriter.writebytes-2.html"><strong xmlns="http://www.w3.org/1999/xhtml">WriteBytes</strong></a>.</li>
</ol>
<h2><a id="Step_4__Start_an_asynchronous_transfer_operation"></a><a id="step_4__start_an_asynchronous_transfer_operation"></a><a id="STEP_4__START_AN_ASYNCHRONOUS_TRANSFER_OPERATION"></a>Step 4: Start an asynchronous transfer operation</h2>
<p>Bulk transfers are initiated through asynchronous operations. </p>
<p>To read bulk data, start an asynchronous read operation by calling <a href="windows.storage.streams.datareader.loadasync-2.html"><strong xmlns="http://www.w3.org/1999/xhtml">DataReader.LoadAsync</strong></a>.</p>
<p>To write bulk data, start an asynchronous write operation by calling <a href="windows.storage.streams.datawriter.storeasync-2.html"><strong xmlns="http://www.w3.org/1999/xhtml">DataWriter.StoreAsync</strong></a>.</p>
<h2><a id="Step_5__Get_results_of_the_read_transfer_operation"></a><a id="step_5__get_results_of_the_read_transfer_operation"></a><a id="STEP_5__GET_RESULTS_OF_THE_READ_TRANSFER_OPERATION"></a>Step 5: Get results of the read transfer operation</h2>
<p>After the asynchronous data operation is complete, you can get the number of bytes read or written from the task object. For a read operation, call <a href="windows.storage.streams.datareader-2.html"><strong xmlns="http://www.w3.org/1999/xhtml">DataReader methods</strong></a>, such as <a href="windows.storage.streams.datareader.readbytes-2.html"><strong xmlns="http://www.w3.org/1999/xhtml">ReadBytes</strong></a>, to read data from the input stream. </p>
<h2><a id="stall"></a><a id="STALL"></a>Clearing stall conditions</h2>
<p>At times, the app might experience failed data transfers. A failed transfer can be due to a stall condition on the endpoint. As long as the endpoint is stalled, data cannot be written to or read from it. In order to proceed with data transfers, the app must clear the stall condition on the associated pipe. </p>
<p>Your app can configure the pipe to automatically clear stall conditions, when they occur. To do so, set the  <a href="windows.devices.usb.usbbulkinpipe.readoptions-2.html"><strong xmlns="http://www.w3.org/1999/xhtml">UsbBulkInPipe.ReadOptions</strong></a> property to <strong>UsbReadOptions.AutoClearStall</strong> or <a href="windows.devices.usb.usbbulkoutpipe.writeoptions-2.html"><strong xmlns="http://www.w3.org/1999/xhtml">UsbBulkOutPipe.WriteOptions</strong></a> property to <strong>UsbWriteOptions.AutoClearStall</strong>. With that automatic configuration, the app does not experience failed transfers and the data transfer experience is seamless.</p>
<p>To clear a stall condition manually, call <a href="windows.devices.usb.usbinterruptinpipe.clearstallasync-2.html"><strong xmlns="http://www.w3.org/1999/xhtml">UsbBulkInPipe.ClearStallAsync</strong></a> for a bulk IN pipe; call <a href="windows.devices.usb.usbbulkoutpipe.clearstallasync-2.html"><strong xmlns="http://www.w3.org/1999/xhtml">UsbBulkOutPipe.ClearStallAsync</strong></a> for a bulk OUT pipe.</p>
<p class="note"><strong>Note</strong>  A stall condition does not indicate an empty endpoint. If there is no data in the endpoint, the transfer completes but length is zero bytes.</p>
<p>For read operations, you might need to clear pending data in the pipe before starting a new transfer request. To do so, call <a href="ff551975(v%3dvs.85)-2.html"><strong xmlns="http://www.w3.org/1999/xhtml">UsbBulkInPipe.FlushBuffer</strong></a> method.</p>
<h2><a id="USB_bulk_transfer_code_example"></a><a id="usb_bulk_transfer_code_example"></a><a id="USB_BULK_TRANSFER_CODE_EXAMPLE"></a>USB bulk transfer code example</h2>
<p>This code example shows how to write to a bulk pipe. The example sends data to the first bulk OUT pipe on the default interface. It configures the pipe to send a zero-length packet at the end of the transfer. When the transfer is complete, number of bytes are shown.</p>

<div id="code-snippet-1" class="codeSnippetContainer" xmlns="">
    <div class="codeSnippetContainerTabs">
        <div class="codeSnippetContainerTabSingle" dir="ltr"><a>C#</a></div>
    </div>
    <div class="codeSnippetContainerCodeContainer">
        <div class="codeSnippetToolBar">
            <div class="codeSnippetToolBarText">
                <a name="CodeSnippetCopyLink" style="display: none;" title="Copy to clipboard." href="javascript:if (window.epx.codeSnippet)window.epx.codeSnippet.copyCode('CodeSnippetContainerCode_71d38366-b335-48d5-b7f7-6fd977be9a73');">Copy</a>
            </div>
        </div>
        <div id="CodeSnippetContainerCode_71d38366-b335-48d5-b7f7-6fd977be9a73" class="codeSnippetContainerCode" dir="ltr">
            <div style="color:Black;"><pre>

    <span style="color:Blue;">private</span> <span style="color:Blue;">async</span> <span style="color:Blue;">void</span> BulkWrite()
    {
        String dataBuffer = <span style="color:#A31515;">"Hello World!"</span>;
        UInt32 bytesWritten = 0;

        UsbBulkOutPipe writePipe = usbDevice.DefaultInterface.BulkOutPipes[0];
        writePipe.WriteOptions |= UsbWriteOptions.ShortPacketTerminate;

        <span style="color:Blue;">var</span> stream = writePipe.OutputStream;

        DataWriter writer = <span style="color:Blue;">new</span> DataWriter(stream);
       
        writer.WriteString(dataBuffer);

        <span style="color:Blue;">try</span>
        {
            bytesWritten = <span style="color:Blue;">await</span> writer.StoreAsync();
        }
        <span style="color:Blue;">catch</span> (Exception exception)
        {
            ShowStatus(exception.Message.ToString());
        }
        <span style="color:Blue;">finally</span>
        {
            ShowStatus(<span style="color:#A31515;">"Data written: "</span> + bytesWritten + <span style="color:#A31515;">" bytes."</span>);
        }
    }



</pre></div>
            
        </div>
    </div>
</div>

<p>This code example shows how to read from a bulk pipe. The example retrieves data from the first bulk IN pipe on the default interface. It configures the pipe to for maximum efficiency and receives data in chunks of maximum packet size. When the transfer is complete, number of bytes are shown.</p>

<div id="code-snippet-2" class="codeSnippetContainer" xmlns="">
    <div class="codeSnippetContainerTabs">
        <div class="codeSnippetContainerTabSingle" dir="ltr"><a>C#</a></div>
    </div>
    <div class="codeSnippetContainerCodeContainer">
        <div class="codeSnippetToolBar">
            <div class="codeSnippetToolBarText">
                <a name="CodeSnippetCopyLink" style="display: none;" title="Copy to clipboard." href="javascript:if (window.epx.codeSnippet)window.epx.codeSnippet.copyCode('CodeSnippetContainerCode_50245f0e-0d44-415b-a76e-59b85ddd04b7');">Copy</a>
            </div>
        </div>
        <div id="CodeSnippetContainerCode_50245f0e-0d44-415b-a76e-59b85ddd04b7" class="codeSnippetContainerCode" dir="ltr">
            <div style="color:Black;"><pre>


    <span style="color:Blue;">private</span> <span style="color:Blue;">async</span> <span style="color:Blue;">void</span> BulkRead()
    {
        UInt32 bytesRead = 0;
        
        UsbBulkInPipe readPipe = usbDevice.DefaultInterface.BulkInPipes[0];
        readPipe.ReadOptions |= UsbReadOptions.IgnoreShortPacket;
        
        <span style="color:Blue;">var</span> stream = readPipe.InputStream;
        DataReader reader = <span style="color:Blue;">new</span> DataReader(stream);

        <span style="color:Blue;">try</span>
        {
            bytesRead = <span style="color:Blue;">await</span> reader.LoadAsync(readPipe.EndpointDescriptor.MaxPacketSize);
        }
        <span style="color:Blue;">catch</span> (Exception exception)
        {
            ShowStatus(exception.Message.ToString());
        }
        <span style="color:Blue;">finally</span>
        {
            ShowStatus(<span style="color:#A31515;">"Number of bytes: "</span> + bytesRead);

            IBuffer buffer = reader.ReadBuffer(bytesRead);

            ShowData (buffer.ToString());

        }
    }


</pre></div>
            
        </div>
    </div>
</div>

<p> </p>
<p> </p>
<p><a href="mailto:wsddocfb@microsoft.com?subject=Documentation%20feedback [usbcon\buses]:%20How to send a USB bulk transfer request (Windows Store app)%20 RELEASE:%20(2/20/2014)&amp;body=%0A%0APRIVACY STATEMENT%0A%0AWe use your feedback to improve the documentation. We don't use your email address for any other purpose, and we'll remove your email address from our system after the issue that you're reporting is fixed. While we're working to fix this issue, we might send you an email message to ask for more info. Later, we might also send you an email message to let you know that we've addressed your feedback.%0A%0AFor more info about Microsoft's privacy policy, see http://privacy.microsoft.com/en-us/default.aspx." title="Send comments about this topic to Microsoft">Send comments about this topic to Microsoft</a></p>
</div>
</div>

    




<div class="libraryMemberFilter">
    <div class="filterContainer">
        <span>Show:</span>
        <label>
            <input type="checkbox" class="libraryFilterInherited" checked="checked" value="Inherit" />Inherited
        </label>
        <label>
            <input type="checkbox" class="libraryFilterProtected" checked="checked" value="Protected" />Protected
        </label>
    </div>
</div>
    
<input type="hidden" id="libraryMemberFilterEmptyWarning" value="There are no members available with your current filter settings." />


 
</div>




            </div>
            <div class="clear"></div>
        
            
    
<input name="__RequestVerificationToken" type="hidden" value="hRHssFEffy9p5JtWE9lMPdlMPXKrqrMu8N9upDlca1hs-33Dbg5I30jA7sbHkSJXdlPuCbZnJPeqUL5wxw7jeebKBEEEyoCv-RiDkeXwgqRwpS5u9XqgfC8nWkUT-e6oaRSMrw2" />
<input id="ratingSubmitUrl" type="hidden" value="http://msdn.microsoft.com/en-US/library/feedback/add/dn303346(v=vs.85).aspx" />
<input id="isTopicRated" type="hidden" value="false" />




    


    <div id="ux-footer" class=" ltr">
        
            <div id="footerSock">
                <div id="footerSockInner">
                    <a name="feedback"></a>
                    <div data-fragmentName="Survey" id="Fragment_Survey" xmlns="http://www.w3.org/1999/xhtml">
  <div class="DetailedLink">
    
    <div class="Content"></div>
  </div>
</div>
<div class="rating">
    <div id="ratingSection1">
        <div class="title">
            Was this page helpful?
        </div>
        <div class="description">
            Your feedback about this content is important.<br />Let us know what you think.
        </div>
        <div class="buttons">
            <button id="ratingYes">Yes</button>
            <button id="ratingNo">No</button>
        </div>
        <input id="ratingValue" type="hidden" value="" />
    </div>
    <div id="ratingSection2">
        <div class="title">
            Additional feedback?
        </div>
        <textarea id="ratingText" rows="6" cols=""></textarea>
        <div class="buttons">
            <button id="ratingSubmit">Submit</button>
            <button id="ratingSkipThis">Skip this</button>
        </div>
    </div>
    <div id="ratingSection3">
        <div class="title">
            Thank you!
        </div>
        <div class="description">
            We appreciate your feedback.
        </div>
    </div>
    
    
    <div id="contentFeedbackQAContainer" style="display: none;"></div>
</div>


                    <div data-fragmentName="SockLinks" id="Fragment_SockLinks" xmlns="http://www.w3.org/1999/xhtml">
  
  <div class="LinkList">
    <div class="Links">
      <ul class="LinkColumn" style="width: 100%">
        <li>
          <a href="../../../../../go.microsoft.com/fwlink/p/indexbdd5.html?LinkId=317805" id="SockLinks_727_11" xmlns="http://www.w3.org/1999/xhtml">Find us on Facebook</a>
        </li>
        <li>
          <a href="../../../../../go.microsoft.com/fwlink/p/index00a1.html?LinkId=317806" id="SockLinks_727_12" xmlns="http://www.w3.org/1999/xhtml">Follow us on Twitter</a>
        </li>
        <li>
          <a href="../../../../../go.microsoft.com/fwlink/p/indexbae3.html?linkid=285656" id="SockLinks_727_40" xmlns="http://www.w3.org/1999/xhtml">Read the hardware blog</a>
        </li>
      </ul>
    </div>
  </div>
</div>
                    <div class="clear"></div>
                </div>
            </div>
        <div id="footerContainer">
            <div id="fourColumnFooter">
                <div data-fragmentName="Column1" id="Fragment_Column1" xmlns="http://www.w3.org/1999/xhtml">
  <div class="ListOfLinkLists">
    
    <div class="LinkList" xmlns="http://www.w3.org/1999/xhtml">
      <div class="LinkListTitle">Centers</div>
      <div class="Links">
        <ul class="LinkColumn" style="width: 100%">
          <li>
            <a href="http://msdn.microsoft.com/windows" id="Column1_727_13" xmlns="http://www.w3.org/1999/xhtml">Dev Center Home</a>
          </li>
          <li>
            <a href="http://msdn.microsoft.com/windows/apps" id="Column1_727_14" xmlns="http://www.w3.org/1999/xhtml">Windows Store apps</a>
          </li>
          <li>
            <a href="http://msdn.microsoft.com/ie" id="Column1_727_15" xmlns="http://www.w3.org/1999/xhtml">Internet Explorer</a>
          </li>
          <li>
            <a href="http://msdn.microsoft.com/windows/desktop" id="Column1_727_16" xmlns="http://www.w3.org/1999/xhtml">Desktop</a>
          </li>
          <li>
            <a href="http://msdn.microsoft.com/windows/hardware" id="Column1_727_17" xmlns="http://www.w3.org/1999/xhtml">Hardware</a>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>              
                <div data-fragmentName="Column2" id="Fragment_Column2" xmlns="http://www.w3.org/1999/xhtml">
  <div class="ListOfLinkLists">
    
    <div class="LinkList" xmlns="http://www.w3.org/1999/xhtml">
      <div class="LinkListTitle">Related developer sites</div>
      <div class="Links">
        <ul class="LinkColumn" style="width: 100%">
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=285634" id="Column2_727_18" xmlns="http://www.w3.org/1999/xhtml">Microsoft Connect</a>
          </li>
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=285635" id="Column2_727_19" xmlns="http://www.w3.org/1999/xhtml">OSR Online</a>
          </li>
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=282089" id="Column2_727_42" xmlns="http://www.w3.org/1999/xhtml">Visual Studio</a>
          </li>
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=280293" id="Column2_727_20" xmlns="http://www.w3.org/1999/xhtml">Windows Phone</a>
          </li>
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=282087" id="Column2_727_43" xmlns="http://www.w3.org/1999/xhtml">Windows Server</a>
          </li>
        </ul>
      </div>
    </div>
    
    <div class="LinkList" xmlns="http://www.w3.org/1999/xhtml">
      <div class="LinkListTitle">Other Windows sites</div>
      <div class="Links">
        <ul class="LinkColumn" style="width: 100%">
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=285636" id="Column2_727_21" xmlns="http://www.w3.org/1999/xhtml">Enterprise</a>
          </li>
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=285637" id="Column2_727_22" xmlns="http://www.w3.org/1999/xhtml">Small business</a>
          </li>
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=285638" id="Column2_727_23" xmlns="http://www.w3.org/1999/xhtml">Students</a>
          </li>
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=285639" id="Column2_727_24" xmlns="http://www.w3.org/1999/xhtml">Home users</a>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>              
                <div data-fragmentName="Column3" id="Fragment_Column3" xmlns="http://www.w3.org/1999/xhtml">
  <div class="ListOfLinkLists">
    
    <div class="LinkList" xmlns="http://www.w3.org/1999/xhtml">
      <div class="LinkListTitle">Downloads</div>
      <div class="Links">
        <ul class="LinkColumn" style="width: 100%">
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=285645" id="Column3_727_25" xmlns="http://www.w3.org/1999/xhtml">Windows Driver Kit</a>
          </li>
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=285646" id="Column3_727_26" xmlns="http://www.w3.org/1999/xhtml">Windows Assessment and Deployment Kit</a>
          </li>
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=285647" id="Column3_727_27" xmlns="http://www.w3.org/1999/xhtml">Windows Hardware Certification Kit</a>
          </li>
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?LinkID=316548" id="Column3_727_29" xmlns="http://www.w3.org/1999/xhtml">Visual Studio Professional 2013</a>
          </li>
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=285649" id="Column3_727_30" xmlns="http://www.w3.org/1999/xhtml">More downloads</a>
          </li>
        </ul>
      </div>
    </div>
    
    <div class="LinkList" xmlns="http://www.w3.org/1999/xhtml">
      <div class="LinkListTitle">Support</div>
      <div class="Links">
        <ul class="LinkColumn" style="width: 100%">
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=285664" id="Column3_727_44" xmlns="http://www.w3.org/1999/xhtml">Forums</a>
          </li>
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=285663" id="Column3_727_45" xmlns="http://www.w3.org/1999/xhtml">More support options</a>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>              
                <div data-fragmentName="Column4" id="Fragment_Column4" xmlns="http://www.w3.org/1999/xhtml">
  <div class="ListOfLinkLists">
    
    <div class="LinkList" xmlns="http://www.w3.org/1999/xhtml">
      <div class="LinkListTitle">Essentials</div>
      <div class="Links">
        <ul class="LinkColumn" style="width: 100%">
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=285650" id="Column4_727_46" xmlns="http://www.w3.org/1999/xhtml">Recently published</a>
          </li>
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=285651" id="Column4_727_47" xmlns="http://www.w3.org/1999/xhtml">Debugging</a>
          </li>
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=328186" id="Column4_727_48" xmlns="http://www.w3.org/1999/xhtml">Samples</a>
          </li>
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=285653" id="Column4_727_49" xmlns="http://www.w3.org/1999/xhtml">Hardware dashboard</a>
          </li>
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=317804" id="Column4_727_50" xmlns="http://www.w3.org/1999/xhtml">Partner with Microsoft</a>
          </li>
        </ul>
      </div>
    </div>
    
    <div class="LinkList" xmlns="http://www.w3.org/1999/xhtml">
      <div class="LinkListTitle">Stay connected</div>
      <div class="Links">
        <ul class="LinkColumn" style="width: 100%">
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=285658" id="Column4_727_36" xmlns="http://www.w3.org/1999/xhtml">Microsoft events</a>
          </li>
          <li>
            <a href="http://go.microsoft.com/fwlink/p/?linkid=313299" id="Column4_727_37" xmlns="http://www.w3.org/1999/xhtml">Windows App Builder Blog</a>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>              
            </div>

            <div id="baseFooterLogos">
                <span class="microsoftlogo" title="Microsoft"></span>
                <a href="http://msdn.microsoft.com/en-US" class="msdnlogo" title="MSDN"></a>
            </div>
        
            <div id="baseFooter">
                <div id="FooterCopyright">© 2014 Microsoft</div>
                <div data-fragmentName="BaseFooterContent" id="Fragment_BaseFooterContent" xmlns="http://www.w3.org/1999/xhtml">
  <div xmlns="http://www.w3.org/1999/xhtml">
    <div xmlns:mtps="http://msdn2.microsoft.com/mtps">
      <div data-fragmentName="BaseFooter" id="Fragment_BaseFooter">
        
        <div class="LinkList">
          <div class="Links">
            <ul class="LinkColumn horizontal">
              <li>
                <a href="http://msdn.microsoft.com/windows/apps/cc300389" id="BaseFooter_35351_1" xmlns="http://www.w3.org/1999/xhtml">Terms of Use</a>
              </li>
              <li>
                <a href="http://www.microsoft.com/library/toolbar/3.0/trademarks/en-us.mspx" id="BaseFooter_35351_2" xmlns="http://www.w3.org/1999/xhtml">Trademarks</a>
              </li>
              <li>
                <a href="http://www.microsoft.com/info/privacy.mspx" id="BaseFooter_35351_3" xmlns="http://www.w3.org/1999/xhtml">Privacy and Cookies</a>
              </li>
              <li>
                <a href="http://msdn.microsoft.com/en-US/windows/dn554289" id="BaseFooter_730_5" xmlns="http://www.w3.org/1999/xhtml">Site map</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
      <div data-fragmentName="HelloText" id="Fragment_HelloText">Hello from Seattle.
</div>
    </div>
  </div>
</div>  
                    <form class="selectLocale" id="selectLocaleForm" action="http://msdn.microsoft.com/en-US/windows/hardware/SelectLocale">
        <input type="hidden" name="fromPage" value="http%3a%2f%2fmsdn.microsoft.com%2fen-US%2flibrary%2fwindows%2fhardware%2fdn303346(v%3dvs.85).aspx" />
        <a href="#" onclick="$('#selectLocaleForm').submit();return false;" title="Change your language">United States (English)</a>
    </form>    


                <div class="clear"></div>
            </div>
        </div>
    </div> 


            <div class="footerPrintView">
                <div class="footerCopyrightPrintView">© 2014 Microsoft. All rights reserved.</div>
            </div>

            
            
    


        
            <input id="MtpsDevice" type="hidden" value="Default" />


<![CDATA[ Third party scripts and code linked to or referenced from this website are licensed to you by the parties that own such code, not by Microsoft.  See ASP.NET Ajax CDN Terms of Use – http://www.asp.net/ajaxlibrary/CDN.ashx. ]]>
        
            
            
            
            
            
        





<noscript><div><img alt="DCSIMG" id="Img1" width="1" height="1" src="../../../../../m.webtrends.com/dcsmgru7m99k7mqmgrhudo0k8_8c6m/njsb803.html?dcsuri=/nojavascript&amp;WT.js=No" /></div></noscript>









<noscript>
  <a href="http://www.omniture.com/" title="Web Analytics">
    <img src="http://msstonojsmsdn.112.2o7.net/b/ss/msstonojsmsdn/1/H.20.2--NS/0" height="1" width="1" border="0" alt="" />
  </a>
</noscript>




<div id="globalRequestVerification">
    <input name="__RequestVerificationToken" type="hidden" value="ovQby9-JgzRlZXiWHFsAu61foiLbAj0ysgUPWwd8SJWtbRICuU93zRK_xLIftq1fMJJF7IuE53VkSYtXlN-3AyhHLzzVbJ1R-lfsZfI2pfP89pG9olv5V0GEQ7vGJXK3Cwqq3Q2" />
</div>


        </div>
    <script type="text/javascript" class="mtps-injected">
/*<![CDATA[*/
(function(window,document){"use strict";function preload(scripts){for(var result=[],script,e,i=0;i<scripts.length;i++)script=scripts[i],script.hasOwnProperty("url")&&(e=document.createElement("script"),e.src=script.url,script.throwaway=e),result.push(script);return result}function inject(scripts,index){var script,elem;if(index>=scripts.length){delete mtps.injectScripts;return}script=scripts[index];elem=document.createElement("script");elem.className="mtps-injected";elem.async=!1;var isLoaded=!1,timeoutId=0,injectNextFnName="",injectNext=elem.onerror=function(){isLoaded||(isLoaded=!0,inject(scripts,index+1),window.clearTimeout(timeoutId),elem.onload=elem.onerror=elem.onreadystatechange=null,injectNextFnName&&delete mtps[injectNextFnName],elem.removeEventListener&&elem.removeEventListener("load",injectNext,!1))};elem.addEventListener?elem.addEventListener("load",injectNext,!1):elem.readyState==="uninitialized"?elem.onreadystatechange=function(){(this.readyState==="loaded"||this.readyState==="complete")&&injectNext()}:elem.onload=injectNext;script.hasOwnProperty("url")?(timeoutId=window.setTimeout(injectNext,12e4),elem.src=script.url):(injectNextFnName="_injectNextScript_"+index,mtps[injectNextFnName]=injectNext,timeoutId=window.setTimeout(injectNext,2e3),elem.text="try {\n"+script.txt+"\n} finally { MTPS."+injectNextFnName+" && MTPS."+injectNextFnName+"(); }");parent.appendChild(elem)}var mtps=window.MTPS||(window.MTPS={}),parent=document.getElementsByTagName("head")[0];mtps.injectScripts=function(scripts){inject(preload(scripts),0)}})(window,document);
MTPS.injectScripts([
	{ txt: "/**/\r\n(window.MTPS || (window.MTPS = {})).cdnDomains || (window.MTPS.cdnDomains = { \r\n\t\"image\": \"http://i.msdn.microsoft.com\", \r\n\t\"js\": \"http://i2.msdn.microsoft.com\", \r\n\t\"css\": \"http://i3.msdn.microsoft.com\"\r\n});\r\n/**/" },
	{ url: "http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.8.2.min.js" },
	{ txt: "//\n  var literalNormalizedUrl = \u0027/en-us/library/windows/hardware/dn303346(d=default,l=en-us,v=vs.85).aspx\u0027;\n  var wt_nvr_ru = \u0027WT_NVR_RU\u0027;\n  var wt_fpcdom = \u0027.microsoft.com\u0027;\n  var wt_domlist = \u0027msdn.microsoft.com\u0027;\n  var wt_pathlist = \u0027\u0027;\n  var wt_paramlist = \u0027DCSext.mtps_devcenter\u0027;\n  var wt_siteid = \u0027MSDN\u0027;\n  var gDomain = \u0027m.webtrends.com\u0027;\n  var gDcsId = \u0027dcsmgru7m99k7mqmgrhudo0k8_8c6m\u0027;\n  var gFpc = \u0027WT_FPC\u0027;\n\n\n\n  if (document.cookie.indexOf(gFpc + \"=\") == -1) {\n    var wtidJs = document.createElement(\"script\");\n    wtidJs.src = \"//\" + gDomain + \"/\" + gDcsId + \"/wtid.js\";\n    document.getElementsByTagName(\"head\")[0].appendChild(wtidJs);\n  }\n\n\n\n  var detectedLocale = \u0027en-US\u0027;\n  var wtsp = \u0027_msdn_\u0027;\n  var gTrackEvents = \u00270\u0027;\n/**/" },
	{ txt: "/**/\n  var omni_guid = \"645a906b-5a56-4072-9d1b-ad5b1fb0f5f0\";\n/**/" },
	{ url: "http://i2.msdn.microsoft.com/Combined.js?resources=0:Utilities,0:Topic,1:webtrendsscript,2:omni_rsid_MSDN,3:SearchBox;/Areas/Epx/Content/Scripts:0,/Areas/Global/Content/Webtrends/resources:1,/Areas/Global/Content/Omniture/resources/MSDN:2,/Areas/Epx/Themes/Base/Content:3\u0026amp;hashKey=E93F43E708C4E79B13014A098239D120" },
	{ url: "http://i1.services.social.microsoft.com/search/Widgets/SearchBox.jss?boxid=HeaderSearchTextBox\u0026btnid=HeaderSearchButton\u0026brand=MSDN\u0026loc=en-US\u0026Refinement=182\u0026focusOnInit=false\u0026iroot=windows%2fhardware\u0026emptyWatermark=true\u0026searchButtonTooltip=Search" },
	{ url: "http://i2.msdn.microsoft.com/Combined.js?resources=0:Header,1:Toc,1:LibraryMemberFilter,2:Toc_Fixed,3:Rating,2:CodeSnippet,2:TopicNotInScope,2:CollapsibleArea,2:VersionSelector,2:SurveyBroker;/Areas/Epx/Themes/Windows/Content:0,/Areas/Library/Content:1,/Areas/Epx/Content/Scripts:2,/Areas/Epx/Themes/Base/Content:3\u0026amp;hashKey=2738C0CC18843CA9EAD45D501FB8031F" },
	{ txt: "$(document).ready(function() {\n        try {\n            var token = $(\"#globalRequestVerification input[name=\u0027__RequestVerificationToken\u0027]\").clone();\n            $(\"#siteFeedbackForm\").append(token);\n        } catch(err) {\n            \n        }\n    });" }
]);

/*]]>*/
</script></body>

<!-- Mirrored from msdn.microsoft.com/en-US/library/windows/hardware/dn303346(v=vs.85).aspx by HTTrack Website Copier/3.x [XR&CO'2013], Mon, 17 Mar 2014 16:56:34 GMT -->
</html>